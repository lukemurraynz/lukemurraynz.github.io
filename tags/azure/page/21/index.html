<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">187 posts tagged with &quot;Azure&quot; | luke.geek.nz</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://luke.geek.nz/img/social-card.png"><meta data-rh="true" name="twitter:image" content="https://luke.geek.nz/img/social-card.png"><meta data-rh="true" property="og:url" content="https://luke.geek.nz/tags/azure/page/21/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="187 posts tagged with &quot;Azure&quot; | luke.geek.nz"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://luke.geek.nz/tags/azure/page/21/"><link data-rh="true" rel="alternate" href="https://luke.geek.nz/tags/azure/page/21/" hreflang="en"><link data-rh="true" rel="alternate" href="https://luke.geek.nz/tags/azure/page/21/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://ZBH2T1WJQD-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/rss.xml" title="luke.geek.nz RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="luke.geek.nz Atom Feed">
<link rel="alternate" type="application/json" href="/feed.json" title="luke.geek.nz JSON Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-0QDLBY7NNN"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-0QDLBY7NNN",{anonymize_ip:!0})</script>






<meta property="og:type" content="website">
<meta property="og:site_name" content="luke.geek.nz">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@lukemurraynz">
<meta name="twitter:creator" content="@lukemurraynz">
<meta name="author" content="Luke Murray">
<meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
<script type="application/ld+json">{"@context":"https://schema.org","@type":"WebSite","name":"luke.geek.nz","description":"Microsoft MVP - Microsoft Azure ☁, Technical Consultant, Azure Solutions Architect Expert, Technologist and a drinker of coffee.","url":"https://luke.geek.nz","author":{"@type":"Person","name":"Luke Murray","url":"https://luke.geek.nz/about","sameAs":["https://twitter.com/lukemurraynz","https://www.linkedin.com/in/ljmurray/","https://aus.social/@lukemurray","https://bsky.app/profile/lukemurraynz.bsky.social"]},"publisher":{"@type":"Person","name":"Luke Murray"},"potentialAction":{"@type":"SearchAction","target":"https://luke.geek.nz/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script><link rel="stylesheet" href="/assets/css/styles.dd27eb3d.css">
<script src="/assets/js/runtime~main.bd3e8437.js" defer="defer"></script>
<script src="/assets/js/main.ad0a1130.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="dark";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="theme-announcement-bar announcementBar_mb4j" style="background-color:#D3D3D3" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">If you haven't already, sign up for my Weekly Azure updates Newsletter, straight to your inbox! <a target="_blank" rel="noopener noreferrer" href="https://newsletter.azurefeeds.com/join">Subscribe now!</a></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="luke.geek.nz" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.png" alt="luke.geek.nz" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">luke.geek.nz</b></a><a class="navbar__item navbar__link" href="/tags/">Tags</a><a class="navbar__item navbar__link" href="/archive/">Blog</a><a class="navbar__item navbar__link" href="/about/">About</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://www.youtube.com/channel/UCUG3TKDTAZz4UXshGrjBBoQ" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-icon" aria-label="YouTube">
              <svg width="24" height="24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path d="M23.498,6.186c-0.273-1.186-1.143-2.144-2.332-2.417C18.389,3.153,12,3.153,12,3.153s-6.389,0-9.166,0.616
                  c-1.19,0.273-2.06,1.23-2.332,2.417C0,8.07,0,12,0,12s0,3.93,0.502,5.814c0.272,1.187,1.142,2.062,2.332,2.335
                  C5.611,20.847,12,20.847,12,20.847s6.389,0,9.166-0.698c1.189-0.273,2.059-1.148,2.332-2.335C24,15.93,24,12,24,12
                  S24,8.07,23.498,6.186z M9.545,15.568V8.432l6.545,3.568L9.545,15.568z"/>
              </svg>
            </a><a href="https://aus.social/@lukemurray" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-icon" aria-label="Mastodon">
              <svg height="20" width="20" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" xml:space="preserve">
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                  <path d="M21.327 8.566c0-4.339-2.843-5.61-2.843-5.61-1.433-.658-3.894-.935-6.451-.956h-.063c-2.557.021-5.016.298-6.45.956 0 0-2.843 1.272-2.843 5.61 0 .993-.019 2.181.012 3.441.103 4.243.778 8.425 4.701 9.463 1.809.479 3.362.579 4.612.510 2.268-.126 3.541-.809 3.541-.809l-.075-1.646s-1.621.511-3.441.449c-1.804-.062-3.707-.194-3.999-2.409a4.523 4.523 0 0 1-.04-.621s1.77.433 4.014.536c1.372.063 2.658-.08 3.965-.236 2.506-.299 4.688-1.843 4.962-3.254.434-2.223.398-5.424.398-5.424zm-3.353 5.59h-2.081V9.057c0-1.075-.452-1.62-1.357-1.62-1 0-1.501.647-1.501 1.927v2.791h-2.069V9.364c0-1.28-.501-1.927-1.502-1.927-.905 0-1.357.546-1.357 1.62v5.099H6.026V8.903c0-1.074.273-1.927.823-2.558.566-.631 1.307-.955 2.228-.955 1.065 0 1.872.409 2.405 1.228l.518.869.519-.869c.533-.819 1.34-1.228 2.405-1.228.92 0 1.662.324 2.228.955.549.631.822 1.484.822 2.558v5.253z"></path>
                </g>
              </svg>
            </a><a href="https://bsky.app/profile/lukemurraynz.bsky.social" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-icon" aria-label="Bluesky">
              <svg class="octicon" xmlns="http://www.w3.org/2000/svg" role="img" viewBox="0 0 16 16" height="20" width="20" fill="currentColor">
                <title>Bluesky</title>
                <path d="M8 7.2c-.72-1.4-2.7-4.04-4.53-5.33C1.7.63 1.04.84.6 1.04.1 1.27 0 2.05 0 2.51c0 .46.25 3.77.42 4.32.54 1.82 2.47 2.45 4.25 2.25-2.6.38-4.92 1.33-1.88 4.71 3.33 3.46 4.57-.74 5.21-2.87.64 2.13 1.37 6.18 5.16 2.87 2.84-2.87.78-4.33-1.83-4.71 1.78.2 3.71-.43 4.25-2.25.17-.55.42-3.86.42-4.32 0-.46-.09-1.24-.6-1.47-.44-.2-1.11-.42-2.87.83A17.87 17.87 0 0 0 8 7.2Z"></path>
              </svg>
            </a><a href="https://twitter.com/lukemurraynz" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-icon" aria-label="X"><svg height="20" width="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M10 8.586l4.293-4.293a1 1 0 011.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 011.414-1.414L10 8.586z" clip-rule="evenodd"/>
          </svg></a><a href="https://www.linkedin.com/in/ljmurray/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-icon" aria-label="LinkedIn"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"></path></svg></a><a href="https://luke.geek.nz/rss" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-rss-link" aria-label="RSS"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><div role="group"><h3 class="yearGroupHeading_rMGB">2025</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/azure/akahu-mcp-apim/">Expose Akahu APIs via Azure API Management MCP Server</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/azure/container-apps-vnc-dosbox/">Azure Container Apps with VNC and DOSBox</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/azure/partner-admin-link-tool/">Bulk Link Partner Admin Link (PAL) to Azure Tenants</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/azure/microsoft-learn-contributor-chatmode/">Microsoft Learn Contributor Chatmode</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/azure/service-groups-terraform-azapi/">Deploying Azure Service Groups with Terraform AzAPI</a></li></ul></div></nav></aside><main class="col col--7"><header class="margin-bottom--xl"><h1>187 posts tagged with &quot;Azure&quot;</h1><a href="/tags/">View All Tags</a></header><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/azure/create-azure-bastion-with-shareable-link-support-with-powershell/">Create Azure Bastion with Shareable Link support with PowerShell</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-03-16T00:00:00.000Z">March 16, 2023</time> · <!-- -->9 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://luke.geek.nz" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://luke.geek.nz/img/logo.png" alt="Luke Murray"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://luke.geek.nz" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Luke Murray</span></a></div><small class="authorTitle_nd0D" title="Author">Author</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p><a href="https://learn.microsoft.com/en-us/azure/bastion/bastion-overview?WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer" title="What is Azure Bastion?">Azure Bastion</a> is a service you deploy that lets you connect to a virtual machine using your browser and the Azure portal or via the native SSH or RDP client installed on your local computer.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h4>
<blockquote>
<p>The Azure Bastion service is a fully platform-managed PaaS service you provision inside your virtual network. It provides secure and seamless RDP/SSH connectivity to your virtual machines directly from the Azure portal over TLS.</p>
</blockquote>
<p>Because of this, if you don&#x27;t have line-of-sight access to your Virtual Machines (<em>via express route, Site-to-Site VPN etc.)</em>, Bastion becomes your jump box, allowing secure access to your virtual machines without needing a public IP.</p>
<p>There is a downside, though. To connect to a Virtual Machine secured by Bastion, you need access to the Azure Portal, or command line connectivity to Azure, to create the tunnel; this means that you may need to grant people elevated rights and access they may not need to connect.</p>
<p>As of November 2022, Microsoft introduced shareable links into public preview, solving two key pain points:</p>
<ul>
<li>Administrators will no longer have to provide full access to their Azure accounts to one-time VM users—helping to maintain their privacy and security.</li>
<li>Users without Azure subscriptions can seamlessly connect to VMs without exposing RDP/SSH ports to the public internet.</li>
</ul>
<blockquote>
<p>The Bastion <strong>Shareable Link</strong> feature lets users connect to a target resource (virtual machine or virtual machine scale set) using Azure Bastion without accessing the Azure portal.</p>
</blockquote>
<p>At the time of this writing, there are some <a href="https://learn.microsoft.com/en-us/azure/bastion/shareable-link?WT.mc_id=AZ-MVP-5004796#considerations" target="_blank" rel="noopener noreferrer" title="Create a shareable link for Bastion">scenarios</a> where shareable links won&#x27;t work - particularly across Network peering across subscriptions and regions.</p>
<p>Because the service is in Public Preview - native PowerShell cmdlet support, enabling and configuring this feature isn&#x27;t available - but you can easily allow it via the <a href="https://learn.microsoft.com/en-us/azure/bastion/shareable-link?WT.mc_id=AZ-MVP-5004796#enable-shareable-link-feature" target="_blank" rel="noopener noreferrer" title="Enable Shareable Link feature">Azure Portal</a>.</p>
<p><img decoding="async" loading="lazy" alt="Create Azure Bastion with Shareable Link Support" src="/assets/images/azurebastion_shareablelinkheader-04f37669be8563ef51a6f9d7b1836a05.png" title="Create Azure Bastion with Shareable Link Support" width="1080" height="1080" class="img_ev3q"></p>
<p>To get around that, we will leverage the <a href="https://learn.microsoft.com/rest/api/azure/?WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer" title="Azure REST API reference">Azure Rest API</a> directly, using PowerShell to enable the Shareable Link feature and create and obtain a shareable link for a Virtual Machine.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="create-azure-bastion">Create Azure Bastion<a href="#create-azure-bastion" class="hash-link" aria-label="Direct link to Create Azure Bastion" title="Direct link to Create Azure Bastion">​</a></h4>
<p>I will assume there is already an Azure Virtual Network created; if not, you can follow the <a href="https://learn.microsoft.com/azure/virtual-network/quick-create-portal?WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer" title="Quickstart: Create a virtual network using the Azure portal">Microsoft documentation</a> to get it up and running!</p>
<p>Also, make sure you have the <a href="https://learn.microsoft.com/powershell/azure/new-azureps-module-az?view=azps-9.5.0&amp;WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer" title="Introducing the Azure Az PowerShell module">Az Module</a> installed.</p>
<p>The PowerShell function we will run will require a few parameters to create the Azure Bastion resource and enable Shared Link functionality; these parameters are:</p>





































<table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>Parameters</td><td>Note</td></tr><tr><td>RGName</td><td>The Resource Group of your Virtual Network</td></tr><tr><td>VNetName</td><td>The Virtual Network name</td></tr><tr><td>addressPrefix</td><td>The address prefix for your new Bastion subnet. For Azure Bastion resources deployed on or after November 2, 2021, the minimum AzureBastionSubnet size is /26 or larger (/25, /24, etc.).</td></tr><tr><td>region</td><td>The region, that Azure Bastion is deployed into (this needs to match your Virtual Network)</td></tr><tr><td>BastionPubIPName</td><td>The name of the Public IP, used by the Azure Bastion resource (this is the Azure resource name, it doesn&#x27;t have an external DNS alias, so doesn&#x27;t need to be globally unique)</td></tr><tr><td>BastionResourceName</td><td>The name of your Azure Bastion resource</td></tr></tbody></table>
<ol>
<li>
<p>Copy the script below into a file named: New-AzBastionSharedLinkEnabled.ps1</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">function New-AzBastionSharedLinkEnabled {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      .SYNOPSIS</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Creates an Azure Bastion resource with shared link enabled, on an already existing Azure Virtual Network.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    #&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [CmdletBinding()]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    param</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    (</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      [Parameter(Mandatory = $false, Position = 0)]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      [System.String]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      $RGName = &quot;BastionTest&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      [Parameter(Mandatory = $false, Position = 1)]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      [System.String]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      $VNetName = &#x27;vnet-aue-dev&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      [Parameter(Mandatory = $false, Position = 2)]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      [System.String]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      $addressPrefix = &#x27;10.2.1.0/26&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      [Parameter(Mandatory = $false, Position = 3)]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      [System.String]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      $region = &#x27;AustraliaEast&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      [Parameter(Mandatory = $false, Position = 4)]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      [System.String]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      $BastionPubIPName = &#x27;VNet1-ip&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      [Parameter(Mandatory = $false, Position = 5)]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      [Object]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      $BastionResourceName = &quot;$VNetName-bastion&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    )</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # Set variable values for Resource Group name, Virtual Network name, address prefix, region, and bastion-related resources.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # Connect to Azure using Get-AzAccount cmdlet.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Connect-AzAccount</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # Use Get-AzSubscription cmdlet to get all the subscriptions that the account has access to and allow the user to choose one using Out-GridView.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Get-AzSubscription | Out-GridView -PassThru | Select-AzSubscription</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $token = (Get-AzAccessToken).Token</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $subscription = Get-AzContext | Select-Object Subscription</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # Use Get-AzVirtualNetwork cmdlet to get the virtual network object and then use Add-AzVirtualNetworkSubnetConfig cmdlet to create a new subnet for Azure Bastion service. Finally, use Set-AzVirtualNetwork cmdlet to update the virtual network configuration.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $VNET = Get-AzVirtualNetwork -ResourceGroupName $RGName -Name $VNetName </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Add-AzVirtualNetworkSubnetConfig -VirtualNetwork $VNET -Name &quot;AzureBastionSubnet&quot; -AddressPrefix $addressPrefix | Set-AzVirtualNetwork</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $VNET = Get-AzVirtualNetwork -ResourceGroupName $RGName -Name $VNetName </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # Note: If there is an error message, it could indicate that the address prefix for the new subnet overlaps with existing address ranges or is too small.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # Use New-AzPublicIpAddress cmdlet to create a new public IP address resource for the Bastion service.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $publicip = New-AzPublicIpAddress -ResourceGroupName $RGName -name $BastionPubIPName -location $region -AllocationMethod Static -Sku Standard</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $publicip = Get-AzPublicIpAddress -ResourceGroupName $RGName -Name $BastionPubIPName</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # Use New-AzBastion cmdlet to create a new Azure Bastion resource with the specified configuration, including the virtual network and public IP address resources created earlier.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    New-AzBastion -ResourceGroupName $RGName -Name $BastionResourceName -PublicIpAddressRgName $publicip.ResourceGroupName -PublicIpAddressName $publicip.Name  -VirtualNetwork $VNET -Sku &#x27;Standard&#x27; </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    #Enable Shareable links for VMs in Azure Bastion.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $BastionSubnet = Get-AzVirtualNetworkSubnetConfig -Name &#x27;AzureBastionSubnet&#x27; -VirtualNetwork $VNET</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $Body = [PSCustomObject]@{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      location   = $region</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      properties = @{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        enableShareableLink = &quot;true&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ipConfigurations    = @(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          @{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            name       = &quot;bastionHostIpConfiguration&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            properties = @{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              subnet          = @{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                id = $BastionSubnet.id</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              publicIPAddress = @{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                id = $publicip.Id</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        )</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }  | ConvertTo-Json -Depth 6</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $params = @{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Uri         = &quot;https://management.azure.com/subscriptions/&quot; + $subscription.Subscription.Id + </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;/resourceGroups/$($RGName)/providers/Microsoft.Network/bastionHosts/$($BastionResourceName)?api-version=2022-07-01&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Headers     = @{ &#x27;Authorization&#x27; = &quot;Bearer $token&quot; }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Method      = &#x27;Put&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Body        = $body</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      ContentType = &#x27;application/json&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # Invoke the REST API and store the response</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Invoke-RestMethod @Params</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span></code></pre></div></div>
</li>
<li>
<p>Open a Terminal or PowerShell prompt, and navigate to the folder containing the script.</p>
</li>
<li>
<p>Dot source the script so that you can run it from the session: <strong>. .\New-AzBastionSharedLinkEnabled.ps1</strong></p>
</li>
<li>
<p><img decoding="async" loading="lazy" alt=". .\New-AzBastionSharedLinkEnabled.ps1" src="data:image/png;base64,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" title=". .\New-AzBastionSharedLinkEnabled.ps1" width="612" height="42" class="img_ev3q"></p>
</li>
<li>
<p>Once it&#x27;s imported - we can now run it; make sure you replace your parameters that match your environment:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">New-AzBastionSharedLinkEnabled -RGName BastionTest -VNetName vnet-aue-dev -addressPrefix 10.2.1.0/26 -region AustraliaEast -BastionPubIPName VNet1-ip -BastionResourceName net-aue-dev-bastion</span><br></span></code></pre></div></div>
</li>
<li>
<p>The script will then prompt for your credentials to authenticate</p>
</li>
<li>
<p>You will then need to select the Azure subscription containing your Azure Virtual Network, then select Ok</p>
</li>
<li>
<p><img decoding="async" loading="lazy" alt="Select Azure subscription" src="/assets/images/select-azsubscription_outgridview-339836f2117a2caac80d58fb2469abc5.png" title="Select Azure subscription" width="572" height="214" class="img_ev3q"></p>
</li>
<li>
<p>The script will then go and provision Azure Bastion and enable Shared Links. It will take a few minutes to run while it provisions Bastion. Then you will get JSON output, indicating it has been completed.</p>
</li>
<li>
<p><img decoding="async" loading="lazy" alt="Windows PowerShell - New Azure Bastion" src="/assets/images/windowsterminal_new-azbastionsharedlinkenabledrun-c3f0ed7ce23909b43bf7d6bc3899b026.png" title="Windows PowerShell - New Azure Bastion" width="1373" height="626" class="img_ev3q"></p>
</li>
<li>
<p><img decoding="async" loading="lazy" alt="Azure Bastion - Shareable Link" src="/assets/images/azureportal_azurebastion_shareablelinkconfig-522a6e1dc1a539ac4e8b9ef609a6f6ca.png" title="Azure Bastion - Shareable Link" width="973" height="520" class="img_ev3q"></p>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="create-shareable-link">Create Shareable Link<a href="#create-shareable-link" class="hash-link" aria-label="Direct link to Create Shareable Link" title="Direct link to Create Shareable Link">​</a></h4>
<p>Now that we have an Azure Bastion instance and have Shareable Links enabled - it&#x27;s time to create a Shareable Link for a Virtual Machine; this triggers 2 API endpoints - creating the shareable link and then retrieving the shareable link.</p>
<p>The same assumptions are made, so make sure you have the <a href="https://learn.microsoft.com/powershell/azure/new-azureps-module-az?view=azps-9.5.0&amp;WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer" title="Introducing the Azure Az PowerShell module">Az Module</a> installed.</p>
<p>The script relies on the following parameters:</p>

























<table><thead><tr><th>Parameters</th><th>Note</th></tr></thead><tbody><tr><td>BastionResourceName</td><td>The name of your Azure Bastion resource</td></tr><tr><td>RGName</td><td>The Resource Group of your Bastion resource</td></tr><tr><td>VMRGName</td><td>The Resource Group of your Virtual Machine, you want a Shareable Link for</td></tr><tr><td>Vmname</td><td>The name of the Virtual Machine you want a shareable link for</td></tr></tbody></table>
<ol>
<li>
<p>Copy the script below into a file named: New-AzBastionShareableLink.ps1</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">function New-AzBastionShareableLink {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &lt;#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .SYNOPSIS</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Creates an Azure Bastion shareable link.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  #&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  [CmdletBinding()]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  param</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  (</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [Parameter(Mandatory = $false, Position = 0)]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [System.String]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $BastionResourceName = &#x27;vnet-aue-dev-bastion&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [Parameter(Mandatory = $false, Position = 1)]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [System.String]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $RGName = &quot;BastionTest&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [Parameter(Mandatory = $false, Position = 1)]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [System.String]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $VMRGName = &quot;BastionTest&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [Parameter(Mandatory = $false, Position = 2)]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [System.String]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $VMname = &quot;2022ServerVM-2&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  )</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # Connect to Azure using Get-AzAccount</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Connect-AzAccount</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # Get all subscriptions that the account has access to</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Get-AzSubscription | Out-GridView -PassThru | Select-AzSubscription</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  $subscription = Get-AzContext | Select-Object Subscription</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # Get the access token for the authenticated user</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  $token = (Get-AzAccessToken).Token</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  $ID = Get-AzVM -ResourceGroupName $VMRGName -Name $VMName | Select-Object Id -ExpandProperty id</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  $body = @{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    vms = @(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      @{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        vm = @{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          id = $ID.Id</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    )</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }  | ConvertTo-Json -Depth 3</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    #creates the shareable link for the VM</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  $params = @{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Uri         = &quot;https://management.azure.com/subscriptions/&quot; + $subscription.Subscription.Id + </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;/resourceGroups/$RGName/providers/Microsoft.Network/bastionHosts/$BastionResourceName/createShareableLinks?api-version=2022-07-01&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Headers     = @{ &#x27;Authorization&#x27; = &quot;Bearer $token&quot; }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Method      = &#x27;POST&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Body        = $body</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ContentType = &#x27;application/json&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # Invoke the REST API and store the response</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Invoke-RestMethod @Params</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  #Gets the shareable link for the VM</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> $params = @{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Uri         = &quot;https://management.azure.com/subscriptions/&quot; + $subscription.Subscription.Id + </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;/resourceGroups/$($RGName)/providers/Microsoft.Network/bastionHosts/$BastionResourceName/getShareableLinks?api-version=2022-09-01&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Headers     = @{ &#x27;Authorization&#x27; = &quot;Bearer $token&quot; }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Method      = &#x27;POST&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # Body        = $body</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ContentType = &#x27;application/json&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # Invoke the REST API and store the response</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  $ShareableLink = Invoke-RestMethod @Params</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Write-Output $ShareableLink.value.bsl </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre></div></div>
</li>
<li>
<p>Open a Terminal or PowerShell prompt, and navigate to the folder containing the script.</p>
</li>
<li>
<p>Dot source the script so that you can run it from the session: <strong>. .\New-AzBastionShareableLink.ps1</strong></p>
</li>
<li>
<p>s</p>
</li>
<li>
<p>Once it&#x27;s imported - we can now run it; make sure you replace your parameters that match your environment:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">New-AzBastionShareableLink -BastionResourceName net-aue-dev-bastion -RGName BastionTest -VMRGName BastionTest -VMname 2022ServerVM-2</span><br></span></code></pre></div></div>
</li>
<li>
<p><img decoding="async" loading="lazy" alt="Azure Bastion - Create Shared Link" src="/assets/images/windowsterminal_new-azbastionsharedlink-5b507179b1017dee08d5e1b93a2e064b.png" title="Azure Bastion - Create Shared Link" width="1531" height="85" class="img_ev3q"></p>
</li>
<li>
<p>The script will then prompt for your credentials to authenticate</p>
</li>
<li>
<p>You will then need to select the Azure subscription containing your Azure Virtual Network, then select Ok</p>
</li>
<li>
<p><img decoding="async" loading="lazy" alt="Select Azure subscription" src="/assets/images/select-azsubscription_outgridview-339836f2117a2caac80d58fb2469abc5.png" title="Select Azure subscription" width="572" height="214" class="img_ev3q"></p>
</li>
<li>
<p>The script will then go and collect the ID of the Virtual Machine, pass that through to the Create a Shareable Link, then wait 10 seconds for the Bastion Resource to update properly, then collect the Shareable Link and output it to the terminal.</p>
</li>
<li>
<p><img decoding="async" loading="lazy" alt="Azure Bastion - Shared Link" src="/assets/images/windowsterminal_azurebastionsharedlink-fbe50dcc675e5bfbbc4bda824bce75d7.png" title="Azure Bastion - Shared Link" width="1607" height="265" class="img_ev3q"></p>
</li>
<li>
<p>You can also see the link created in the Azure Portal</p>
</li>
<li>
<p><img decoding="async" loading="lazy" alt="Microsoft Azure Portal - Shareable Link" src="/assets/images/azureportal_azurebastion_shareablelinks-b2ad8a231445af2f063b421666d87e51.png" title="Microsoft Azure Portal - Shareable Link" width="1417" height="364" class="img_ev3q"></p>
</li>
<li>
<p>I can then copy the URL into my favourite browser and connect to your Virtual Machine securely!</p>
</li>
<li>
<p><img decoding="async" loading="lazy" alt="Microsoft Azure Bastion - Connect" src="/assets/images/azurebastionshareablelink_vmconnect-16d5725cd9d358a53d93b41f134ffc85.gif" title="Microsoft Azure Bastion - Connect" width="1624" height="1078" class="img_ev3q"></p>
</li>
</ol>
<p>The scripts can also be found directly on GitHub here: <a href="https://github.com/lukemurraynz/Azure" target="_blank" rel="noopener noreferrer" title="https://github.com/lukemurraynz/Azure">https://github.com/lukemurraynz/Azure</a></p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/tags/azure/">Azure</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/azure/azure-budget-filters-a-key-tool-for-effective-cloud-cost-management/">Azure Budget Filters: A Key Tool for Effective Cloud Cost Management</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-03-13T00:00:00.000Z">March 13, 2023</time> · <!-- -->13 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://luke.geek.nz" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://luke.geek.nz/img/logo.png" alt="Luke Murray"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://luke.geek.nz" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Luke Murray</span></a></div><small class="authorTitle_nd0D" title="Author">Author</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p><a href="https://learn.microsoft.com/en-us/azure/cost-management-billing/costs/tutorial-acm-create-budgets?WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer" title="Tutorial: Create and manage Azure budgets">Azure Budgets</a> are a vital tool that can be used to keep on top of your Cloud financial management (FinOps) Microsoft Azure platform potential and actual costs.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="the-most-effective-azure-budgets---are-the-ones-that-you-use">The most effective Azure Budgets - are the ones that you use!<a href="#the-most-effective-azure-budgets---are-the-ones-that-you-use" class="hash-link" aria-label="Direct link to The most effective Azure Budgets - are the ones that you use!" title="Direct link to The most effective Azure Budgets - are the ones that you use!">​</a></h4>
<p><img decoding="async" loading="lazy" alt=" Azure Budgets" src="data:image/png;base64,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" title=" Azure Budgets" width="50" height="50" class="img_ev3q"></p>
<blockquote>
<p>In the realm of Cost Management, budgets play a pivotal role in facilitating the planning and implementation of organizational accountability. These tools enable proactive communication regarding expenses and support the management of costs by closely monitoring spending trends over extended periods.</p>
<p>One can set up alerts based on current or projected expenditures to maintain adherence to the established organizational spending limit. Upon surpassing the budget thresholds, notifications are promptly triggered. Such occurrences neither impact any of the available resources nor interrupt any consumption processes.</p>
<p>By leveraging budgets, it becomes possible to perform detailed cost analysis and track expenses effectively.</p>
</blockquote>
<p><img decoding="async" loading="lazy" alt="Azure Back to School - Azure Budget Filters" src="/assets/images/AzureSpringClean_AzureBudgets-56889f561f09253257825f91067025f5.png" title="Azure Spring Clean - Azure Budget Filters" width="1080" height="1080" class="img_ev3q"></p>
<p>Be aware of the delay with the Cost &amp; Usage data, as there may be a difference between what you end up seeing in the Portal and the Budget itself - so make sure you account for this to be advised as early as possible:</p>
<blockquote>
<p>Cost and usage data is typically available within 8-24 hours and budgets are evaluated against these costs every 24 hours.</p>
<p>Be sure to get familiar with <a href="https://learn.microsoft.com/azure/cost-management-billing/costs/understand-cost-mgt-data?WT.mc_id=AZ-MVP-5004796#cost-and-usage-data-updates-and-retention" target="_blank" rel="noopener noreferrer" title="Cost and usage data updates and retention">Cost and usage data update</a> specifics. When a budget threshold is met, email notifications are normally sent within an hour of the evaluation.</p>
</blockquote>
<p>Note: Azure Budgets are not supported on Subscriptions, where you can&#x27;t access Microsoft Cost Management, i.e. <a href="https://www.microsoftazuresponsorships.com/" target="_blank" rel="noopener noreferrer" title="Azure Sponsorship">Azure Sponsorship</a> subscriptions.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="a-time-to-clean-the-windows---budget-scopes">A time to clean the windows - Budget Scopes<a href="#a-time-to-clean-the-windows---budget-scopes" class="hash-link" aria-label="Direct link to A time to clean the windows - Budget Scopes" title="Direct link to A time to clean the windows - Budget Scopes">​</a></h5>
<p>When creating an Azure Budget, you can specify a Scope. A scope is the level of your hierarchy <em>(i.e., if it&#x27;s a Resource Group Budget, it cannot report on resources at the Subscription, you would have to create a Subscription or Management Group scoped Budget).</em></p>
<p>When you create an Azure Budget, they can be made at the following Scopes:</p>
<p><img decoding="async" loading="lazy" alt="Microsoft Azure Budget Scopes" src="/assets/images/azurebudget_scope-d6fd1b0f7a4994146340d14b01fdd131.png" title="Microsoft Azure Budget Scopes" width="2936" height="2070" class="img_ev3q"></p>
<p>Most people, when creating scopes, will create a Scope at the Subscription and/or Resource Group level - there is no right or wrong answer when it comes to your Azure Budget Scope - this needs to work for you and your organisation, ie if you have a Project per Resource Group - then it would make sense to create a Budget per Resource Group, the same for Subscriptions.</p>
<p><strong>You can also have multiple Azure Budgets</strong> at the same or different scopes, so a <strong>combination of Budgets may be the most effective</strong>. An example could be a Subscription Budget that may go to a Product Owner, but a Management Group could go to Finance or the Technology teams.</p>
<p>Keep in mind, that Budgets on their own are just a forecasting and alerting tool, they won&#x27;t stop resources from running, if it goes over an alert threshold, out of the box - the Budget doesn&#x27;t touch your resources, merely gives you an opportunity to proactively react to them, before costs become a problem.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="time-to-scrum-the-floor---create-an-azure-budget">Time to scrum the floor - Create an Azure Budget<a href="#time-to-scrum-the-floor---create-an-azure-budget" class="hash-link" aria-label="Direct link to Time to scrum the floor - Create an Azure Budget" title="Direct link to Time to scrum the floor - Create an Azure Budget">​</a></h5>
<p>Let&#x27;s go through the process of creating an Azure Budget, using the Azure Portal.</p>
<ol>
<li>Log in to the <a href="https://portal.azure.com/#home" target="_blank" rel="noopener noreferrer" title="Microsoft Azure Portal"><strong>Microsoft Azure Portal</strong></a></li>
<li>In the Search bar above, search for <strong>Budgets</strong></li>
<li>Click on <strong>Budgets</strong></li>
<li><strong>Change</strong> the <strong>Scope</strong></li>
<li><img decoding="async" loading="lazy" alt="Cost Management - Azure Budget" src="/assets/images/azureportal_costmanagement_root-d9d7a8255961958d6e52c854955e18ea.png" title="Cost Management - Azure Budget" width="1457" height="422" class="img_ev3q"></li>
<li>You can select a Management Group, Subscription, or Resource Group for the Scope, by clicking on each - in my example, I have a Management Group named: <em>mg-landingzones</em>, which I am going to select.</li>
<li>Click <strong>Select</strong></li>
<li>Now that the Scope has been set, we can add our Budget to the specified Scope, click <strong>+ Add</strong></li>
<li>We will come back to Filters, in another section - but for the Budget details you will need:
<ul>
<li><strong>Name</strong> this is the name of your Budget, make sure its something meaningful <em>(ie Monthly-Budget_MG-LandingZones)</em></li>
<li><strong>Reset period</strong> <em>(Monthly/Quarterly or Annual, this is the period that the Budget resets back to $0 - you can&#x27;t go wrong with Monthly)</em></li>
<li><strong>Creation date</strong> <em>(the date that the Budget will start)</em></li>
<li><strong>Expiration date</strong> <em>(the date that the Budget will stop)</em></li>
</ul>
</li>
<li><strong>Budget Amount</strong><em>(this is the overall; amount that you are planning on your resources to spend)</em></li>
<li><img decoding="async" loading="lazy" alt="Azure Portal - Create budget" src="/assets/images/azureportal_createbudget_scoping-823df8823663ddf8b25c090d4671d03d.png" title="Azure Portal - Create budget" width="1457" height="815" class="img_ev3q"></li>
<li>Once you have entered in your Budget details, click Next to configure your Alert conditions. The alert conditions are where you can specify, what you want to alert on ie 50% or 80% of the overall budget amount. Actual - is when it financially reaches that point and Forecasted - is when current consumption is forecasted to reach that budget.</li>
<li>Specify an email address to send the Alert to and click <strong>Create</strong>.</li>
<li><img decoding="async" loading="lazy" alt="Azure Budget Conditions" src="/assets/images/azureportal_createbudget_conditions-8213b0993d4fed5b0434a8c94ce05015.png" title="Azure Budget Conditions" width="639" height="835" class="img_ev3q"></li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="time-to-clean-the-dishes---azure-budget-filters">Time to clean the dishes - Azure Budget Filters<a href="#time-to-clean-the-dishes---azure-budget-filters" class="hash-link" aria-label="Direct link to Time to clean the dishes - Azure Budget Filters" title="Direct link to Time to clean the dishes - Azure Budget Filters">​</a></h4>
<p>By default, Scoping the Budget to the Subscription or Resource Group is good enough for 95% of the use cases - but using Budget filters, you can enable a bit more flexibility - for scenarios such as:</p>
<ul>
<li>Product-centric alerts</li>
<li>Service centric alerts</li>
</ul>
<p>While the scope is your level of the Azure hierarchy, your filter is your handrail to stop you from falling, currently, Microsoft offers the following filters:</p>

























































































































































































<table><thead><tr><th>Property</th><th>When to use</th><th>Notes</th></tr></thead><tbody><tr><td>Availability zones</td><td>Break down AWS costs by availability zone.</td><td>Applicable only to AWS scopes and management groups. Azure data doesn&#x27;t include availability zone and will show as No availability zone.</td></tr><tr><td>Billing period</td><td>Break down PAYG costs by the month that they were, or will be, invoiced.</td><td>Use Billing period to get a precise representation of invoiced PAYG charges. Include two extra days before and after the billing period if filtering down to a custom date range. Limiting to the exact billing period dates won&#x27;t match the invoice. Will show costs from all invoices in the billing period. Use Invoice ID to filter down to a specific invoice. Applicable only to PAYG subscriptions because EA and MCA are billed by calendar months. EA/MCA accounts can use calendar months in the date picker or monthly granularity to accomplish the same goal.</td></tr><tr><td>BillingProfileId</td><td>The ID of the billing profile that is billed for the subscription&#x27;s charges.</td><td>Unique identifier of the EA enrollment, pay-as-you-go subscription, MCA billing profile, or AWS consolidated account.</td></tr><tr><td>BillingProfileName</td><td>Name of the EA enrollment, pay-as-you-go subscription, MCA billing profile, or AWS consolidated account.</td><td>Name of the EA enrollment, pay-as-you-go subscription, MCA billing profile, or AWS consolidated account.</td></tr><tr><td>Charge type</td><td>Break down usage, purchase, refund, and unused reservation and savings plan costs.</td><td>Reservation purchases, savings plan purchases, and refunds are available only when using actual costs and not when using amortized costs. Unused reservation and savings plan costs are available only when looking at amortized costs.</td></tr><tr><td>Department</td><td>Break down costs by EA department.</td><td>Available only for EA and management groups. PAYG subscriptions don&#x27;t have a department and will show as No department or unassigned.</td></tr><tr><td>Enrollment account</td><td>Break down costs by EA account owner.</td><td>Available only for EA billing accounts, departments, and management groups. PAYG subscriptions don&#x27;t have EA enrollment accounts and will show as No enrollment account or unassigned.</td></tr><tr><td>Frequency</td><td>Break down usage-based, one-time, and recurring costs.</td><td>Indicates whether a charge is expected to repeat. Charges can either happen once OneTime, repeat on a monthly or yearly basis Recurring, or be based on usage UsageBased.</td></tr><tr><td>Invoice ID</td><td>Break down costs by billed invoice.</td><td>Unbilled charges don&#x27;t have an invoice ID yet and EA costs don&#x27;t include invoice details and will show as No invoice ID.</td></tr><tr><td>InvoiceSectionId</td><td>Unique identifier for the MCA invoice section.</td><td>Unique identifier for the EA department or MCA invoice section.</td></tr><tr><td>InvoiceSectionName</td><td>Name of the invoice section.</td><td>Name of the EA department or MCA invoice section.</td></tr><tr><td>Location</td><td>Break down costs by resource location or region.</td><td>Purchases and Marketplace usage may be shown as unassigned, or No resource location.</td></tr><tr><td>Meter</td><td>Break down costs by usage meter.</td><td>Purchases and Marketplace usage will show as unassigned or No meter. Refer to Charge type to identify purchases and Publisher type to identify Marketplace charges.</td></tr><tr><td>Operation</td><td>Break down AWS costs by operation.</td><td>Applicable only to AWS scopes and management groups. Azure data doesn&#x27;t include operation and will show as No operation - use Meter instead.</td></tr><tr><td>Pricing model</td><td>Break down costs by on-demand, reservation, or spot usage.</td><td>Purchases show as OnDemand. If you see Not applicable, group by Reservation to determine whether the usage is reservation or on-demand usage and Charge type to identify purchases.</td></tr><tr><td>PartNumber</td><td>The identifier used to get specific meter pricing.</td><td></td></tr><tr><td>Product</td><td>Name of the product.</td><td></td></tr><tr><td>ProductOrderId</td><td>Unique identifier for the product order</td><td></td></tr><tr><td>ProductOrderName</td><td>Unique name for the product order.</td><td></td></tr><tr><td>Provider</td><td>Break down costs by the provider type: Azure, Microsoft 365, Dynamics 365, AWS, and so on.</td><td>Identifier for product and line of business.</td></tr><tr><td>Publisher type</td><td>Break down Microsoft, Azure, AWS, and Marketplace costs.</td><td>Values are Microsoft for MCA accounts and Azure for EA and pay-as-you-go accounts.</td></tr><tr><td>Reservation</td><td>Break down costs by reservation.</td><td>Any usage or purchases that aren&#x27;t associated with a reservation will show as No reservation or No values. Group by Publisher type to identify other Azure, AWS, or Marketplace purchases.</td></tr><tr><td>ReservationId</td><td>Unique identifier for the purchased reservation instance.</td><td>In actual costs, use ReservationID to know which reservation the charge is for.</td></tr><tr><td>ReservationName</td><td>Name of the purchased reservation instance.</td><td>In actual costs, use ReservationName to know which reservation the charge is for.</td></tr><tr><td>Resource</td><td>Break down costs by resource.</td><td>Marketplace purchases show as Other Marketplace purchases and Azure purchases, like Reservations and Support charges, show as Other Azure purchases. Group by or filter on Publisher type to identify other Azure, AWS, or Marketplace purchases.</td></tr><tr><td>Resource group</td><td>Break down costs by resource group.</td><td>Purchases, tenant resources not associated with subscriptions, subscription resources not deployed to a resource group, and classic resources don&#x27;t have a resource group and will show as Other Marketplace purchases, Other Azure purchases, Other tenant resources, Other subscription resources, $system, or Other charges.</td></tr><tr><td>ResourceId</td><td>Unique identifier of the Azure Resource Manager resource.</td><td></td></tr><tr><td>Resource type</td><td>Break down costs by resource type.</td><td>Type of resource instance. Not all charges come from deployed resources. Charges that don&#x27;t have a resource type will be shown as null or empty, Others, or Not applicable. For example, purchases and classic services will show as others, classic services, or No resource type.</td></tr><tr><td>ServiceFamily</td><td>Type of Azure service. For example, Compute, Analytics, and Security.</td><td></td></tr><tr><td>ServiceName</td><td>Name of the Azure service.</td><td>Name of the classification category for the meter. For example, Cloud services and Networking.</td></tr><tr><td>Service name or Meter category</td><td>Break down cost by Azure service.</td><td>Purchases and Marketplace usage will show as No service name or unassigned.</td></tr><tr><td>Service tier or Meter subcategory</td><td>Break down cost by Azure usage meter subclassification.</td><td>Purchases and Marketplace usage will be empty or show as unassigned.</td></tr><tr><td>Subscription</td><td>Break down costs by Azure subscription and AWS linked account.</td><td>Purchases and tenant resources may show as No subscription.</td></tr><tr><td>Tag</td><td>Break down costs by tag values for a specific tag key.</td><td>Purchases, tenant resources not associated with subscriptions, subscription resources not deployed to a resource group, and classic resources cannot be tagged and will show as Tags not supported. Services that don&#x27;t include tags in usage data will show as Tags not available. Any remaining cases where tags aren&#x27;t specified on a resource will show as Untagged. Learn more about tags support for each resource type.</td></tr><tr><td>UnitOfMeasure</td><td>The billing unit of measure for the service. For example, compute services are billed per hour.</td><td></td></tr></tbody></table>
<p>One or a <a href="https://learn.microsoft.com/azure/cost-management-billing/costs/group-filter?WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer" title="Group and filter options in Cost analysis and budgets">combination of these filters</a> can be used to create your own meaningful Budgets! You can target specific resources, an example is if you have resources in a Shared Resource Group - for example, Networking, and you have a VPN Gateway, that is used for a Site to Site VPN, for a specific application, that is sitting in another resource group or subscription - you can add the Resource directly into the filter of your Budget for the Azure Gateway, and then include a Tag - that may reference the rest of the application dependencies.</p>
<p>Budgets can be created with all sorts of various tools, from the Azure Portal to:</p>
<ul>
<li><a href="https://learn.microsoft.com/en-us/azure/cost-management-billing/costs/quick-create-budget-bicep?tabs=CLI&amp;WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer" title="Quickstart: Create a budget with Bicep">Quickstart: Create a budget with Bicep</a></li>
<li>PowerShell (<a href="https://learn.microsoft.com/en-us/powershell/module/az.billing/new-azconsumptionbudget?view=azps-9.5.0&amp;WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer" title="New-AzConsumptionBudget">New-AzConsumptionBudget</a> &amp; <a href="https://learn.microsoft.com/powershell/module/az.billing/set-azconsumptionbudget?view=azps-9.5.0&amp;WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer" title="Set-AzConsumptionBudget">Set-AzConsumptionBudget</a>)</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="relaxing-beverage-time---tips--tricks">Relaxing beverage time - Tips &amp; Tricks<a href="#relaxing-beverage-time---tips--tricks" class="hash-link" aria-label="Direct link to Relaxing beverage time - Tips &amp; Tricks" title="Direct link to Relaxing beverage time - Tips &amp; Tricks">​</a></h4>
<p>Finished the day of cleaning! Now is the time to sit back and enjoy your favourite beverages, and read the labels on the bottles!</p>
<ul>
<li>You can use the <a href="https://azure.microsoft.com/get-started/azure-portal/mobile-app?WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer" title="Get the Azure mobile app"><strong>Azure Mobile Application</strong></a> <strong>to display your Cost and Budgets</strong> so keep on top of your consumption on the go!</li>
<li>The Microsoft Cost Management team are working on new features all the time, including improvements to Cost Management and Budgets! If you like living on the edge - be sure to check out <a href="https://learn.microsoft.com/en-us/azure/cost-management-billing/costs/enable-preview-features-cost-management-labs?WT.mc_id=AZ-MVP-5004796#recommendationinsights" target="_blank" rel="noopener noreferrer" title="Enable preview features in Cost Management Labs"><strong>the Preview portal</strong></a> (and add your feedback)!</li>
<li>You can use an <a href="https://learn.microsoft.com/azure/azure-monitor/alerts/action-groups?WT.mc_id=AZ-MVP-5004796#configure-basic-action-group-settings" target="_blank" rel="noopener noreferrer" title="Create and manage action groups in the Azure portal"><strong>Action Group</strong></a><strong>,</strong> to trigger a Webhook or Azure <strong>Automation</strong> runbook - to resize or stop resources. Action Groups are currently only supported for subscription and resource group scopes, so you may need to have one Budget for Monitoring at a higher level and one Budget for running automation at a lower level.</li>
</ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/tags/azure/">Azure</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/azure/microsoft-student-education-hub/">Azure for Students</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-03-02T00:00:00.000Z">March 2, 2023</time> · <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://luke.geek.nz" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://luke.geek.nz/img/logo.png" alt="Luke Murray"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://luke.geek.nz" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Luke Murray</span></a></div><small class="authorTitle_nd0D" title="Author">Author</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>Students learn in different ways through many possible avenues and experiences. Microsoft has assets to help students navigate through their journey.</p>
<p>This article aims to help to make access to student resources clearer.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="skilling-journey">Skilling Journey<a href="#skilling-journey" class="hash-link" aria-label="Direct link to Skilling Journey" title="Direct link to Skilling Journey">​</a></h4>
<p><img decoding="async" loading="lazy" alt="MS Student Developer - Skilling Journey" src="/assets/images/student_developer_skillingjourney-9739676ca02812f93adfd435445ad0b9.png" width="1483" height="503" class="img_ev3q"></p>
<p>There are 3 phases:</p>
<ul>
<li>Discover</li>
<li>Engage</li>
<li>Grow</li>
</ul>
<p>Each phase offers various ways of engage, learn and discover Microsoft Azure services and functionality.</p>
<p>Some of the resources for each phase can be found below:</p>






























<table><thead><tr><th style="text-align:left">Discover</th><th style="text-align:left">Engage</th><th style="text-align:left">Grow</th></tr></thead><tbody><tr><td style="text-align:left"><a href="https://learn.microsoft.com/training/student-hub/?WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer">Microsoft Learn Student Hub</a></td><td style="text-align:left"><a href="https://azure.microsoft.com/free/students/?WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer">Azure for Students</a></td><td style="text-align:left"><a href="https://imaginecup.microsoft.com/?WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer">Imagine Cup</a></td></tr><tr><td style="text-align:left"><a href="https://developer.microsoft.com/reactor/?WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer">Microsoft Reactor</a></td><td style="text-align:left">Hackathons</td><td style="text-align:left"><a href="https://learn.microsoft.com/events/browse?terms=student-summit&amp;WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer">Events: Student Summit</a></td></tr><tr><td style="text-align:left"><a href="https://mybuild.microsoft.com/?WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer">Microsoft Build</a></td><td style="text-align:left"></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="https://microsoft.github.io/workshop-library/" target="_blank" rel="noopener noreferrer">Curriculum on GitHub</a></td><td style="text-align:left"><a href="https://azureforeducation.microsoft.com/en-us/Institutions?WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer">Dev Tools for Teaching</a></td><td style="text-align:left"></td></tr></tbody></table>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="independent-learner">Independent Learner<a href="#independent-learner" class="hash-link" aria-label="Direct link to Independent Learner" title="Direct link to Independent Learner">​</a></h5>
<p>If you are an independent learner, the resources below can supplement your desire to learn:</p>
<ul>
<li><a href="https://learn.microsoft.com/training/?WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer" title="Microsoft Learn - Training"><strong>Learn by Doing</strong></a>: Students can gain the skills to<br>
apply to everyday situations through hands-on<br>
personalized training at their own pace or with our<br>
global network of learning partner</li>
<li><a href="https://learn.microsoft.com/certifications/?WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer" title="Microsoft Learn - Certifications"><strong>Showcase Skills</strong></a>: Help advance their career by<br>
completing challenges that demonstrate expertise.<br>
Earn globally recognized and industry-endorsed<br>
certifications and showcase them to their network.</li>
<li><a href="https://learn.microsoft.com/samples/browse/?WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer" title="Microsoft Learn - Code Samples"><strong>Code Samples</strong></a>: Test out new capabilities in their<br>
own projects faster and easier with code samples<br>
that bring Microsoft technology to life.</li>
</ul>
<p><a href="https://azure.microsoft.com/en-us/free/students/?WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer" title="Build in the cloud free with Azure for Students"><strong>Build in the cloud-free with Azure for Students ($100 Azure Credit, No credit card required)</strong></a></p>
<p><em>Use your university or school email to sign up and renew each year you&#x27;re a student. Your school or university doesn&#x27;t need to be enrolled in a program - your university and school email address is used to validate your student status.</em></p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="group-learner">Group Learner<a href="#group-learner" class="hash-link" aria-label="Direct link to Group Learner" title="Direct link to Group Learner">​</a></h5>
<p>If you are a group learner, alongside the same content as the indepedant learning path, check out the <a href="https://studentambassadors.microsoft.com/?WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer">Microsoft Student Ambassador</a> program to meet likeminded people, and don&#x27;t forget to check out for your local <a href="https://www.meetup.com/pro/azuretechgroups/" target="_blank" rel="noopener noreferrer">Azure meetups</a>!</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="education-hub">Education Hub<a href="#education-hub" class="hash-link" aria-label="Direct link to Education Hub" title="Direct link to Education Hub">​</a></h5>
<p>Located in the Azure Portal, the Education Hub enables easy access to Azure offers and other academic benefits Microsoft provides.</p>
<p>Using the <a href="https://portal.azure.com/#view/Microsoft_Azure_Education/EducationMenuBlade/~/overview" target="_blank" rel="noopener noreferrer" title="Education Hub">Education Hub</a>, Students can:</p>
<ul>
<li>Download free software provided by their Academic Institution</li>
<li>Sign up for academic-specific Azure offers</li>
<li>Launch self-guided role-based learning pathways</li>
<li>Deploy academic-focused ARM templates</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Microsoft Azure Education Hub" src="/assets/images/azure_educationhub-3daf83f68da002bb5bb163c3392a3041.png" title="Microsoft Azure Education Hub" width="1355" height="786" class="img_ev3q"></p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="faqs">FAQS<a href="#faqs" class="hash-link" aria-label="Direct link to FAQS" title="Direct link to FAQS">​</a></h5>
<p>A bit of a misleading heading! But there is no need to repeat FAQS that have already been answered by Microsoft or community members; the trick is finding where to go!</p>
<p>Most Student FAQs <em>(Frequently Asked Questions)</em> can be answered on the following page:</p>
<p><a href="https://learn.microsoft.com/en-us/azure/education-hub/azure-dev-tools-teaching/program-faq?WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer" title="Frequently asked questions about the Education Hub">Frequently asked questions about the Education Hub</a>, but there may be other questions that don&#x27;t fit in; if that&#x27;s the case - make sure you check <a href="https://learn.microsoft.com/en-us/search/?terms=students&amp;category=QnA&amp;WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer" title="&quot;students&quot; in Q&amp;A">Microsoft Q&amp;A</a> - as most likely, what you need has been answered by Microsoft or a community member.</p>
<p>Make sure you also check out my post on <a href="https://luke.geek.nz/azure/How-can-I-learn-how-to-use-Microsoft-Azure/" target="_blank" rel="noopener noreferrer">How can I learn how to use Microsoft Azure?</a> and <a href="https://aka.ms/AwesomeAzureArchitecture" target="_blank" rel="noopener noreferrer">AWESOME-Azure-Architecture</a> list.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/tags/azure/">Azure</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/azure/azure-availability-zone-peering/">Azure Availability Zone Peering</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-02-23T00:00:00.000Z">February 23, 2023</time> · <!-- -->7 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://luke.geek.nz" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://luke.geek.nz/img/logo.png" alt="Luke Murray"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://luke.geek.nz" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Luke Murray</span></a></div><small class="authorTitle_nd0D" title="Author">Author</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>In most <a href="https://learn.microsoft.com/azure/reliability/availability-zones-service-support?WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer" title="Availability zone service and regional support">regions </a><em>(and odds are, if your area doesn&#x27;t have Avalibility Zones, it&#x27;s on the roadmap to be set up)</em>, Microsoft Azure has <a href="https://learn.microsoft.com/en-us/azure/reliability/availability-zones-overview?WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer" title="What are Azure regions and availability zones?">Availability Zones</a>.</p>
<p>Each Azure region features data centres deployed within a latency-defined perimeter. At a high level, these zones consist of 3 separate data centres with independent cooling, power, switching etc.</p>
<p><img decoding="async" loading="lazy" alt="Azure availability zones" src="/assets/images/availability-zones-bb0977968d0d07a5f9b6750a51ccb7c9.png" title="Azure availability zones" width="907" height="540" class="img_ev3q"></p>
<blockquote>
<p>Azure availability zones are connected by a high-performance network with a round-trip latency of less than 2ms. They help your data stay synchronized and accessible when things go wrong. Each zone is composed of one or more datacenters equipped with independent power, cooling, and networking infrastructure. Availability zones are designed so that if one zone is affected, regional services, capacity, and high availability are supported by the remaining two zones.</p>
<p>With availability zones, you can design and operate applications and databases that automatically transition between zones without interruption. Azure availability zones are highly available, fault tolerant, and more scalable than traditional single or multiple datacenter infrastructures.</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="availability-zone-peering">Availability Zone peering<a href="#availability-zone-peering" class="hash-link" aria-label="Direct link to Availability Zone peering" title="Direct link to Availability Zone peering">​</a></h4>
<p>Today we are going to look into Availability Zone peering:</p>
<blockquote>
<p>Each data centre is assigned to a physical zone. Physical zones are mapped to logical zones in your Azure subscription. Azure subscriptions are automatically assigned this mapping when a subscription is created.</p>
</blockquote>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="physical-zones-vs-logical-zones">Physical Zones vs Logical Zones<a href="#physical-zones-vs-logical-zones" class="hash-link" aria-label="Direct link to Physical Zones vs Logical Zones" title="Direct link to Physical Zones vs Logical Zones">​</a></h5>
<p>There are a few things to be aware of here that I will call out:</p>
<ul>
<li><strong>Physical zones</strong> are mapped to <strong>logical zones</strong> in your Azure subscription.</li>
<li>Azure subscriptions are automatically <strong>assigned</strong> this <strong>mapping</strong> <strong>when</strong> a <strong>subscription</strong> is <strong>created</strong>.</li>
</ul>
<p><strong>So what does this mean?</strong></p>
<p>We know we have three separate data centres within a single region:</p>





















<table><thead><tr><th>Zone</th><th>Region</th></tr></thead><tbody><tr><td>1</td><td>Australia East</td></tr><tr><td>2</td><td>Australia East</td></tr><tr><td>3</td><td>Australia East</td></tr></tbody></table>
<p>We can see these zones in the Azure Portal when we create resources:</p>
<p><img decoding="async" loading="lazy" alt="Azure Avalibility Zone - Selection" src="data:image/png;base64,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" title="Azure Avalibility Zone - Selection" width="501" height="180" class="img_ev3q"></p>
<p>This is great for making your solutions redundant against a single data centre failure and spreading your workloads across different zones; services such as Virtual Networks are zone-redundant by default, allowing access to resources across multiple zones out of the box.</p>
<p>One reason you may have all your resources in a single zone could be latency.</p>
<p>Lets us go back to the paragraphs around physical and logical zones and mapping - what does this mean?</p>
<p>What this means is that each of the three data centres is assigned a physical <strong>AND</strong> logical mapping, so your Azure datacentres look like this:</p>

























<table><thead><tr><th>Zone (Physical)</th><th>Region</th><th>Zone (Logical)</th></tr></thead><tbody><tr><td>1</td><td>Australia East</td><td>3</td></tr><tr><td>2</td><td>Australia East</td><td>2</td></tr><tr><td>3</td><td>Australia East</td><td>1</td></tr></tbody></table>
<p>When you <strong>deploy a resource into an Azure Avalibility Zone and select Zone 1</strong>, you choose <strong>the Logical Zone, NOT</strong> a <strong>physical zone</strong>.</p>
<p>This means that <strong>FOR EACH</strong> Microsoft <strong>Azure subscription,</strong> whether in the same Microsoft Entra ID tenancy or not, <strong>Zone 1</strong> can be a <strong>different physical data centre</strong>.</p>
<p>So if you have resources deployed across multiple subscriptions, and all your resources are deployed to Zone 1 - they <strong>MAY NOT</strong> be in the same physical data centre.</p>





























<table><thead><tr><th>Azure Subscriptions</th><th>Region</th><th>Zone (Logical)</th><th>Zone (Physical)</th></tr></thead><tbody><tr><td>Sub A</td><td>Australia East</td><td>1</td><td>1</td></tr><tr><td>Sub B</td><td>Australia East</td><td>1</td><td>3</td></tr><tr><td>Sub B</td><td>Australia East</td><td>1</td><td>1</td></tr></tbody></table>
<p>In an example like the above, you have three separate Azure subscriptions, and you have deployed your Virtual Machines and other resources across all Azure subscriptions into Zone 1, 2 of your subscriptions are using the same physical zone for zone 1, and another subscription is using a separate availability zone altogether.</p>
<p><img decoding="async" loading="lazy" alt="AzureAvailabilityZones_Logical" src="/assets/images/azureavailabilityzones_logical-84a247a0c4076d235fcb37e46493fbc1.png" title="AzureAvailabilityZones_Logical" width="1014" height="742" class="img_ev3q"></p>
<p><strong>One of the reasons the logical and physical zones are different is due to capacity management</strong>; out of habit, many people select Zone 1 - this would mean that certain zones become overpopulated while others are underutilized. The logical zones allow Microsoft some ability to spread the load.</p>
<p>It&#x27;s worth noting that <strong>mapping the Logical to Physical Zones of the Avalibility Zones within your region is done when the subscription is created</strong>.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="checking-your-zone-peers-using-powershell-and-the-azure-api">Checking your Zone Peers using PowerShell and the Azure API<a href="#checking-your-zone-peers-using-powershell-and-the-azure-api" class="hash-link" aria-label="Direct link to Checking your Zone Peers using PowerShell and the Azure API" title="Direct link to Checking your Zone Peers using PowerShell and the Azure API">​</a></h5>
<p><strong>During normal business use - you don&#x27;t need to know any of this; select a zone and deploy</strong>; if you have resources across subscriptions and run into additional latency - this may be why, although each availability zone is connected through a dedicated regional low-latency network with a round-trip latency of less than 2ms.</p>
<p>But suppose you are curious or want to delve deeper into your Disaster Recovery and resiliency architecture within a single region. In that case, it can be helpful to know the mapping.</p>
<p>This information isn&#x27;t fed into the Azure Portal. To find the mapping, we need to query the Azure API directly using the <a href="https://learn.microsoft.com/en-us/rest/api/resources/subscriptions/check-zone-peers?tabs=HTTP&amp;WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer" title="Subscriptions - Check Zone Peers">Check Zone Peers</a> endpoint.</p>
<p>To do this, I have written a rough PowerShell script that will register the AvailabilityZonePeering Azure feature that you need to enable the lookup and query the API for the mappings.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Connect to Azure using Get-AzAccount</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Connect-AzAccount</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Set the region to &#x27;Australia East&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$region = &#x27;Australia East&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Get all subscriptions that the account has access to</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$subscriptions = Get-AzSubscription | Select-Object -ExpandProperty SubscriptionId</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Get the access token for the authenticated user</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$token = (Get-AzAccessToken).Token</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Check if AvailabilityZonePeering feature is enabled and enable it if it&#x27;s not</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$azFeature = Get-AzProviderFeature -ProviderNamespace Microsoft.Resources -FeatureName AvailabilityZonePeering</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">if (!$azFeature.RegistrationState.Equals(&quot;Registered&quot;)) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    do {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        Register-AzProviderFeature -FeatureName AvailabilityZonePeering -ProviderNamespace Microsoft.Resources</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        Start-Sleep -Seconds 5</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $azFeature = Get-AzProviderFeature -ProviderNamespace Microsoft.Resources -FeatureName AvailabilityZonePeering</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    } until ($azFeature.RegistrationState.Equals(&quot;Registered&quot;))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Write-Host &quot;The AvailabilityZonePeering feature has been enabled.&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">} else {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Write-Host &quot;The AvailabilityZonePeering feature is already enabled.&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Define the request body for the REST API call</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$body = @{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    subscriptionIds= $subscriptions | ForEach-Object { &#x27;subscriptions/&#x27; + $_ }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    location = $region</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">} | ConvertTo-Json</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Define the request parameters for the REST API call</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$params = @{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Uri         = &quot;https://management.azure.com/subscriptions/&quot; + $subscriptions[0] + </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;/providers/Microsoft.Resources/checkZonePeers/?api-version=2020-01-01&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Headers     = @{ &#x27;Authorization&#x27; = &quot;Bearer $token&quot; }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Method      = &#x27;POST&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Body        = $body</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ContentType = &#x27;application/json&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Invoke the REST API and store the response</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$availabilityZonePeers =  Invoke-RestMethod @Params</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Initialize an empty array for the output</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$output = @()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Loop through each availability zone and its associated peers and add them to the output array</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">foreach ($i in $availabilityZonePeers.availabilityZonePeers.availabilityZone) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    foreach ($zone in $availabilityZonePeers.availabilityZonePeers[$i-1].peers ) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $output += New-Object PSObject -Property @{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            Zone = $i</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            MatchesZone = $zone.availabilityZone</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            SubscriptionId = $zone.subscriptionId</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $output += &quot;&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Output the results</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$output |  Format-Table</span><br></span></code></pre></div></div>
<p>Once we have connected to Microsoft Azure and run the script, we will get an output like the one below, which I ran across my own three subscriptions:</p>























































<table><thead><tr><th>SubscriptionId</th><th>MatchesZone</th><th>Zone</th></tr></thead><tbody><tr><td>3bdfd67e-6280-43af-8121-4f04dc84706c</td><td>2</td><td>1</td></tr><tr><td>8df7caa2-95cb-44d1-9ecb-e5220ec6a825</td><td>1</td><td>1</td></tr><tr><td>119bbbb7-3ab5-4eb3-ab21-3c65f562fbef</td><td>1</td><td>1</td></tr><tr><td>3bdfd67e-6280-43af-8121-4f04dc84706c</td><td>1</td><td>2</td></tr><tr><td>8df7caa2-95cb-44d1-9ecb-e5220ec6a825</td><td>2</td><td>2</td></tr><tr><td>119bbbb7-3ab5-4eb3-ab21-3c65f562fbef</td><td>2</td><td>2</td></tr><tr><td>3bdfd67e-6280-43af-8121-4f04dc84706c</td><td>3</td><td>3</td></tr><tr><td>8df7caa2-95cb-44d1-9ecb-e5220ec6a825</td><td>3</td><td>3</td></tr><tr><td>119bbbb7-3ab5-4eb3-ab21-3c65f562fbef</td><td>3</td><td>3</td></tr></tbody></table>
<p>On the right-hand side, we see the &#x27;Zones&#x27; - these are the Physical Zones, so Zone 1 to 3.</p>
<p>For each subscription, we can see the Logical Zone mapping as well.</p>
<p>In this example, my subscription of &#x27;3bdfd67e-6280-43af-8121-4f04dc84706c&#x27;, if I were to deploy to Zone 2 in my Azure Portal, would deploy to the same physical datacenter as Zone 1 of: &#x27;8df7caa2-95cb-44d1-9ecb-e5220ec6a825&#x27;.</p>
<p>As you can also see, my Zone 3 matches the same Zone 3 logically and physically for all my subscriptions, but there are differences between Zone 2 and 1.</p>
<p>Again, during normal business as usual, you don&#x27;t need to know this - but it&#x27;s always good to know how this works. If you want confirmation of the resiliency of your architecture across Availability Zones, this is a great way to confirm whether your resources are physically located together - or not.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/tags/azure/">Azure</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/azure/azure-architecture-solution-requirement-consideration-checklist/">Azure Architecture - Solution Requirement Consideration Checklist</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-02-14T00:00:00.000Z">February 14, 2023</time> · <!-- -->5 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://luke.geek.nz" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://luke.geek.nz/img/logo.png" alt="Luke Murray"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://luke.geek.nz" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Luke Murray</span></a></div><small class="authorTitle_nd0D" title="Author">Author</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>Building a cloud solution on Azure can be an exciting yet daunting task.</p>
<p>The key to a successful implementation is carefully planning and considering solution requirements using the guidance of the <a href="https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/?WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer" title="Microsoft Cloud Adoption Framework for Azure">Microsoft Cloud Adoption</a> and <a href="https://learn.microsoft.com/en-us/azure/architecture/framework/?WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer" title="Microsoft Azure Well-Architected Framework">Well Architecture frameworks</a>.</p>
<p>But knowing what questions to ask and data to capture to give you the bigger picture - to not only consider the solution for the short term and long term, can be difficult. This is where the <a href="https://github.com/lukemurraynz/Azure_Checklists" target="_blank" rel="noopener noreferrer">Azure architecture solution requirements checklist</a> comes in.</p>
<p>Leaning on the great frameworks already in place to assist with the Cloud Adoption and Azure Well Architecture frameworks, the solution requirements checklist is intended to act as a way of asking and capturing the requirements of your solutions. It can be a great reminder to discover some of those requirements <em>(whether functional or non-functional)</em> that you may have forgotten about!</p>
<p>I am using the <a href="https://github.com/Azure/review-checklists" target="_blank" rel="noopener noreferrer" title="Azure/review-checklists">Azure Review Checklist</a> - as a building block! I created a custom checklist intended to work alongside the review checklists - but aimed more at the discovery and requirements-gathering stage to assist with designing the proper outcomes for the business.</p>
<p>At the time of this article, there are 8 main categories, and various sub categories:</p>
<ul>
<li>AI</li>
<li>Business</li>
<li>Data</li>
<li>Governance</li>
<li>Infrastructure</li>
<li>Microservices</li>
<li>Observability</li>
<li>Resiliency</li>
</ul>
<p>Examples of some questions are:</p>

































































<table><thead><tr><th>Main Area</th><th>Sub Area</th><th>Checklist item</th><th>Description (optional)</th></tr></thead><tbody><tr><td>Business</td><td>Goals</td><td>Why are we moving the solution to Azure?</td><td>Understand the reasoning behind the decision to move to a cloud platform like Azure. Helps to validate the end result reaches this goal.</td></tr><tr><td>Business</td><td>Goals</td><td>What are the business objectives or quantifiable business goals?</td><td>What is the business objectives (ie Increased sales revenue, cost reduction, customer satisaction, employee productivity</td></tr><tr><td>Business</td><td>Goals</td><td>What outcomes will you achieve for customer?</td><td>What is the  objectives for the customer? What do they want to achieve using this solution</td></tr><tr><td>Business</td><td>Goals</td><td>Is there a timeline for building the solution Azure?</td><td>Asking about the timeline for building a solution in Azure is important to determine resource allocation, budgeting, prioritization, and setting stakeholder expectations.</td></tr><tr><td>Business</td><td>Goals</td><td>How many people will be accessing the solution?</td><td>Asking about the number of people accessing the solution helps to determine the necessary resources and scalability required to accommodate the expected traffic and usage.</td></tr><tr><td>Business</td><td>Goals</td><td>Is there a targeted event or date for an announcement about the solution&#x27;s availability on Azure?</td><td>Timeline for architecture, deployment, testing can help determine what risks, resource requirements and cost and the delivery of solution.</td></tr><tr><td>Business</td><td>Goals</td><td>Does the solution impact a Team, Department or organization?</td><td>Impact on a team, department, or organization helps determine the scope and potential consequences of the solution, ensuring that all relevant stakeholders are considered and accounted for in the decision-making process.</td></tr><tr><td>Business</td><td>Customers</td><td>What are the customer expecations?</td><td>Customer expectations helps ensure that the solution meets the needs and desires of the end-users, and make sure business outcomes match customer expectations.</td></tr><tr><td>Business</td><td>Customers</td><td>Is there a deal or customer opportunity associated with having the solution in Azure?</td><td>Any associated deals or customer opportunities helps to understand the potential financial benefits, vendor offerings and growth opportunities of using Azure as a platform for the solution.</td></tr></tbody></table>
<p><img decoding="async" loading="lazy" alt="Azure Architecture - Solution requirement considerations" src="/assets/images/azurearchitecture_considerations-59f14cd058806ef5868281140ebad379.png" title="Azure Architecture - Solution requirement considerations" width="1820" height="330" class="img_ev3q"></p>
<blockquote>
<p>The Azure Architecture - Solution Requirement Consideration checklist, is intended to be a living resource, I am not an expert in all fields so there may be gaps or questions you feel is relevant or missing! Feel free to open a Pull Request to contribute! This is for you!</p>
<p>You can find the <strong>latest version of the checklis</strong>t on GitHub here: <a href="https://github.com/lukemurraynz/Azure_Checklists" target="_blank" rel="noopener noreferrer" title="lukemurraynz/Azure_Checklists">lukemurraynz/<strong>Azure_Checklists</strong></a></p>
</blockquote>
<p>Using this is simple!</p>
<ol>
<li><strong>Download</strong> the <a href="https://github.com/Azure/review-checklists/releases/latest/download/review_checklist.xlsm" target="_blank" rel="noopener noreferrer" title="Azure Review Checklists">latest version of the excel</a> spreadsheet from: <a href="https://github.com/Azure/review-checklists" target="_blank" rel="noopener noreferrer" title="Azure Review Checklists">Azure/review-checklists</a>.</li>
<li><strong>Download</strong> the latest version of the <a href="https://github.com/lukemurraynz/Azure_Checklists/tree/main" target="_blank" rel="noopener noreferrer" title="azure_architecture_checklist.en.json"><strong>Azure Architecture checklist</strong></a><strong>.</strong></li>
<li>Open up the review_checklist excel document and click <strong>Import checklist from JSON</strong></li>
<li><img decoding="async" loading="lazy" alt="Import checklist from file" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAScAAAAmCAYAAACGcV1QAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAS4SURBVHhe7ZbNUeVIEIRxhcAUDjiAB3DBDI4YQQQ3XOCOAziAD3igjY8ld3NqS4Q086TWzmRGZKhfdf211JXxzqYgCIIDIuIUBMEhEXEKguCQiDgFQXBIHEacnp+fp6urq69fP4I9uAfu7u6m9/f3r19BEIzCYcQJYYo4BUEgbCZOZ2dnLTsgBoiCixA2xWjv4uLicw8gZNjk8/Dw8I8dP2zKRbz8AD6sJYaeZ4k4yTcMw395amwqTkuBOEBEQYKBSLy+vn6uJUQIEDaJmUPCRV32lQt/91UtoHwueooPgmA5fltx0j8ZsYqPBAUhQVBcpBQjgZG4AYkavgKxXot9r8U64hQE68AsnRrDxWlOiBAWiQT72AB2+Vch8idgXf85Sdgc/s+JdcQpCNbhtxQnxELCI0ggyAERGfnon5PW8pn75wQQJ/kBfPWbOuTWb2IiTkGwDpqtU2K4OAVB8P9HxCkIgtW4vb39Wm2HiNNKfHx8hOEfzaenp4hTRcQpDMcz4tQg4hSG4xlxahBxCsPxjDg1iDiF4XhGnBpEnMJwPCNODSJOH9Pj4+N0c3PT7h2Bb29v0/n5ebu3lC8vL9Pl5eV/7OQlP/s/W4O83KOt3yH5+VaseVKzqys79DMpRjmg5xzJiFODLZpdi+5j7Uku597idH9//8lur3IPcar2yu+G+Fd7W0rvgXurvv3bdeKjc2OnV+/3u3PtyYhTg4jTj+Ik0eC96KLrn4EuOUPBWnaoXIiAbG7HlxrYrq+vWx/R6xMncVI9Hy6vx/5cDhcn9rQmF/lVo+akZ/UNvTaUHaqG/DX0xMhHtiXvuZK8isdP4iQqh9ugfNknBz7K4zlHMuLUYItm16L7WHtSl5a1Boa1hlSXlyHDxkXHzho7scSxxq6hcRHgqRraU4xTuTub+vDhcrEgH/Yuh4SDffUEiccfKhf7Ops4N8QeB+s5/d2oL57Y1OPce1YO0XvgScySd6rzEIM/a/XsOUcy4tRgi2bXovtYe1KXlrVf8Dp4usjVzmXXAPjgu18d+LlB8l7EWk+x5OP7OdVjzSFf7w+Sl/xeg9z4YpOf8uq3WHur51T+uu/nrznmanV2bOrVczpV098LNv3uau3NiFODLZpdi+5j7Um/tEuGptq5+BoAnrK7n/a1NzdI3otY6ym21hO7HPKFXpe85K81tKc8OrvvwxpXz6n8dd/PX3PM1frOTq7u3JA7ztP3VXMu596MODWIOP2cOPHeNITYiZGdp3Ipbx1ar+PER8Mk1j4UW+uJXQ5s9MDaYyQetQZ029wQ17h6Tn7rnPiqLz9/zTFXy9+/3iukRvddFCNffDyONf5drb0ZcWqwRbNr0X2sPemXdsnQyM5Q8P7ch31s1V6HVoMEZRM1NJC42of36PWgBq3mcHFijZ01ecnvNXjWfIrxPmDtrZ4TKhfU3pL3rN9+RveRjbXs5JId6syQPJ2v1xrFiFODLZpdi+5jHZl1mMLwVxlxahBxWs+IU3hqRpwaRJzCcDwjTg0iTmE4nhGnBhGnMBzPiFODiFMYjmfEqcERxIkPE4Z/OiNOBaPFiQ8ShuHf3BoRpyAIDomIUxAEh0TEKQiCQ+L08z5NfwH8HO+H8AJYIwAAAABJRU5ErkJggg==" title="Import checklist from file" width="295" height="38" class="img_ev3q"></li>
<li><img decoding="async" loading="lazy" alt="Import checklist from file" src="data:image/png;base64,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" title="Import checklist from file" width="464" height="61" class="img_ev3q"></li>
<li>Select the downloaded: azure_architecture_checklist.en.json</li>
</ol>
<p>Once imported, you can now save the excel document, and start adjusting the <strong>Severity</strong>, <strong>Status</strong> and add <strong>Comments</strong> - to capture the information, to then use to architect your solutions!</p>
<blockquote>
<p><strong>Note: I do not create, edit or modify the Excel spreadsheet, created by for the Azure Reviews - I simply use it to run my custom checklist. Make sure to check out the</strong> <a href="https://github.com/Azure/review-checklists" target="_blank" rel="noopener noreferrer" title="Azure Review Checklists"><strong>Azure Review Checklists</strong></a><strong>!</strong></p>
</blockquote>
<p>There are some settings that you might need to change in your system to run <strong>macro-enabled Excel spreadsheet</strong>s. When initially opening the file you may see the following error, which prevents Excel from loading:</p>
<blockquote>
<p>Excel cannot open the file &#x27;review_checklist.xlsm&#x27; because the file format or file extension is not valid. Verify that the file has not been corrupted and that the file extension matches the format of the file.</p>
</blockquote>
<p>In other cases the file opens with the following message, which prevents you from being able to load the checklist items:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="unblock-file-or-add-an-exception-to-windows-security">Unblock file or add an exception to Windows Security<a href="#unblock-file-or-add-an-exception-to-windows-security" class="hash-link" aria-label="Direct link to Unblock file or add an exception to Windows Security" title="Direct link to Unblock file or add an exception to Windows Security">​</a></h3>
<ol>
<li>You might need to unblock the file from the file properties in the Windows File Explorer, so that you can use the macros required to import the checklist content from github.com:</li>
<li>Additionally, you might want to add the folder where you cloned this repo to the list of exceptions in Windows Security (in the Virus &amp; Threat Protection section):</li>
</ol></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/tags/azure/">Azure</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/tags/azure/page/20/"><div class="pagination-nav__label">Newer entries</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/tags/azure/page/22/"><div class="pagination-nav__label">Older entries</div></a></nav></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 luke.geek.nz. Powered by coffee, clouds and hamsters on wheels!</div></div></div></footer></div>
</body>
</html>