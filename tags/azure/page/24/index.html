<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">175 posts tagged with &quot;Azure&quot; | luke.geek.nz</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://luke.geek.nz/img/social-card.png"><meta data-rh="true" name="twitter:image" content="https://luke.geek.nz/img/social-card.png"><meta data-rh="true" property="og:url" content="https://luke.geek.nz/tags/azure/page/24/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="175 posts tagged with &quot;Azure&quot; | luke.geek.nz"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://luke.geek.nz/tags/azure/page/24/"><link data-rh="true" rel="alternate" href="https://luke.geek.nz/tags/azure/page/24/" hreflang="en"><link data-rh="true" rel="alternate" href="https://luke.geek.nz/tags/azure/page/24/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://ZBH2T1WJQD-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/rss.xml" title="luke.geek.nz RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="luke.geek.nz Atom Feed">
<link rel="alternate" type="application/json" href="/feed.json" title="luke.geek.nz JSON Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-0QDLBY7NNN"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-0QDLBY7NNN",{anonymize_ip:!0})</script><link rel="stylesheet" href="/assets/css/styles.a8967c60.css">
<script src="/assets/js/runtime~main.1bc7c312.js" defer="defer"></script>
<script src="/assets/js/main.93e11f81.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#D3D3D3" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">If you haven't already, make sure you sign up for my Weekly Azure updates Newsletter, straight to your inbox! <a target="_blank" rel="noopener noreferrer" href="https://newsletter.azurefeeds.com/join">Subscribe now!</a></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="luke.geek.nz" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.png" alt="luke.geek.nz" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">luke.geek.nz</b></a><a class="navbar__item navbar__link" href="/Tags/">Tags</a><a class="navbar__item navbar__link" href="/Archive/">Blog</a><a class="navbar__item navbar__link" href="/about/">About</a></div><div class="navbar__items navbar__items--right"><a href="https://www.youtube.com/channel/UCUG3TKDTAZz4UXshGrjBBoQ" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-icon" aria-label="YouTube">
              <svg width="24" height="24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path d="M23.498,6.186c-0.273-1.186-1.143-2.144-2.332-2.417C18.389,3.153,12,3.153,12,3.153s-6.389,0-9.166,0.616
                  c-1.19,0.273-2.06,1.23-2.332,2.417C0,8.07,0,12,0,12s0,3.93,0.502,5.814c0.272,1.187,1.142,2.062,2.332,2.335
                  C5.611,20.847,12,20.847,12,20.847s6.389,0,9.166-0.698c1.189-0.273,2.059-1.148,2.332-2.335C24,15.93,24,12,24,12
                  S24,8.07,23.498,6.186z M9.545,15.568V8.432l6.545,3.568L9.545,15.568z"/>
              </svg>
            </a><a href="https://aus.social/@lukemurray" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-icon" aria-label="Mastodon">
              <svg height="20" width="20" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" xml:space="preserve">
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                  <path d="M21.327 8.566c0-4.339-2.843-5.61-2.843-5.61-1.433-.658-3.894-.935-6.451-.956h-.063c-2.557.021-5.016.298-6.45.956 0 0-2.843 1.272-2.843 5.61 0 .993-.019 2.181.012 3.441.103 4.243.778 8.425 4.701 9.463 1.809.479 3.362.579 4.612.510 2.268-.126 3.541-.809 3.541-.809l-.075-1.646s-1.621.511-3.441.449c-1.804-.062-3.707-.194-3.999-2.409a4.523 4.523 0 0 1-.04-.621s1.77.433 4.014.536c1.372.063 2.658-.08 3.965-.236 2.506-.299 4.688-1.843 4.962-3.254.434-2.223.398-5.424.398-5.424zm-3.353 5.59h-2.081V9.057c0-1.075-.452-1.62-1.357-1.62-1 0-1.501.647-1.501 1.927v2.791h-2.069V9.364c0-1.28-.501-1.927-1.502-1.927-.905 0-1.357.546-1.357 1.62v5.099H6.026V8.903c0-1.074.273-1.927.823-2.558.566-.631 1.307-.955 2.228-.955 1.065 0 1.872.409 2.405 1.228l.518.869.519-.869c.533-.819 1.34-1.228 2.405-1.228.92 0 1.662.324 2.228.955.549.631.822 1.484.822 2.558v5.253z"></path>
                </g>
              </svg>
            </a><a href="https://bsky.app/profile/lukemurraynz.bsky.social" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-icon" aria-label="Bluesky">
              <svg class="octicon" xmlns="http://www.w3.org/2000/svg" role="img" viewBox="0 0 16 16" height="20" width="20" fill="currentColor">
                <title>Bluesky</title>
                <path d="M8 7.2c-.72-1.4-2.7-4.04-4.53-5.33C1.7.63 1.04.84.6 1.04.1 1.27 0 2.05 0 2.51c0 .46.25 3.77.42 4.32.54 1.82 2.47 2.45 4.25 2.25-2.6.38-4.92 1.33-1.88 4.71 3.33 3.46 4.57-.74 5.21-2.87.64 2.13 1.37 6.18 5.16 2.87 2.84-2.87.78-4.33-1.83-4.71 1.78.2 3.71-.43 4.25-2.25.17-.55.42-3.86.42-4.32 0-.46-.09-1.24-.6-1.47-.44-.2-1.11-.42-2.87.83A17.87 17.87 0 0 0 8 7.2Z"></path>
              </svg>
            </a><a href="https://twitter.com/lukemurraynz" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-icon" aria-label="X"><svg height="20" width="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M10 8.586l4.293-4.293a1 1 0 011.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 011.414-1.414L10 8.586z" clip-rule="evenodd"/>
          </svg></a><a href="https://www.linkedin.com/in/ljmurray/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-icon" aria-label="LinkedIn"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"></path></svg></a><a href="https://luke.geek.nz/rss" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-rss-link" aria-label="RSS"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite" aria-pressed="true"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><div role="group"><h3 class="yearGroupHeading_rMGB">2025</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/azure/kubebuddy-scanning-clusters/">Scan Your Kubernetes Cluster with KubeBuddy</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/misc/codespace-secrets/">GitHub Codespace Secrets</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/azure/acr-continuous-patching-security/">Azure Container Registry Continuous Patching for Security</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/azure/sftp-event-hub-function/">Processing SFTP Events with Azure Function and Event Hub</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/azure/mcp-acs-email-integration/">Sending Emails with MCP and Azure Communication Services</a></li></ul></div></nav></aside><main class="col col--7"><header class="margin-bottom--xl"><h1>175 posts tagged with &quot;Azure&quot;</h1><a href="/tags/">View All Tags</a></header><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/2022/06/12/microsoft-azure-portal-recent-resources/">Microsoft Azure Portal - Recent Resources</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-06-12T00:00:00.000Z">June 12, 2022</time> · <!-- -->One min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://luke.geek.nz" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://luke.geek.nz/img/logo.png" alt="Luke Murray"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://luke.geek.nz" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Luke Murray</span></a></div><small class="authorTitle_nd0D" title="Author">Author</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>The Microsoft Azure Portal displays a list of Recent resources <em>(whether they are subscriptions or Resources)</em> you have accessed, usually when you first log in to the portal itself.</p>
<p>This capability makes it quick to access resources you use the most often, but sometimes you may want to view the resources in a list for easy access or clear the recent resources <em>(ie if you are going to do a presentation)</em> - this is how you can do it.</p>
<p>The Azure portal has a service called: Recent, to access it.</p>
<ol>
<li>Log in to the <a href="https://portal.azure.com/?l=en.en-nz#home" target="_blank" rel="noopener noreferrer" title="Microsoft Azure Portal"><strong>Microsoft Azure Portal</strong></a></li>
<li>In the search bar type in: <strong>Recent</strong></li>
<li><img decoding="async" loading="lazy" alt="Azure Portal - Recent" src="data:image/png;base64,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" title="Azure Portal - Recent" width="449" height="208" class="img_ev3q"></li>
<li>Select <strong>Recent</strong></li>
<li>You will be taken to the Recent Resources view, where you can select Clear to clear your Recent Resources, or you can view all your recent resources for easy access.</li>
<li><img decoding="async" loading="lazy" alt="Azure Portal - Clear Recent" src="data:image/png;base64,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" title="Azure Portal - Clear Recent" width="713" height="308" class="img_ev3q"></li>
</ol></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/azure/">Azure</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/azure/you-don-t-have-authorization-to-perform-action-microsoft.resources-deployments-validate-action/">You don’t have authorization to perform action &#x27;Microsoft.Resources/deployments/validate/action&#x27;</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-06-06T00:00:00.000Z">June 6, 2022</time> · <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://luke.geek.nz" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://luke.geek.nz/img/logo.png" alt="Luke Murray"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://luke.geek.nz" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Luke Murray</span></a></div><small class="authorTitle_nd0D" title="Author">Author</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>You may be attempting to deploy an Azure Landing Zone, such as the Enterprise Scale Landing Zone and receive the following error:</p>
<blockquote>
<p>You don’t have authorization to perform action &#x27;Microsoft.Resources/deployments/validate/action&#x27;.</p>
</blockquote>
<p>This is because by default, even if you have Owner right on an Azure subscription, and are a Global Administer, you are unable to assign rights at the root &#x27;/&#x27; tenant level, to be able to create new Management Groups and move subscriptions between them.</p>
<p>However, users who have the Global Microsoft Entra ID role can elevate rights to do this.  There are a few steps to enabling this, including using <a href="https://learn.microsoft.com/en-us/powershell/azure/what-is-azure-powershell?WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer" title="Azure PowerShell">Azure PowerShell</a> to assign rights.</p>
<p>With an account with Global Administrator rights, do the following:</p>
<ol>
<li>
<p>Sign in to the <strong>Azure Portal</strong></p>
</li>
<li>
<p>Open <strong>Microsoft Entra ID</strong></p>
</li>
<li>
<p>Click <strong>Properties</strong></p>
</li>
<li>
<p>Toggle the &#x27;<strong>Access management for Azure resources</strong>&#x27; to &#x27;<strong>Yes</strong>&#x27;</p>
</li>
<li>
<p>Click <strong>Save</strong></p>
</li>
<li>
<p>Open <strong>PowerShell</strong></p>
</li>
<li>
<p><strong>Run:</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Connect-AzAccount</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Login with your <strong>account</strong>, and make sure you are in the correct directory <em>(if you aren&#x27;t you can use Connect-Az Account - tenantid &#x27;tenantidhere&#x27;)</em>.</p>
</li>
<li>
<p><strong>Type</strong>:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Get-AzADUser</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Copy</strong> the <strong>ID</strong> of the user you are logged in as, and <strong>run</strong> the following <em>(replace the ObjectId to match the ID of your user)</em>:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$user =  Get-AzADUser -ObjectId f53eaa59-0fc0-4103-b9cb-1650e3069da8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Once the user ID has been stored in a variable, its finally time to assign the rights, <strong>run</strong> the following:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">New-AzRoleAssignment -Scope &#x27;/&#x27; -RoleDefinitionName &#x27;Owner&#x27; -ObjectId $user.Id</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Give Microsoft Entra ID <strong>10-15 minutes</strong> to <strong>replicate</strong> the Azure AD changes, <strong>log out</strong> and <strong>back in</strong> and you should now be able to <strong>deploy</strong> the <strong>Landing Zone</strong>.</p>
</li>
</ol>
<p><strong>Note: Remember to go back and change the toggle to &#x27;Allow management of Azure resources&#x27; to &#x27;No&#x27;, or all Global Administrators of Microsoft Entra ID will be able to manage all Azure resources.</strong></p>
<p><strong>Once the Landing Zone is deployed, you should also remove your role assignment at the root level by running:</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Remove-AzRoleAssignment -Scope &#x27;/&#x27; -RoleDefinitionName &#x27;Owner&#x27; -ObjectId $user.Id</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/azure/">Azure</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/azure/turn-on-a-azure-virtual-machine-using-azure-automation/">Turn on a Azure Virtual Machine using Azure Automation</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-06-05T00:00:00.000Z">June 5, 2022</time> · <!-- -->11 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://luke.geek.nz" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://luke.geek.nz/img/logo.png" alt="Luke Murray"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://luke.geek.nz" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Luke Murray</span></a></div><small class="authorTitle_nd0D" title="Author">Author</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>Turning off a Virtual Machine in Microsoft Azure on a schedule can quickly be done using the built-in Shutdown controls in the Virtual Machine blade <em>(part of</em> <a href="https://azure.microsoft.com/en-us/services/lab-services/?WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer" title=" Azure Lab Services"><em>Azure Lab Services</em></a><em>, but not a requirement)</em>, but what about starting it?</p>
<p>You have a few options, Logic Apps, PowerShell, Functions and Runbooks; most of the time, these will run on a standard 7 AM to 5 PM Monday to Friday schedule <em>(meaning the Virtual Machine is off during off-peak hours and weekends, reducing compute cost)</em>.</p>
<p>This works fine for most scenarios, but what happens if a Bank or Public Holiday falls during the week? With the normal schedule, your Virtual Machine starts.</p>
<p>Because all your users are on Holiday, it wastes money while you and your users drink snicker cocktails at the beach?</p>
<p>This is where using a third party timezone API like &#x27;<a href="https://www.abstractapi.com/" target="_blank" rel="noopener noreferrer" title="Automate routine dev work with Abstract&#x27;s suite of APIs">AbstractApi</a>&#x27; comes in handy; incorporating a lookup to check if it&#x27;s a Public Holiday before starting that Virtual Machine can help reduce unnecessary costs.</p>
<p><a href="https://azure.microsoft.com/en-us/overview/what-is-a-virtual-machine/?WT.mc_id=AZ-MVP-5004796#overview" target="_blank" rel="noopener noreferrer" title=" What is a virtual machine (VM)?">Virtual Machines</a> in Microsoft Azure have different states and, depending on what state the Virtual Machine is in, will determine whether you get billed or not <em>(for the Compute, storage and network adapters are still billed)</em>.</p>








































<table><thead><tr><th>Power state</th><th>Description</th><th>Billing</th></tr></thead><tbody><tr><td>Starting</td><td>Virtual Machine is powering up.</td><td>Billed</td></tr><tr><td>Running</td><td>Virtual Machine is fully up. This is the standard working state.</td><td>Billed</td></tr><tr><td>Stopping</td><td>This is a transitional state between running and stopped.</td><td>Billed</td></tr><tr><td>Stopped</td><td>The Virtual Machine is allocated on a host but not running. Also called PoweredOff state or Stopped (Allocated). This can be result of invoking the PowerOff API operation or invoking shutdown from within the guest OS. The Stopped state may also be observed briefly during VM creation or while starting a VM from Deallocated state.</td><td>Billed</td></tr><tr><td>Deallocating</td><td>This is the transitional state between running and deallocated.</td><td>Not billed</td></tr><tr><td>Deallocated</td><td>The Virtual Machine has released the lease on the underlying hardware and is completely powered off. This state is also referred to as Stopped (Deallocated).</td><td>Not billed</td></tr></tbody></table>
<p>I have written a base runbook that does precisely that, every time the runbook runs, it checks if it is a public Holiday. If it is - then the Virtual Machine isn&#x27;t started; if it isn&#x27;t, then the virtual machine is started.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h3>
<p>Today, we are going to set up an Azure Automation runbook, triggered by a scheduled will go through the following steps:</p>
<ol>
<li>On a schedule <em>(7 AM, it will trigger an Azure Automation runbook)</em></li>
<li>The Azure Automation runbook will do a lookup to an external API, in this case, AbstractApi.</li>
<li>The runbook will check the date and detect if it falls on a Public Holiday; if it is a Public Holiday, it will exit the Azure Automation runbook; if it is a standard workday, it will start the Virtual Machine.</li>
</ol>
<p>To do this, we need a few resources.</p>
<ul>
<li><a href="https://learn.microsoft.com/en-us/azure/automation/overview?WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer" title="What is Azure Automation?">Azure Automation</a> Account</li>
<li>Azure Automation <a href="https://learn.microsoft.com/en-us/azure/automation/automation-runbook-types?WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer" title="Azure Automation runbook types">runbook</a> <em>(I will supply a PowerShell runbook below)</em></li>
<li><a href="https://www.abstractapi.com/" target="_blank" rel="noopener noreferrer" title="Automate routine dev work with Abstract&#x27;s suite of APIs">AbstractAPI </a> API Key</li>
</ul>
<p>And, of course, &#x27;Contributor&#x27; rights to the Microsoft Azure subscription to create the resources and the schedule, along with setting up the System Managed identity to grant the Azure Automation account access to start the Virtual Machine.</p>
<p>We will set up this from scratch using the Azure Portal and use an already created PowerShell Azure Automation runbook.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="deploy-start-vm-solution">Deploy Start VM Solution<a href="#deploy-start-vm-solution" class="hash-link" aria-label="Direct link to Deploy Start VM Solution" title="Direct link to Deploy Start VM Solution">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="setup-azure-automation-account">Setup Azure Automation Account<a href="#setup-azure-automation-account" class="hash-link" aria-label="Direct link to Setup Azure Automation Account" title="Direct link to Setup Azure Automation Account">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="create-azure-automation-account">Create Azure Automation Account<a href="#create-azure-automation-account" class="hash-link" aria-label="Direct link to Create Azure Automation Account" title="Direct link to Create Azure Automation Account">​</a></h5>
<p>First, we need an <a href="https://learn.microsoft.com/en-us/azure/automation/automation-create-standalone-account?tabs=azureportal&amp;WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer" title="Create a standalone Azure Automation account">Azure Automation</a> resource.</p>
<ol>
<li>Log into the <a href="https://portal.azure.com/#home" target="_blank" rel="noopener noreferrer" title="Microsoft Azure Portal"><strong>Microsoft Azure Portal</strong></a>.</li>
<li>Click <strong>+ Create a resource.</strong></li>
<li>Type in <strong>automation</strong></li>
<li>Select <strong>Create</strong> under Automation, and select <strong>Automation.</strong></li>
<li><img decoding="async" loading="lazy" alt="Create Azure Automation Account" src="/assets/images/azureportal-create-automation-f17fe5866b2554fab2016911fdae4250.jpg" title="Create Azure Automation Account" width="426" height="573" class="img_ev3q"></li>
<li>Select your <strong>subscription</strong></li>
<li>Select your <strong>Resource Group</strong> or Create one if you don&#x27;t already have one <em>(I recommend placing your automation resources in an Azure Management or Automation resource group, this will also contain your Runbooks)</em></li>
<li>Select your <strong>region</strong></li>
<li><img decoding="async" loading="lazy" alt="Create Azure Automation Account" src="/assets/images/azureportal-create-automation_basics-1389cb6873b6fc1b5c884f01279f38c4.jpg" title="Create Azure Automation Account" width="749" height="479" class="img_ev3q"></li>
<li>Select <strong>Next</strong></li>
<li>Make sure: <strong>System assigned</strong> is selected for Managed identities <em>(this will be required for giving your automation account permissions to deallocate your Virtual Machine, but it can be enabled later if you already have an Azure Automation account)</em>.</li>
<li>Click <strong>Next</strong></li>
<li>Leave Network connectivity as default (<strong>Public access</strong>)</li>
<li>Click <strong>Next</strong></li>
<li><strong>Enter</strong> in appropriate <strong>tags</strong></li>
<li><img decoding="async" loading="lazy" alt="Create Azure Automation Account" src="/assets/images/azureportal-create-automation_tags-cf8d12ea6a602ac7d4d3019f34458da0.jpg" title="Create Azure Automation Account" width="753" height="524" class="img_ev3q"></li>
<li>Click <strong>Review + Create</strong></li>
<li>After validation has passed, select <strong>Create</strong></li>
</ol>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="configure-system-identity">Configure System Identity<a href="#configure-system-identity" class="hash-link" aria-label="Direct link to Configure System Identity" title="Direct link to Configure System Identity">​</a></h5>
<p>Now that we have our Azure Automation account, its time to set up the System Managed Identity and grant it the following roles:</p>
<ul>
<li>Virtual Machine Contributor <em>(to deallocate the Virtual Machine)</em></li>
</ul>
<p>You can set up a custom role to be least privileged and use that instead. But in this article, we will stick to the built-in roles.</p>
<ol>
<li>Log into the <a href="https://portal.azure.com/#home" target="_blank" rel="noopener noreferrer" title="Microsoft Azure Portal"><strong>Microsoft Azure Portal</strong></a>.</li>
<li>Navigate to your Azure <strong>Automation account</strong></li>
<li>Click on: <strong>Identity</strong></li>
<li>Make sure that the <strong>System assigned</strong> toggle is: <strong>On</strong> and click <strong>Azure role assignments.</strong></li>
<li><img decoding="async" loading="lazy" alt="Azure Automation Account managed identity" src="/assets/images/azureportal-automation_managedidentity-46173e0eb415b07c841cfd616266eb7c.jpg" title="Azure Automation Account managed identity" width="773" height="706" class="img_ev3q"></li>
<li>Click <strong>+ Add role assignments</strong></li>
<li>Select the <strong>Subscription</strong> <em>(make sure this subscription matches the same subscription your Virtual Machines are in)</em></li>
<li>Select Role: <strong>Virtual Machine Contributor</strong></li>
<li>Click <strong>Save</strong></li>
<li>Click <strong>Refresh</strong> <em>(it may take a few seconds to update the Portal, so if it is blank - give it 10 seconds and try again)</em>.</li>
<li>You have now set up the System Managed identity and granted it the roles necessary to execute the automation.</li>
</ol>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="setup-abstract-api-key">Setup Abstract API Key<a href="#setup-abstract-api-key" class="hash-link" aria-label="Direct link to Setup Abstract API Key" title="Direct link to Setup Abstract API Key">​</a></h5>
<p>Now we need to create an API key, which will be used in the runbook to start the Virtual Machine, the API key will allow connections to the Abstract API to retrieve public Holliday information.</p>
<ol>
<li>Create an <a href="https://www.abstractapi.com/" target="_blank" rel="noopener noreferrer" title="Abstract API"><strong>Abstract API</strong></a> account</li>
<li><strong>Log in</strong> to the newly created account</li>
<li>On the left-hand navigation bar, click on <strong>Holidays</strong></li>
<li><img decoding="async" loading="lazy" src="data:image/png;base64,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" width="244" height="441" class="img_ev3q"></li>
<li>Click on &#x27;<strong>Try it out</strong></li>
<li><strong>Copy</strong> the <strong>API key</strong></li>
<li><img decoding="async" loading="lazy" alt="Abstract API - API Key" src="/assets/images/abstractapi_key-c213ebd8ac4b031f65e3b4a98dc2bddd.png" title="Abstract API - API Key" width="1070" height="777" class="img_ev3q"></li>
<li>Copy the API key, as we will need it for the next steps.</li>
</ol>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="import-runbook">Import Runbook<a href="#import-runbook" class="hash-link" aria-label="Direct link to Import Runbook" title="Direct link to Import Runbook">​</a></h5>
<p>Now that the modules have been imported into your Azure Automation account, it is time to import the Azure Automation runbook.</p>
<ol>
<li>Log into the <a href="https://portal.azure.com/#home" target="_blank" rel="noopener noreferrer" title="Microsoft Azure Portal"><strong>Microsoft Azure Portal</strong></a>.</li>
<li>Navigate to your Azure <strong>Automation account</strong></li>
<li>Click on <strong>Runbooks</strong></li>
<li>Click <strong>+ Create a runbook</strong></li>
<li>Specify a <strong>name</strong> <em>(i.e. Start-AzureVirtualMachine)</em></li>
<li>Select Runbook type of <strong>PowerShell</strong>
<ol>
<li>A select Runtime version of: <strong>5.1</strong> <em>(7.1 works as well).</em></li>
</ol>
</li>
<li>Type in a <strong>Description</strong> that explains the runbook <em>(this isn&#x27;t mandatory, but like Tags is recommended, this is an opportunity to indicate to others what it is for and who set it up)</em></li>
<li><img decoding="async" loading="lazy" src="/assets/images/azure-createazurerunbook-39ce2398dc02876db33ee67526176902.png" width="733" height="457" class="img_ev3q"></li>
<li>Click <strong>Create</strong></li>
<li>Now you will be greeted with a blank edit pane; paste in the Runbook from below:</li>
</ol>
<div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">Start-AzureVirtualMachine.ps1</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">#requires -Version 3.0 -Modules Az.Accounts, Az.Resources</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">&lt;#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">    .SYNOPSIS</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">    PowerShell Azure Automation Runbook for Starting/Stopping Virtual Machines. </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">    .AUTHOR</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">    Luke Murray (https://github.com/lukemurraynz/)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">    .VERSION</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">    1.0 - 28/04/22 - script versioned to &#x27;1.0&#x27;.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">    .DESCRIPTION</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">    1. The script first checks if today is a holiday by making a call to the Abstract API.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">    The Abstract API returns a JSON object containing the holiday name and (optional) description.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">    The script checks if the name property is null. If it is not null, the script displays a message indicating that today is a holiday.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">    If the name property is null, the script displays a message indicating that today is not a holiday.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">    2. The script then checks if the virtual machine is running or not. If it is running, the script will stop the virtual machine.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">    If it is not running, the script will start the virtual machine, depending on the Shutdown tag value</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">#&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">Param</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token namespace">[Parameter(Mandatory = $true)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token namespace">[String]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$TagName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token namespace">[Parameter(Mandatory = $true)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token namespace">[String]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$TagValue</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token namespace">[Parameter(Mandatory = $true)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token namespace">[Boolean]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$Shutdown</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$CountryCode</span><span class="token plain"> = </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;NZ&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$tDate</span><span class="token plain"> =</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token function" style="color:rgb(80, 250, 123)">Get-Date</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">ToUniversalTime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$tz</span><span class="token plain"> = </span><span class="token namespace">[System.TimeZoneInfo]</span><span class="token plain">::FindSystemTimeZoneById</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;New Zealand Standard Time&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$Date</span><span class="token plain">  = </span><span class="token namespace">[System.TimeZoneInfo]</span><span class="token plain">::ConvertTimeFromUtc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$tDate</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$tz</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$API</span><span class="token plain"> = </span><span class="token function" style="color:rgb(80, 250, 123)">Get-AutomationVariable</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain">Name AbstractApiKey</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$Holiday</span><span class="token plain"> = </span><span class="token function" style="color:rgb(80, 250, 123)">Invoke-WebRequest</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain">Uri </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;https://holidays.abstractapi.com/v1/?api_key={0}&amp;country={1}&amp;year={2}&amp;month={3}&amp;day={4}&#x27;</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain">f </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$API</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$CountryCode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$Date</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Year</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$Date</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Month</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$Date</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Day</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$Holidays</span><span class="token plain"> = </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$Holiday</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Content</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$Holidays</span><span class="token plain"> = </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$Holidays</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">ConvertFrom-Json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">IF</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$null</span><span class="token plain"> </span><span class="token operator">-ne</span><span class="token plain"> </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$Holidays</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">Write-Output</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain">InputObject </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Today is a holiday. The Holiday today is: {0}. The Azure Virtual Machine won&#x27;t be started.&quot;</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain">f </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$Holidays</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">ELSE</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">Write-Output</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain">Message </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;No holiday today. The Virtual Machine will be started.&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># Ensures you do not inherit an AzContext in your runbook</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">Disable-AzContextAutosave</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain">Scope </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">Process</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># Connect to Azure with system-assigned managed identity (Azure Automation account, which has been given VM Start permissions)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$AzureContext</span><span class="token plain"> = </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token function" style="color:rgb(80, 250, 123)">Connect-AzAccount</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain">Identity</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">context</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">Write-Output</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain">InputObject </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$AzureContext</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># set and store context</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$AzureContext</span><span class="token plain"> = </span><span class="token function" style="color:rgb(80, 250, 123)">Set-AzContext</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain">SubscriptionName </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$AzureContext</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Subscription </span><span class="token operator">-</span><span class="token plain">DefaultProfile </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$AzureContext</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">Write-Output</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain">InputObject </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$AzureContext</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$vms</span><span class="token plain"> = </span><span class="token function" style="color:rgb(80, 250, 123)">Get-AzResource</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain">TagName </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$TagName</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain">TagValue </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$TagValue</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">Where-Object</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain">FilterScript </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$_</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">ResourceType </span><span class="token operator">-like</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Microsoft.Compute/virtualMachines&#x27;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">Foreach</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$vm</span><span class="token plain"> in </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$vms</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$Shutdown</span><span class="token plain"> </span><span class="token operator">-eq</span><span class="token plain"> </span><span class="token boolean">$true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token function" style="color:rgb(80, 250, 123)">Write-Output</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain">InputObject </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Stopping </span><span class="token string function" style="color:rgb(80, 250, 123)">$</span><span class="token string function punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string function variable" style="color:rgb(189, 147, 249);font-style:italic">$vm</span><span class="token string function punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token string function" style="color:rgb(80, 250, 123)">Name</span><span class="token string function punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token plain">        </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token function" style="color:rgb(80, 250, 123)">Stop-AzVM</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain">Name </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$vm</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Name </span><span class="token operator">-</span><span class="token plain">ResourceGroupName </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$vm</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">ResourceGroupName </span><span class="token operator">-</span><span class="token plain">Force</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token function" style="color:rgb(80, 250, 123)">Write-Output</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain">InputObject </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Starting </span><span class="token string function" style="color:rgb(80, 250, 123)">$</span><span class="token string function punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string function variable" style="color:rgb(189, 147, 249);font-style:italic">$vm</span><span class="token string function punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token string function" style="color:rgb(80, 250, 123)">Name</span><span class="token string function punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token plain">        </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token function" style="color:rgb(80, 250, 123)">Start-AzVM</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain">Name </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$vm</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Name </span><span class="token operator">-</span><span class="token plain">ResourceGroupName </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$vm</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">ResourceGroupName</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="12">
<li><strong>Change</strong> the <strong>country code</strong> to align with your own country. You can use the IP <a href="https://app.abstractapi.com/api/ip-geolocation/tester" target="_blank" rel="noopener noreferrer" title="IP geolocation API">geolocation API</a> in Abstract API to do a live test, which will give you your country code. Feel free to amend the Write-Output messages to make sense for your environment.</li>
<li>Click <strong>Save</strong></li>
<li><img decoding="async" loading="lazy" alt="Azure Runbook - PowerShell" src="/assets/images/azurerunbook_publishedsource-f7e6de348d83dd7068cf302b98d22c49.png" title="Azure Runbook - PowerShell" width="784" height="690" class="img_ev3q"></li>
<li>Click <strong>Publish</strong> <em>(so the runbook is actually in production and can be used)</em></li>
<li>You can select View or Edit at any stage, but you have now imported the Azure Automation runbook!</li>
</ol>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="setup-variables">Setup Variables<a href="#setup-variables" class="hash-link" aria-label="Direct link to Setup Variables" title="Direct link to Setup Variables">​</a></h5>
<p>Now that the Azure runbook has been imported, we need to set up the variables, which include the API key.</p>
<ol>
<li>Log into the <a href="https://portal.azure.com/#home" target="_blank" rel="noopener noreferrer" title="Microsoft Azure Portal"><strong>Microsoft Azure Portal</strong></a>.</li>
<li>Navigate to your Azure <strong>Automation account</strong></li>
<li>Click <strong>Variables</strong></li>
<li>Click <strong>+ Add a variable</strong></li>
<li><strong>Create</strong> a Variable named: <strong>AbstractApiKey</strong> <em>(this needs to match the variable name as part of the &#x27;Get-AutomationVariable&#x27; cmdlet)</em>.</li>
<li>Enter in a <strong>description</strong></li>
<li>Select <strong>String</strong></li>
<li><strong>Enter</strong> in the <strong>API</strong> key you retrieved earlier from Abstract API.</li>
<li><img decoding="async" loading="lazy" alt="Azure Automation - Variables" src="/assets/images/azure-azautomate_variables-c2f7dc12053dd8a54d84af4715988f41.png" width="566" height="605" class="img_ev3q"></li>
<li>Click <strong>Save</strong></li>
</ol>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="setup-schedule">Setup Schedule<a href="#setup-schedule" class="hash-link" aria-label="Direct link to Setup Schedule" title="Direct link to Setup Schedule">​</a></h5>
<p>Now that the variables have been set up, we need to set up the schedule. This is the schedule that will be used to start the Virtual Machine. In the example below we are going to use a Standard Monday -&gt; Friday work week, but adjust the time and date for when you need to start the virtual machine up.</p>
<ol>
<li>Log into the <a href="https://portal.azure.com/#home" target="_blank" rel="noopener noreferrer" title="Microsoft Azure Portal"><strong>Microsoft Azure Portal</strong></a>.</li>
<li>Navigate to your Azure <strong>Automation account</strong></li>
<li>Click <strong>Schedule</strong></li>
<li>Click <strong>+ Add a schedule</strong></li>
<li><strong>Type</strong> in a <strong>name</strong> for the <strong>schedule</strong> <em>(ie Azure Virtual Machine - Start)</em>.</li>
<li>Type in a <strong>Description</strong></li>
<li><strong>Select</strong> the <strong>Start Date</strong> to match when you want to start the Schedule <em>(ie first Monday of the week)</em>.</li>
<li><strong>Select</strong> your <strong>Timezone</strong>, so that the script runs on the right time/date which makes your timezone.</li>
<li>For Recurrance, specify: <strong>Recurring</strong></li>
<li>Set it to Recur every: <strong>1 Day</strong></li>
<li>Check <strong>Monday</strong>, <strong>Tuesday</strong>, <strong>Wednesday</strong>, <strong>Thursday</strong>, and <strong>Friday</strong></li>
<li>Leave Saturday and Sunday unchecked.</li>
<li>Click <strong>Create</strong></li>
<li>Now that the Schedule has been created, we need to bind it to a Runbook</li>
<li>On the Automation account blade, click on <strong>Runbooks</strong></li>
<li>Click on your &#x27;Start Azure Virtual Machine&#x27; runbook</li>
<li>Select <strong>Schedules</strong></li>
<li>Click <strong>Add a Schedule</strong></li>
<li>Press: <strong>Link a schedule to your runbook</strong></li>
<li>Select <strong>your</strong> newly created <strong>Schedule</strong></li>
<li>For the Tag Name, select <strong>Shutdown</strong></li>
<li>For the Tag Value name, Select <strong>Yes</strong></li>
<li>For Shutdown, select <strong>false</strong></li>
<li>Click <strong>Ok</strong></li>
<li>Your schedule has now been configured and the runbook will run the next time it matches your scheduled date and time.</li>
</ol>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="configure-tags">Configure Tags<a href="#configure-tags" class="hash-link" aria-label="Direct link to Configure Tags" title="Direct link to Configure Tags">​</a></h5>
<p>The runbook is written, so it doesn&#x27;t need to be adjusted for future machines and making changes on the fly, this relies on each Virtual Machine that you want started to be started using the Runbook to be tagged.</p>
<ol>
<li>Log into the <a href="https://portal.azure.com/#home" target="_blank" rel="noopener noreferrer" title="Microsoft Azure Portal"><strong>Microsoft Azure Portal</strong></a>.</li>
<li>Navigate to your Azure <strong>Virtual Machine</strong></li>
<li>Click <strong>Tags</strong></li>
<li><strong>Add the following tag</strong>:</li>
</ol>













<table><thead><tr><th>Tag Key</th><th>Tag Value</th></tr></thead><tbody><tr><td>Shutdown</td><td>Yes</td></tr></tbody></table>
<p>Congratulations, the next time your schedule triggers, every runbook with the Shutdown tag will be started, according to your schedule, and workday. If it&#x27;s a Public Holiday or a Weekend, the Virtual Machine will remain off - saving cost.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/azure/">Azure</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/azure/microsoft-azure-naming-conventions/">Microsoft Azure Naming Conventions</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-06-02T00:00:00.000Z">June 2, 2022</time> · <!-- -->8 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://luke.geek.nz" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://luke.geek.nz/img/logo.png" alt="Luke Murray"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://luke.geek.nz" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Luke Murray</span></a></div><small class="authorTitle_nd0D" title="Author">Author</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>Accurately representing and naming your resources is essential for security purposes.</p>
<p>In a security incident, it is critical to identify affected systems quickly, what functions those systems support, and the potential business impact.</p>
<p>A useful naming convention composes resource names from important information about each resource. A well-chosen name helps you quickly identify the resource&#x27;s type, its associated workload, its deployment environment, and the Azure region hosting it.</p>
<p>Some resource names, such as PaaS services with public endpoints or virtual machine DNS labels, have global scopes, so they must be unique across the Azure platform.</p>
<p>There&#x27;s no one size fits all to Azure naming conventions, it needs to suit your organisation, however, it is worth noting that there are limitations to naming rules to Azure resources.</p>
<ul>
<li><a href="https://learn.microsoft.com/en-us/azure/azure-resource-manager/management/resource-name-rules?WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer" title="Naming rules and restrictions for Azure resources">Naming rules and restrictions for Azure resources</a></li>
<li><a href="https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/ready/azure-best-practices/resource-naming?WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer" title="Define your naming convention">Define your naming convention</a></li>
<li><a href="https://luke.geek.nz/azure/deploy-azure-naming-tool-into-an-azure-webapp-as-a-container/" target="_blank" rel="noopener noreferrer">Deploy Azure Naming Tool into an Azure WebApp as a container</a></li>
</ul>
<p>The use of these limitations and scopes have been used to determine the following naming conventions across associated resources.</p>













<table><thead><tr><th>Casing</th><th>Name Format</th></tr></thead><tbody><tr><td>Lowercase</td><td>{organizationName}-{component}-{resourceTypeshortCode}-{regionShortCode}-{environmentlongcode}</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="naming-convention-examples">Naming Convention Examples<a href="#naming-convention-examples" class="hash-link" aria-label="Direct link to Naming Convention Examples" title="Direct link to Naming Convention Examples">​</a></h3>
































































































































































































































































































































<table><thead><tr><th>Environment</th><th>Application Name</th><th>Azure Region</th><th>Azure Service</th><th>Example Name</th></tr></thead><tbody><tr><td>Production</td><td>application1</td><td>Australia East</td><td>App Service</td><td>company-application1-asvc-au-e-prod</td></tr><tr><td>Production</td><td>application1</td><td>Australia East</td><td>App Service Environment</td><td>company-application1-ase-au-e-prod</td></tr><tr><td>Production</td><td>application1</td><td>Australia East</td><td>App Service Plan</td><td>company-application1-asp-au-e-prod</td></tr><tr><td>Production</td><td>application1</td><td>Australia East</td><td>Application Gateway</td><td>company-application1-agw-au-e-prod</td></tr><tr><td>Production</td><td>application1</td><td>Australia East</td><td>Automation Account</td><td>company-application1-aum-au-e-prod</td></tr><tr><td>Production</td><td>application1</td><td>Australia East</td><td>Availability Set</td><td>company-application1-avs-au-e-prod</td></tr><tr><td>Production</td><td>application1</td><td>Australia East</td><td>Azure Arc enabled Kubernetes cluster</td><td>company-application1-arck-au-e-prod</td></tr><tr><td>Production</td><td>application1</td><td>Australia East</td><td>Azure Arc enabled server</td><td>company-application1-arcs-au-e-prod</td></tr><tr><td>Production</td><td>application1</td><td>Australia East</td><td>Azure Cosmos DB database</td><td>company-application1-cosmos-au-e-prod</td></tr><tr><td>Production</td><td>application1</td><td>Australia East</td><td>Azure Data Factory</td><td>company-application1-adf-au-e-prod</td></tr><tr><td>Production</td><td>application1</td><td>Australia East</td><td>Azure Search</td><td>company-application1-srch-au-e-prod</td></tr><tr><td>Production</td><td>application1</td><td>Australia East</td><td>Azure SQL Database</td><td>company-application1-sqldb-au-e-prod</td></tr><tr><td>Production</td><td>application1</td><td>Australia East</td><td>Azure SQL Elastic Pool</td><td>company-application1-sqlep-au-e-prod</td></tr><tr><td>Production</td><td>application1</td><td>Australia East</td><td>Azure SQL Server</td><td>company-application1-sql-au-e-prod</td></tr><tr><td>Production</td><td>application1</td><td>Australia East</td><td>Container registry</td><td>company-application1-cr-au-e-prod</td></tr><tr><td>Production</td><td>application1</td><td>Australia East</td><td>Cosmos DB</td><td>company-application1-cdb-au-e-prod</td></tr><tr><td>Production</td><td>application1</td><td>Australia East</td><td>Function App</td><td>company-application1-func-au-e-prod</td></tr><tr><td>Production</td><td>application1</td><td>Australia East</td><td>Gateway connection</td><td>company-application1-cn-au-e-prod</td></tr><tr><td>Test</td><td>application1</td><td>Australia East</td><td>IoT Central</td><td>company-application1-iotc-au-e-test</td></tr><tr><td>Test</td><td>application1</td><td>Australia East</td><td>Key Vault</td><td>company-application1-kv-au-e-test</td></tr><tr><td>Test</td><td>application1</td><td>Australia East</td><td>Load Balancer</td><td>company-application1-lb-au-e-test</td></tr><tr><td>Test</td><td>application1</td><td>Australia East</td><td>Local Network Gateway</td><td>company-application1-lgw-au-e-test</td></tr><tr><td>Test</td><td>application1</td><td>Australia East</td><td>Log Analytics workspace</td><td>company-application1-la-au-e-test</td></tr><tr><td>Production</td><td>application1</td><td>Australia East</td><td>MySQL database</td><td>company-application1-mysql-au-e-prod</td></tr><tr><td>Production</td><td>application1</td><td>Australia East</td><td>Network Interface</td><td>company-application1-nic-au-e-prod</td></tr><tr><td>Production</td><td>application1</td><td>Australia East</td><td>Network Security Group</td><td>company-application1-nsg-au-e-prod</td></tr><tr><td>Production</td><td>application1</td><td>Australia East</td><td>Network Security Group Rule</td><td>company-application1-nsg-au-e-prod</td></tr><tr><td>Production</td><td>application1</td><td>Australia East</td><td>Public IP Address</td><td>company-application1-pip-au-e-prod</td></tr><tr><td>Production</td><td></td><td>Australia East</td><td>Recovery Services vault</td><td>company-rsv-au-e-prod</td></tr><tr><td>Production</td><td>application1</td><td>Australia East</td><td>Recovery Services Vault - Backup policies</td><td>company-application1-rsvp-au-e-prod</td></tr><tr><td>Production</td><td>application1</td><td>Australia East</td><td>Resource Group</td><td>company-application1-rg-au-e-prod</td></tr><tr><td>Production</td><td>application1</td><td>Australia East</td><td>Route table</td><td>company-application1-route-au-e-prod</td></tr><tr><td>Production</td><td>application1</td><td>Australia East</td><td>Runbooks</td><td>company-application1-run-au-e-prod</td></tr><tr><td>Production</td><td>application1</td><td>Australia East</td><td>Service Bus - Namespace</td><td>company-application1-sbns-au-e-prod</td></tr><tr><td>Production</td><td>application1</td><td>Australia East</td><td>SQL Data Warehouse</td><td>company-application1-sqldw-au-e-prod</td></tr><tr><td>Production</td><td>application1</td><td>Australia East</td><td>SQL Managed Instance</td><td>company-application1-sqlmi-au-e-prod</td></tr><tr><td>Production</td><td>App1</td><td>Australia East</td><td>Storage Account</td><td>company-pp1-stg-au-e-prod</td></tr><tr><td>Production</td><td>application1</td><td>Australia East</td><td>Subnet</td><td>company-application1-snet-au-e-prod</td></tr><tr><td>Production</td><td>application1</td><td>Australia East</td><td>Subscription</td><td>company-application1-sub-prod</td></tr><tr><td>Production</td><td>application1</td><td>Australia East</td><td>Traffic Manager Profile</td><td>company-application1-tmp-au-e-prod</td></tr><tr><td>Production</td><td>application1</td><td>Australia East</td><td>User defined route (UDR)</td><td>company-application1-udr-au-e-prod</td></tr><tr><td>Production</td><td>application1</td><td>Australia East</td><td>Virtual machine scale set</td><td>company-application1-vmss-au-e-prod</td></tr><tr><td>Production</td><td>application1</td><td>Australia East</td><td>Virtual Network</td><td>company-application1-vn-au-e-prod</td></tr><tr><td>Production</td><td>application1</td><td>Australia East</td><td>Virtual Network Gateway</td><td>company-application1-vngw-au-e-prod</td></tr></tbody></table>
<p><img decoding="async" loading="lazy" alt="Azure Naming - Global" src="/assets/images/azurenaming-de5701625b4cd5285260a9d2ace49307.png" title="Azure Naming - Global" width="1010" height="415" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="resource-group">Resource Group<a href="#resource-group" class="hash-link" aria-label="Direct link to Resource Group" title="Direct link to Resource Group">​</a></h3>



















<table><thead><tr><th>Environment</th><th>Application Name</th><th>Azure Region</th><th>Azure Service</th><th>Example Name</th></tr></thead><tbody><tr><td>Production</td><td>application1</td><td>Australia East</td><td>Resource Group</td><td>company-application1-rg-au-e-prod</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="resource-type-codes">Resource Type Codes<a href="#resource-type-codes" class="hash-link" aria-label="Direct link to Resource Type Codes" title="Direct link to Resource Type Codes">​</a></h3>

























































































































































































































































































<table><thead><tr><th>Resource Type</th><th>Short Code</th><th>Scope</th><th>Character Limit</th></tr></thead><tbody><tr><td>App Service</td><td>asvc</td><td>Global</td><td>40</td></tr><tr><td>App Service Environment</td><td>ase</td><td>Resource Group</td><td>38</td></tr><tr><td>App Service Plan</td><td>asp</td><td>Resource Group</td><td>40</td></tr><tr><td>Application Gateway</td><td>agw</td><td>Resource Group</td><td>80</td></tr><tr><td>Automation Account</td><td>aum</td><td>Resource Group</td><td>50</td></tr><tr><td>Availability Set</td><td>avs</td><td>Resource Group</td><td>80</td></tr><tr><td>Azure Arc enabled Kubernetes cluster</td><td>arck</td><td>Resource Group</td><td>63</td></tr><tr><td>Azure Arc enabled server</td><td>arcs</td><td>Resource Group</td><td>15</td></tr><tr><td>Azure Cosmos DB database</td><td>cosmos</td><td>Global</td><td>63</td></tr><tr><td>Azure Data Factory</td><td>adf</td><td>Global</td><td>63</td></tr><tr><td>Azure Search</td><td>srch</td><td>Global</td><td>60</td></tr><tr><td>Azure SQL Database</td><td>sqldb</td><td>Server</td><td>128</td></tr><tr><td>Azure SQL Elastic Pool</td><td>sqlep</td><td>Server</td><td>128</td></tr><tr><td>Azure SQL Server</td><td>sql</td><td>Global</td><td>63</td></tr><tr><td>Container registry</td><td>cr</td><td>Global</td><td>50</td></tr><tr><td>Cosmos DB</td><td>cdb</td><td>Global</td><td>50</td></tr><tr><td>Function App</td><td>func</td><td>Global</td><td>40</td></tr><tr><td>Gateway connection</td><td>cn</td><td>Resource Group</td><td>80</td></tr><tr><td>IoT Central</td><td>iotc</td><td>Global</td><td>63</td></tr><tr><td>Key Vault</td><td>kv</td><td>Global</td><td>24</td></tr><tr><td>Load Balancer</td><td>lb</td><td>Resource Group</td><td>80</td></tr><tr><td>Local Network Gateway</td><td>lgw</td><td>Resource Group</td><td>80</td></tr><tr><td>Log Analytics workspace</td><td>la</td><td>Global</td><td>24</td></tr><tr><td>MySQL database</td><td>mysql</td><td>Global</td><td>63</td></tr><tr><td>Network Interface</td><td>nic</td><td>Resource Group</td><td>80</td></tr><tr><td>Network Security Group</td><td>nsg</td><td>Resource Group</td><td>80</td></tr><tr><td>Network Security Group Rule</td><td>nsg</td><td>Resource Group</td><td>80</td></tr><tr><td>Public IP Address</td><td>pip</td><td>Resource Group</td><td>80</td></tr><tr><td>Recovery Services vault</td><td>rsv</td><td>Resource Group</td><td>50</td></tr><tr><td>Recovery Services Vault - Backup policies</td><td>rsvp</td><td>vault</td><td>50</td></tr><tr><td>Resource Group</td><td>rg</td><td>Global</td><td>64</td></tr><tr><td>Route table</td><td>route</td><td>Resource Group</td><td>80</td></tr><tr><td>Runbooks</td><td>run</td><td>Automation Account</td><td>63</td></tr><tr><td>Service Bus - Namespace</td><td>sbns</td><td>Global</td><td>50</td></tr><tr><td>SQL Data Warehouse</td><td>sqldw</td><td>Global</td><td>63</td></tr><tr><td>SQL Managed Instance</td><td>sqlmi</td><td>Global</td><td>63</td></tr><tr><td>Storage Account</td><td>stg</td><td>Global</td><td>24</td></tr><tr><td>Subnet</td><td>snet</td><td>Virtual Network</td><td>80</td></tr><tr><td>Subscription</td><td>sub</td><td>Account</td><td>64</td></tr><tr><td>Traffic Manager Profile</td><td>tmp</td><td>Resource Group</td><td>63</td></tr><tr><td>User defined route (UDR)</td><td>udr</td><td>Resource Group</td><td>80</td></tr><tr><td>Virtual Machine</td><td>vm</td><td>Resource Group</td><td>15</td></tr><tr><td>Virtual machine scale set</td><td>vmss</td><td>Resource Group</td><td>15</td></tr><tr><td>Virtual Network</td><td>vn</td><td>Resource Group</td><td>63</td></tr><tr><td>Virtual Network Gateway</td><td>vngw</td><td>Resource Group</td><td>80</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="environment-names">Environment Names<a href="#environment-names" class="hash-link" aria-label="Direct link to Environment Names" title="Direct link to Environment Names">​</a></h3>

























<table><thead><tr><th>Environment Name</th><th>Long Code</th></tr></thead><tbody><tr><td>Development</td><td>dev</td></tr><tr><td>Test</td><td>test</td></tr><tr><td>Staging</td><td>stg</td></tr><tr><td>Production</td><td>prod</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="azure-regions">Azure Regions<a href="#azure-regions" class="hash-link" aria-label="Direct link to Azure Regions" title="Direct link to Azure Regions">​</a></h3>













































































<table><thead><tr><th>Azure Region</th><th>Geo Short Code</th><th>Datacentre Short Code</th><th>Short Code</th></tr></thead><tbody><tr><td>East US</td><td>us</td><td>e</td><td>us-e</td></tr><tr><td>East US 2</td><td>us</td><td>e2</td><td>us-e2</td></tr><tr><td>Central US</td><td>us</td><td>c</td><td>us-c</td></tr><tr><td>North Central US</td><td>us</td><td>cn</td><td>us-cn</td></tr><tr><td>West Central US</td><td>us</td><td>cw</td><td>us-cw</td></tr><tr><td>West US</td><td>us</td><td>w</td><td>us-w</td></tr><tr><td>West US 2</td><td>us</td><td>w2</td><td>us-w2</td></tr><tr><td>Australia East</td><td>au</td><td>e</td><td>au-e</td></tr><tr><td>Australia Southeast</td><td>au</td><td>se</td><td>au-se</td></tr><tr><td>Australia Central</td><td>au</td><td>c</td><td>au-c</td></tr><tr><td>New Zealand North</td><td>nz</td><td>n</td><td>nz-n</td></tr></tbody></table></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/azure/">Azure</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/azure/microsoft-azure-tagging-conventions/">Microsoft Azure Tagging Conventions</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-06-01T12:00:00.000Z">June 1, 2022</time> · <!-- -->5 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://luke.geek.nz" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://luke.geek.nz/img/logo.png" alt="Luke Murray"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://luke.geek.nz" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Luke Murray</span></a></div><small class="authorTitle_nd0D" title="Author">Author</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>Organizing cloud-based resources is a crucial task for IT unless you only have simple deployments. Use naming and tagging standards to organize your resources for these reasons:</p>
<ul>
<li><strong>Resource management</strong>: Your IT teams will need to quickly locate resources associated with specific workloads, environments, ownership groups, or other important information. Organizing resources is critical to assigning organizational roles and access permissions for resource management.</li>
<li><strong>Cost management and optimization</strong>: Making business groups aware of cloud resource consumption requires IT to understand each team&#x27;s resources and workloads.</li>
<li><strong>Operations management</strong>: Visibility for the operations management team regarding business commitments and SLAs is an essential aspect of ongoing operations.</li>
<li><strong>Security:</strong> Classification of data and security impact is a vital data point for the team when breaches or other security issues arise.</li>
<li><strong>Governance and regulatory compliance:</strong> Maintaining consistency across resources helps identify deviation from agreed-upon policies.</li>
<li><strong>Automation:</strong> In addition to making resources easier for IT to manage, a proper organizational scheme allows you to take advantage of automation as part of resource creation, operational monitoring, and the result of DevOps processes.</li>
</ul>
<p><strong>Workload optimization:</strong> Tagging can help identify patterns and resolve broad issues. A tag can also help determine the assets required to support a single workload. Tagging all assets associated with each workload enables a more profound analysis of your mission-critical workloads to make sound architectural decisions.</p>
<ul>
<li><a href="https://learn.microsoft.com/en-us/azure/azure-resource-manager/management/tag-resources?tabs=json&amp;WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer" title="Use tags to organize your Azure resources and management hierarchy">Use tags to organize your Azure resources and management hierarchy</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tagging-types">Tagging Types<a href="#tagging-types" class="hash-link" aria-label="Direct link to Tagging Types" title="Direct link to Tagging Types">​</a></h3>
<p>The common tagging patterns listed below provide examples of how tagging can be used to organize cloud assets. These patterns are not meant to be exclusive and can be used in parallel, providing multiple ways of organizing assets based on your company&#x27;s needs.</p>



































<table><thead><tr><th>Tag type</th><th>Examples</th><th>Description</th></tr></thead><tbody><tr><td>Functional</td><td>app = catalogsearch1 tier = web webserver = apache env = prod env = staging env = dev</td><td>Categorize resources in relation to their purpose within a workload, what environment they have been deployed to, or other functionality and operational details.</td></tr><tr><td>Classification</td><td>confidentiality = private SLA = 24hours</td><td>Classifies a resource by how it is used and what policies apply to it.</td></tr><tr><td>Accounting</td><td>department = finance program = business-initiative region = northamerica</td><td>Allows a resource to be associated with specific groups within an organization for billing purposes.</td></tr><tr><td>Partnership</td><td>owner = jsmith contactalias = catsearchowners stakeholders = user1; user2; user3</td><td>Provides information about what people (outside of IT) are related or otherwise affected by the resource.</td></tr><tr><td>Purpose</td><td>businessprocess = support businessimpact = moderate revenueimpact = high</td><td>Aligns resources to business functions to better support investment decisions.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tagging-baselines">Tagging Baselines<a href="#tagging-baselines" class="hash-link" aria-label="Direct link to Tagging Baselines" title="Direct link to Tagging Baselines">​</a></h3>
<p>Tag at the Resource Group level and then have an Azure policy implemented that tags the resources in that Resource Group with the appropriate tags.</p>

























































































<table><thead><tr><th>Tag Name</th><th>Value</th><th>Tag Type</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td>Environment</td><td>Production Development Sandbox</td><td>Functional</td><td>Tags the resources with the Environment Tag. This can be used to determine if a resource is Production, Development or Sandbox.</td><td>Environment: Production</td></tr><tr><td>Creator</td><td>{CreatorName}</td><td>Partnership</td><td>Tags the resource with the name of who created the resource. This can be used to determine who created the resource to be able to get more information.</td><td>Creator: Luke Murray</td></tr><tr><td>CreatedDate</td><td>{CreatedDate}</td><td>Purpose</td><td>Tags the resource with the Date/Time when the resource was created. This can be used to determine how old a resource is, which can be used to look at new functionality on created resources or check if resources are still required.</td><td>CreatedDate: 10:00 PM 03/06/2022 NZT</td></tr><tr><td>Criticality</td><td>P1 P2 P3</td><td>Purpose</td><td>Tags the resources with the criticality of the resources, i.e., if critical, then it is P1. This can be used to determine whether resources need to be highly available, whether changes can be made during or out of business hours.</td><td>Criticality:P1</td></tr><tr><td>SupportedBy</td><td>{TeamName}</td><td>Partnership</td><td>Tags the resources with the team/person or company who supports the resources, whether it is internally supported by the company or outsourced.</td><td>SupportedBy:Company</td></tr><tr><td>RequesterName</td><td>{Requestor}-{CompanyName)</td><td>Partnership</td><td>Tags the resources with the user that requested the creation of the resources.</td><td>RequesterName:Project Manager</td></tr><tr><td>BillTo</td><td>{BillTo}</td><td>Accounting</td><td>Tags the resources with the cost centre or project codes who will pay for the resources.</td><td>BillTo:AppTransformationProject1</td></tr><tr><td>AutoShutDown</td><td>Yes</td><td>Functional</td><td>This is an Automation functional tag, i.e., tag the resource (Virtual Machine) with a tagging code which will automatically Shut down and Start-up the Virtual Machine at specified times.</td><td>AutoShutDown:Yes</td></tr><tr><td>ApplicationName</td><td>{ProjectName}</td><td>Partnership</td><td>Tags the resource with the name of the project or what the resources in the resource group are for.</td><td>ApplicationName:AzureVirtualDesktopSH</td></tr><tr><td>Business Unit</td><td>{BusinessUnit}</td><td>Partnership</td><td>Tags the resource with the name of the Business Unit or Company that owns the resources.</td><td>BusinessUnit:Finance</td></tr><tr><td>Snapshot</td><td>True</td><td>Functional</td><td>This is an Automation functional tag, i.e., tag the resource (Disk) with a tagging code which can create daily snapshots of disks.</td><td>Snapshot:True</td></tr></tbody></table></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/azure/">Azure</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/tags/azure/page/23/"><div class="pagination-nav__label">Newer entries</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/tags/azure/page/25/"><div class="pagination-nav__label">Older entries</div></a></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 luke.geek.nz. Powered by coffee, clouds and hamsters on wheels!</div></div></div></footer></div>
</body>
</html>