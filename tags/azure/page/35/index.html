<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">183 posts tagged with &quot;Azure&quot; | luke.geek.nz</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://luke.geek.nz/img/social-card.png"><meta data-rh="true" name="twitter:image" content="https://luke.geek.nz/img/social-card.png"><meta data-rh="true" property="og:url" content="https://luke.geek.nz/tags/azure/page/35/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="183 posts tagged with &quot;Azure&quot; | luke.geek.nz"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://luke.geek.nz/tags/azure/page/35/"><link data-rh="true" rel="alternate" href="https://luke.geek.nz/tags/azure/page/35/" hreflang="en"><link data-rh="true" rel="alternate" href="https://luke.geek.nz/tags/azure/page/35/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://ZBH2T1WJQD-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/rss.xml" title="luke.geek.nz RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="luke.geek.nz Atom Feed">
<link rel="alternate" type="application/json" href="/feed.json" title="luke.geek.nz JSON Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-0QDLBY7NNN"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-0QDLBY7NNN",{anonymize_ip:!0})</script><link rel="stylesheet" href="/assets/css/styles.dd27eb3d.css">
<script src="/assets/js/runtime~main.975d7231.js" defer="defer"></script>
<script src="/assets/js/main.625df2af.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="dark";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="theme-announcement-bar announcementBar_mb4j" style="background-color:#D3D3D3" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">If you haven't already, sign up for my Weekly Azure updates Newsletter, straight to your inbox! <a target="_blank" rel="noopener noreferrer" href="https://newsletter.azurefeeds.com/join">Subscribe now!</a></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="luke.geek.nz" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.png" alt="luke.geek.nz" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">luke.geek.nz</b></a><a class="navbar__item navbar__link" href="/Tags/">Tags</a><a class="navbar__item navbar__link" href="/Archive/">Blog</a><a class="navbar__item navbar__link" href="/about/">About</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://www.youtube.com/channel/UCUG3TKDTAZz4UXshGrjBBoQ" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-icon" aria-label="YouTube">
              <svg width="24" height="24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path d="M23.498,6.186c-0.273-1.186-1.143-2.144-2.332-2.417C18.389,3.153,12,3.153,12,3.153s-6.389,0-9.166,0.616
                  c-1.19,0.273-2.06,1.23-2.332,2.417C0,8.07,0,12,0,12s0,3.93,0.502,5.814c0.272,1.187,1.142,2.062,2.332,2.335
                  C5.611,20.847,12,20.847,12,20.847s6.389,0,9.166-0.698c1.189-0.273,2.059-1.148,2.332-2.335C24,15.93,24,12,24,12
                  S24,8.07,23.498,6.186z M9.545,15.568V8.432l6.545,3.568L9.545,15.568z"/>
              </svg>
            </a><a href="https://aus.social/@lukemurray" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-icon" aria-label="Mastodon">
              <svg height="20" width="20" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" xml:space="preserve">
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                  <path d="M21.327 8.566c0-4.339-2.843-5.61-2.843-5.61-1.433-.658-3.894-.935-6.451-.956h-.063c-2.557.021-5.016.298-6.45.956 0 0-2.843 1.272-2.843 5.61 0 .993-.019 2.181.012 3.441.103 4.243.778 8.425 4.701 9.463 1.809.479 3.362.579 4.612.510 2.268-.126 3.541-.809 3.541-.809l-.075-1.646s-1.621.511-3.441.449c-1.804-.062-3.707-.194-3.999-2.409a4.523 4.523 0 0 1-.04-.621s1.77.433 4.014.536c1.372.063 2.658-.08 3.965-.236 2.506-.299 4.688-1.843 4.962-3.254.434-2.223.398-5.424.398-5.424zm-3.353 5.59h-2.081V9.057c0-1.075-.452-1.62-1.357-1.62-1 0-1.501.647-1.501 1.927v2.791h-2.069V9.364c0-1.28-.501-1.927-1.502-1.927-.905 0-1.357.546-1.357 1.62v5.099H6.026V8.903c0-1.074.273-1.927.823-2.558.566-.631 1.307-.955 2.228-.955 1.065 0 1.872.409 2.405 1.228l.518.869.519-.869c.533-.819 1.34-1.228 2.405-1.228.92 0 1.662.324 2.228.955.549.631.822 1.484.822 2.558v5.253z"></path>
                </g>
              </svg>
            </a><a href="https://bsky.app/profile/lukemurraynz.bsky.social" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-icon" aria-label="Bluesky">
              <svg class="octicon" xmlns="http://www.w3.org/2000/svg" role="img" viewBox="0 0 16 16" height="20" width="20" fill="currentColor">
                <title>Bluesky</title>
                <path d="M8 7.2c-.72-1.4-2.7-4.04-4.53-5.33C1.7.63 1.04.84.6 1.04.1 1.27 0 2.05 0 2.51c0 .46.25 3.77.42 4.32.54 1.82 2.47 2.45 4.25 2.25-2.6.38-4.92 1.33-1.88 4.71 3.33 3.46 4.57-.74 5.21-2.87.64 2.13 1.37 6.18 5.16 2.87 2.84-2.87.78-4.33-1.83-4.71 1.78.2 3.71-.43 4.25-2.25.17-.55.42-3.86.42-4.32 0-.46-.09-1.24-.6-1.47-.44-.2-1.11-.42-2.87.83A17.87 17.87 0 0 0 8 7.2Z"></path>
              </svg>
            </a><a href="https://twitter.com/lukemurraynz" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-icon" aria-label="X"><svg height="20" width="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M10 8.586l4.293-4.293a1 1 0 011.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 011.414-1.414L10 8.586z" clip-rule="evenodd"/>
          </svg></a><a href="https://www.linkedin.com/in/ljmurray/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-icon" aria-label="LinkedIn"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"></path></svg></a><a href="https://luke.geek.nz/rss" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-rss-link" aria-label="RSS"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><div role="group"><h3 class="yearGroupHeading_rMGB">2025</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/azure/microsoft-learn-contributor-chatmode/">Microsoft Learn Contributor Chatmode</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/azure/service-groups-terraform-azapi/">Deploying Azure Service Groups with Terraform AzAPI</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/azure/mcp-vscode-microsoft-learn/">Model Context Protocol (MCP) in VS Code with Microsoft Learn</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/azure/drasi-bastion-rbac-automation/">Automate Azure Bastion with Drasi Realtime RBAC Monitoring</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/azure/zone-redundancy-cli/">Validate Azure Zone Redundancy with az zones CLI</a></li></ul></div></nav></aside><main class="col col--7"><header class="margin-bottom--xl"><h1>183 posts tagged with &quot;Azure&quot;</h1><a href="/tags/">View All Tags</a></header><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/2021/04/09/azure-resource-graph-explorer-and-the-powershell-azure-resource-graph/">Azure Resource Graph Explorer and the PowerShell Azure Resource Graph</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-04-09T00:00:00.000Z">April 9, 2021</time> · <!-- -->7 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://luke.geek.nz" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://luke.geek.nz/img/logo.png" alt="Luke Murray"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://luke.geek.nz" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Luke Murray</span></a></div><small class="authorTitle_nd0D" title="Author">Author</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>Every now and again you come across something that you pay little attention to until you actually spend the time to sit down, work through and try to break stuff! The Azure Resource Graph was that for me!</p>
<p>The idea was to create an export of Azure Recommendations, directly from the Azure Advisor into PowerShell, Microsoft Azure has this functionality out of the box with a few tools:</p>
<ul>
<li>Azure Resource Graph Explorer</li>
<li>The <a href="https://learn.microsoft.com/en-us/azure/governance/resource-graph/first-query-powershell?WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer">Az.ResourceGraph</a> PowerShell module</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="azure-graph-resource-explorer">Azure Graph Resource Explorer<a href="#azure-graph-resource-explorer" class="hash-link" aria-label="Direct link to Azure Graph Resource Explorer" title="Direct link to Azure Graph Resource Explorer">​</a></h3>
<p>The Azure Graph Resource Explorer is built into the Azure Portal, it can be found by going to <a href="https://portal.azure.com/#blade/HubsExtension/ArgQueryBlade" target="_blank" rel="noopener noreferrer" title="https://portal.azure.com/#blade/HubsExtension/ArgQueryBlade">https://portal.azure.com/#blade/HubsExtension/ArgQueryBlade</a>
or by logging into the <a href="https://portal.azure.com" target="_blank" rel="noopener noreferrer">Azure Portal</a> and typing in &#x27;Resource Graph&#x27; and select Explorer.</p>
<p><img decoding="async" loading="lazy" alt="Azure Resource Graph" src="/assets/images/azureresourcegraphsearch-cf693b94b6e0390619c05377530962fb.png" width="1014" height="138" class="img_ev3q"></p>
<p>The Azure Resource Graph Explorer, allows you to explore the Microsoft Azure Resource Graph, using inbuilt Sample Queries and the Kusto Query language.</p>
<p>The Powershell queries mentioned in the section below, started by clicking on the &#x27;microsoft.advisor/recommendations&#x27; field and selecting Run Query.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">advisorresources</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| where type == &quot;microsoft.advisor/recommendations&quot;</span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" alt="Azure Resource Graph Explorer" src="/assets/images/azureresourcegraph-4254c7aa5db64dfc89085478a0afc5bd.png" title="Azure Resource Graph Explorer" width="1412" height="1006" class="img_ev3q"></p>
<p>I then clicked on the &#x27;See Details&#x27; on the right-hand side to see all the details that were being brought in, in each object or row. Example below:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;recommendationTypeId&quot;: &quot;7262dc51-c168-41b5-b99b-b5b98f8fe50a&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;extendedProperties&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;assessmentKey&quot;: &quot;7262dc51-c168-41b5-b99b-b5b98f8fe50a&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;score&quot;: &quot;0&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;resourceMetadata&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;resourceId&quot;: &quot;/subscriptions/0673a0bd-0c9b-483f-9aee-c44795ae739f&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;singular&quot;: null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;plural&quot;: null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;action&quot;: null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;source&quot;: &quot;/subscriptions/0673a0bd-0c9b-483f-9aee-c44795ae739f/providers/Microsoft.Security/assessments/7262dc51-c168-41b5-b99b-b5b98f8fe50a&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;shortDescription&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;solution&quot;: &quot;Subscriptions should have a contact email address for security issues&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;problem&quot;: &quot;Subscriptions should have a contact email address for security issues&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;suppressionIds&quot;: null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;impactedField&quot;: &quot;Microsoft.Subscriptions/subscriptions&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;impactedValue&quot;: &quot;0673a0bd-0c9b-483f-9aee-c44795ae739f&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;lastUpdated&quot;: &quot;2021-04-08T13:15:54.2870000Z&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;category&quot;: &quot;Security&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;metadata&quot;: null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;impact&quot;: &quot;Low&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>And no, that isn&#x27;t my real Subscription ID etc, I&#x27;ve replaced the field with randomly generated GUIDs.</p>
<p>We can see that there is a good amount of actionable data here such as:</p>
<ul>
<li>This is a Security Category recommendation</li>
<li>It is Low Impact</li>
<li>The problem is that the Azure subscription should have a contact email address to be used for Security alerts and it does not have one set up (Oops!)</li>
</ul>
<p>So we need to turn it into something a bit more useable, I know that the Azure Advisor has the following categories:</p>
<ul>
<li>Cost</li>
<li>HighAvailability</li>
<li>OperationalExcellence</li>
<li>Performance</li>
<li>Security</li>
</ul>
<p>The same syntax can be used for any of these categories, for my example, we will continue with Security, Looking at the Details (or Example above) we can see that Category is simply listed on its own at the top level, inside the &#x27;microsoft.advisor/recommendations&#x27; field, so we now need to add another pipe to the query:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">| where properties[&#x27;category&#x27;] == &#x27;Security&#x27;</span><br></span></code></pre></div></div>
<p>This will now only select the &#x27;Security&#x27; category. However as you can see below, it&#x27;s hardly something you can action on or read.</p>
<p><img decoding="async" loading="lazy" alt="Azure Resource Graph - Category &amp;#39;Security&amp;#39;" src="/assets/images/azureresourcegraph_category-b826e8fc9b02fa827895aa3ff98f69e1.png" title="Azure Resource Graph - Category &amp;#39;Security&amp;#39;" width="1758" height="1201" class="img_ev3q"></p>
<p>The next step is to look into making it a bit more readable because we know this is a Kusto Language, its time to hit the Microsoft Docs page and read up about the &#x27;Project Operator&#x27; - <a href="https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/projectoperator" target="_blank" rel="noopener noreferrer" title="https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/projectoperator?WT.mc_id=AZ-MVP-5004796">https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/projectoperator</a>. Project = &quot;Select the columns to include, rename or drop, and insert new computed columns.&quot; That sounds like what we want.</p>
<p>If we take a gander back at the &#x27;Full Details&#x27; (or Example above) there are 3 fields I am looking at that would add the most value to a report or digest for the security posture of my Azure ecosystem:</p>
<ul>
<li>Solution</li>
<li>impactedField</li>
<li>impactedValue</li>
</ul>
<p>We now need to add our final pipe to remove everything we don&#x27;t want and add the properties that make the most sense to use, because we are using multiple properties we will do it separated by commas. It&#x27;s worth noting that unlike the &#x27;Security&#x27; property above (and the impactedField, impactedValue), which was a top-level property, the Solution property is a sub-properties of &#x27;shortDescription&#x27;, so we have to select the shortdescription property and then expand out to the extended solution property like below:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">| project properties.shortDescription.solution</span><br></span></code></pre></div></div>
<p>That now gives us a list of the security alerts on the subscription, but without a heading that makes sense:</p>
<p><img decoding="async" loading="lazy" alt="Azure Resource Graph" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZIAAABJCAYAAAAXDKCiAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAntSURBVHhe7ZrLles2DEBTl3fTjFNLdm7jNeA2UoCXKUQhRVECQZCEZI8/M5fn3IwFgCAA/iy//BXaBAAAcAemEAAAwIspBAAA8GIKAQAAvJhCAAAAL6YQAADAiykEAADwYgoBAAC8mEIAAAAvphAAAMCLKQQAAPBiCgEAALyYQgAAAC+mEAAAwIspBAAA8GIKAQAAvJhCAAAAL6bwZ3K6TLdpmq5nQ/dwztM1jHW7nAzdD+Peuj51XnbwU/MCeDym8EdwuszbeDpn2Q+4SKqclnF0e+rhtbOur52XHfzUvAAejyn8EdSH7jN57kVSjHNerpbreZO9Ea+dlx3ce5EA/B5M4YB8eF3mv7ltG07r8+Y6TfNeW5t1ILZ8bja5bYdnPd4/5UDJtjoYWv7yoZDbbbqccp8a2zbHdC5yLvPZU49GTquduEgCKSYZ95FcVXzzxVTHdS7qqvWp5bzLsZY4qnnx1KVX1xp3jnIsGZdxqSSfyf5VeQG8CaZwQD6Uto2QvgTn51q/bqLbZTo5+5T6pX/+lr18604bzRqv3OizrNjYHX/zZ3HYnC/i4FE0bXNMWafz31+PSJXTYqcvkvtzNeINh5wZVzFWrS/zcs7LsC6tuhq4c1RjybiKGBM6j6fnBfA+mMIBxuFlHSbypxW9mRt9mj6r/mmjJXtjvEB3Y/f8pR2+xDWgaVvHVMTjrIfsX/mYMeqm5UdyteKbMeLaM4/hed+8KL3hv66JYk+OcqzW58VWj/v0vADeB1M4YHRYGPoDG0nq06Yy2nygGX0DvY3d96f06jDX2LaDg+FIPQJVTg27e3Otx8n052msN3xL/TcduFaOXCQAD8MUDjAOi3mjtDdFeyNl2cCn1X/F6BvYvbEtlhi0b5PCdnAwWOOP6hGoDxeH3ZFcm32M8QYHYvab9AfmZVCXuiYdRjnKsQZ5JVfbuC/NC+C1mMIBadFvi1z/nmscJsZvvmlvlX1GPsOunPvOqH+PKMfLG1FsXuNgsPydLteqj/adadvWMZUHg68ew5wsu3TCLXluNvty1X1CvOLfSIrxrLqG/7by7M/L/rqMDtx2joOxunHpPJ+fF8AbYQoHLIv+ep03SmpywdebQsrXJjbV2Gdg2Zhr62xC6TO2WVds7EDDX9rAoskDWNG2rWOqDwZHPUY5aR9zMw6fQ7kq37POiKuo66LvzaPOQc+LHndQl9GBuytHOZaOa7mgUwuXU2c+n5EXwBthCgfUi/5+vsMnPB/mEeAXYgoH/MaLJMWn2/ZtExKvnEfmCOBFmMIBv/EiAR/MI8AvxBQCAAB4MYUAAABeTCEAAIAXUwgAAODFFAIAAHgxhQAAAF5MIQAAgBdTCAAA4MUUAgAAeDGFAAAAXmrh19cXAACAi3Bv1BcJAADADkwhAACAF1MIAADgxRQCAAB4MYUAAABeTCEAAIAXUwgAAODFFAIAAHgxhQAAAF5MIQAAgBdTCAAA4MUU3sl5uk636XLSnz+NT45d8125jPz29J9a3xj3NF3Plu5RfGptHs0n1OEZ6+HtMYVuzqmCSi4n/zsWwrMW1ysX8aPH/q5cRn57+lfWt8WjYrrXzzvWRvKs+N69DppPi/dhmEIfp8t0u12na+Bc6GQxv6Owv2ERP3rs78pl5Lenf2V9Wzwqpnv9vGNtJM+K793roPm0eB+GKXRxutym2+W0/t10spi9wi66c7iQwotNbOXr4WkKrpe2+IiX1yKZW3gbim9FWz81XrQXb0zzG1Rut8t0WuRVLLOu9JX66kvT6Du32s499n//Tv/NRkvL8RcOrDgWTLs6xnLOHPGtcyifta70c7tcKv1GHVOdl7EGCn1G+Vrj7/TXdTLWlu13kPOfP4afaNfPxV+3xHC+RF3bP7uMbD9lDwYKx9JmT93jnlDxF8+dGP+261LssyQQOZeUscg1YI1b9yl978hjbqquheNGzSPBLvw1FC7i5CxBxYXSTEAnI4m60HLfOfAt4PS4LMBiDOUzGgq7a4grT5685OLnagLWBa5iWWVpnLmv2AwldV891j1jb8+dyVxp2akxVK3H8elY8nOpM/Mu+kpUTIFuHNU6k9S+Iu3+0b5VJ52r9lvalDGfpvPZOoz6ueyr26BOOuakbKydvm2/fiK+aCjsXrMH7RzbOeh4WnMnn/sxVn1lXQLxsbhYBLo283N3XE89/XmUvqK+tWYk4R64XuJnS+mgmBBxqczPOmCpk2hdr58cQ+lELLEY13CT529A52vLX5blYrX0QXYpF0NNp++9Y68yy8aiZdfzZ/WJslZ8rb4tP1rW0/X86XUm8YzdWUPNPiO/R/2MYmn5bemizDNfmp6t1n3aHrTk964Bq09PH59zfnHs/Fmz129PtnffevVdTOGQuFjkzVo+ewPSOt1Pt5bPvDjyREW9/Jv76EmUfrTPLItN99NYffWCPTJ2K564p6RcY9lpf/I5ft4TX0s38qOxdLpuuu3xNeq/6X11smTxs7U+LD+69Xzo/lp3dL40Pdv4WbfWGK/eg5Fsq+dTNzme5VfHIZ+1bqxPLyXhc7xsm5dh7HekNnv6jPzJvZdtUuudN/HsD39tZZ9tgLLlpEYBZ7TuaL88WUEuvwXF3//WibP8RZkVs9QvflY7i6O+HWMXMo9OIu10n54uy1rxtfq2/GhZTxdlvbq02Du2RNrpPiO/rTE8fnq6I/ae+dL0bPf0e/UelEg/ls9MS6flI38DfSpMelNrHsgH/DZle/et1Fs1tmwXYm7hTTR8NpQjls75t7VEvM3yzTUKOKN15XMcJk5A2ae2mwnGt3Cbrm9Fc+ccT2IWibhL/1acQpaMGws52klfdex3jb3KMrLWPVpzUj/340t+it+5176GH513M4/Y17DvPLex6+Xr76+TJSvHcP4bicLM28in0LvXk5VDS9fLTWL4DMav24OScn+UY5SUujx3/vWekLKG3vy/W0t0nPNz1+9ic3jfStt6/I2yngWxUxg/fDaUA1LfZbEI5kDnQEaFzWid9SyaKFgqSmhr4qpvfI00xp2LlZvwZ8dZyvKYdUEXu/g7bm6F78S+sXWO0WZrVv0TLTs9Rj1mO76AUJr/N8nqJy263OZvqEZuiUXXrVu0Ec2o62ZnjdPqX8plPeu6a79apnNOcnuNilbksqduCf966vka2cZn0cQ477cHt1buj3YOrbnzr/daVtdlyVk82/TWgDVuol3PwCiP5t6L+q21z5sUc/hsKWEf7UkGAIjnufmNvsd8EXvewI7w8DPLFMIuuEgAoMGhC2F5Oxm+xRyFi+QN4SIBgJr0y5LvbCh+oort2y6RCBcJAAC8F6YQAADAiykEAADwYgoBAAC8mEIAAAAvphAAAMCLKQQAAPBSC7++vgAAABx8Tf8D/0bvkQRlZ8kAAAAASUVORK5CYII=" width="402" height="73" class="img_ev3q"></p>
<p>To add a header called: Recommendation, we need to do the following</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">| project Recommendation=tostring(properties.shortDescription.solution)</span><br></span></code></pre></div></div>
<p>Now we are ready to add the impactedField and impactedValue.</p>
<p>The final query should look like this:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">advisorresources</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| where type == &#x27;microsoft.advisor/recommendations&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| where properties[&#x27;category&#x27;] == &#x27;Security&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| project Recommendation=tostring(properties.shortDescription.solution), ImpactedType=tostring(properties.impactedField), ImpactedResources=tostring(properties.impactedValue )</span><br></span></code></pre></div></div>
<p>and the Azure Resource Graph Explorer should display something like this:</p>
<p><img decoding="async" loading="lazy" alt="Azure Resource Graph" src="/assets/images/azuregraphexplorerfinalquery-a75445a012f6beb352b91f1a6aa1a92f.png" width="1748" height="506" class="img_ev3q"></p>
<p>Protip, on the Azure Resource Graph Explorer page, click on &#x27;Get Started&#x27;, underneath the Query window to view Example Queries, such as Listing all Public IP addresses or even getting the Security Center Recommendations. They are really good to use as a base and see how they work.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="azure-graph-powershell">Azure Graph PowerShell<a href="#azure-graph-powershell" class="hash-link" aria-label="Direct link to Azure Graph PowerShell" title="Direct link to Azure Graph PowerShell">​</a></h3>
<p>Using the Azure Resource Graph Explorer is a good way to create the Kusto queries you want, which you can then run the queries in PowerShell and turn them into PowerShell objects, which opens up a few possibilities for things like:</p>
<ul>
<li>Automated Reporting on Cost, Security etc</li>
<li>Proactive remediation actions.</li>
</ul>
<p>First things first you need to install the Az.ResourceGraph module, then you can use the Search-AzGraph to run the queries that you created above. I am going to rely on the gist below to give you a few examples.</p>
<p><img decoding="async" loading="lazy" alt="Azure Resource Graph" src="/assets/images/azuregraphpowershell-ecc0e096106cbb4f8c9de1f455dbf652.png" width="1016" height="314" class="img_ev3q"></p>
<div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_OeMC">AzGraph.ps1</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token comment" style="color:rgb(98, 114, 164)">&lt;#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">      .SYNOPSIS</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">      Installs the Az.ResourceGraph Module and has example queries</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">      .NOTES</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">      Version:        1.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">      Author:         Luke Murray (Luke.Geek.NZ) </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">      Website:        https://luke.geek.nz/azure-resource-graph-explorer-and-the-powershell-azure-resource-graph</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">      Creation Date:  09.04.21</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">      Change History: </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">      09.04.21 - Intital script development</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">  #&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># Install the Resource Graph module from PowerShell Gallery</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">Install-Module</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain">Name Az</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">ResourceGraph </span><span class="token operator">-</span><span class="token plain">Scope CurrentUser</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Imports the Resource Graph module into the PowerShell session</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">Import-Module</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain">Name Az</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">ResourceGraph</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#Connects to Microsoft Azure</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">Connect-AzAccount</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#Grabs the acount of all recommendations under each Category that the Azure Advisor Has</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">Search-AzGraph</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain">Query </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;advisorresources | summarize Count=count() by Category=tostring(properties.category) | where Category!=&#x27;&#x27; | sort by Category asc&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#Following on from the Blog post, this is the query we created to list all Security recommendations, their resource type and what resources were impacted</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">Search-AzGraph</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain">Query </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;advisorresources</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">| where type == &#x27;microsoft.advisor/recommendations&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">| where properties[&#x27;category&#x27;] == &#x27;Security&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">| project Recommendation=tostring(properties.shortDescription.solution), ImpactedType=tostring(properties.impactedField), ImpactedResources=tostring(properties.impactedValue )&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#List of Performance recommendations</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">Search-AzGraph</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain">Query </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;advisorresources | where type == &#x27;microsoft.advisor/recommendations&#x27; and properties.category == &#x27;Performance&#x27; | project Solution=tostring(properties.shortDescription.solution) | summarize Count=count() by Solution | sort by Count&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#List of Cost recommendations</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">Search-AzGraph</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain">Query </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;advisorresources | where type == &#x27;microsoft.advisor/recommendations&#x27; and properties.category == &#x27;Cost&#x27; | summarize Resources = dcount(tostring(properties.resourceMetadata.resourceId)), Savings = sum(todouble(properties.extendedProperties.savingsAmount)) by Solution = tostring(properties.shortDescription.solution), Currency = tostring(properties.extendedProperties.savingsCurrency) | project Solution, Resources, Savings = bin(Savings, 0.01), Currency | order by Savings desc&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/tags/azure/">Azure</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/2021/04/03/keep-up-to-date-with-latest-changes-on-azure-using-powershell/">Keep up to date with Azure changes using PowerShell</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-04-03T00:00:00.000Z">April 3, 2021</time> · <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://luke.geek.nz" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://luke.geek.nz/img/logo.png" alt="Luke Murray"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://luke.geek.nz" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Luke Murray</span></a></div><small class="authorTitle_nd0D" title="Author">Author</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>Keeping up with what is happening with changes and previews in Microsoft Azure is difficult, change happens all the time - and being able to stay informed on what is happening with the Azure ecosystem is half the battle, whether it is a new feature or security fix.</p>
<p>Microsoft publishes the latest updates on Azure Products and features to their Azure Updates blog: <a href="https://azure.microsoft.com/en-us/updates/" target="_blank" rel="noopener noreferrer" title="https://azure.microsoft.com/en-us/updates/?WT.mc_id=AZ-MVP-5004796">https://azure.microsoft.com/en-us/updates/</a></p>
<p>So you can browse the website each week, or... monitor the RSS feeds. Sometimes this isn&#x27;t enough, you may want to do something with this information such as:</p>
<ul>
<li>Create Alerts or Notifications to specific teams who may work with Azure SQL, or Azure Automation and not care about any other product.</li>
<li>Not have to go to the website to keep up-to-date with what is happening, maybe your happy with it popping up in your PowerShell session each time you open it.</li>
<li>Publish the information to Microsoft Teams channels to keep people informed.</li>
</ul>
<p>I have created a basic PowerShell function, that will retrieve the latest updates from the Microsoft Azure Updates RSS Feed and turn it into a PowerShell object you can actually use to keep informed.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-script---get-azureblogupdates">The Script - Get-AzureBlogUpdates<a href="#the-script---get-azureblogupdates" class="hash-link" aria-label="Direct link to The Script - Get-AzureBlogUpdates" title="Direct link to The Script - Get-AzureBlogUpdates">​</a></h2>
<p>The script is hosted on my Github repository. Feel free to clone/recommend improvements or fork, I can add parameter sets instead of relying on the PowerShell methods listed in the examples section - if you find this script useful:</p>
<div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_OeMC">Get-AzureBlogUpdates.ps1</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">Get-AzureBlogUpdates</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">&lt;#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">      .SYNOPSIS</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">      Retrieves the latest Updates of Azure, from the Azure Blog RSS feed.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">      .DESCRIPTION</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">      Retrieves the latest Updates of Azure, from the Azure Blog RSS feed.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">      .NOTES</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">      Version:        1.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">      Author:         Luke Murray (Luke.Geek.NZ) </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">      Website: https://luke.geek.nz/keep-up-to-date-with-latest-changes-on-azure-using-powershell</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">      Creation Date:  03.04.21</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">      Purpose/Change: </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">      03.04.21 - Intital script development</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">      .EXAMPLE</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">      Get-AzureBlogUpdate</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">  #&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">#Retrieving RSS Feed Content - as XML, then converting into PSObject</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$xml</span><span class="token plain"> = </span><span class="token namespace">[xml]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token function" style="color:rgb(80, 250, 123)">Invoke-WebRequest</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain">Uri </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;https://azurecomcdn.azureedge.net/en-us/updates/feed/&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">content</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$Array</span><span class="token plain"> = @</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">foreach</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$y</span><span class="token plain"> in </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$xml</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">rss</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">channel</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">selectnodes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;//item&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$PSObject</span><span class="token plain"> = </span><span class="token function" style="color:rgb(80, 250, 123)">New-Object</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain">TypeName PSObject</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$Date</span><span class="token plain"> = </span><span class="token namespace">[datetime]</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$y</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">pubdate</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$PSObject</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">Add-Member</span><span class="token plain"> NoteProperty </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Title&#x27;</span><span class="token plain">  </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$y</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">title</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$PSObject</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">Add-Member</span><span class="token plain"> NoteProperty </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Date&#x27;</span><span class="token plain"> </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$Date</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$PSObject</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">Add-Member</span><span class="token plain"> NoteProperty </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Category&#x27;</span><span class="token plain">  </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$y</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">category</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$PSObject</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">Add-Member</span><span class="token plain"> NoteProperty </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Description&#x27;</span><span class="token plain">  </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$y</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">content</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">InnerText</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$PSObject</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">Add-Member</span><span class="token plain"> NoteProperty </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Link&#x27;</span><span class="token plain">   </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$y</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">link</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$Array</span><span class="token plain"> </span><span class="token operator">+=</span><span class="token plain"> </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$PSObject</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">#Some article had multiple categories, to make it easier for reporting, joined the categories together and got rid of duplicates.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$results</span><span class="token plain"> = @</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">ForEach</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$item</span><span class="token plain"> in </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$Array</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$Category</span><span class="token plain"> = </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">Foreach</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$title</span><span class="token plain"> in </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$item</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Title</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$results</span><span class="token plain"> </span><span class="token operator">+=</span><span class="token plain"> </span><span class="token namespace">[pscustomobject]</span><span class="token plain">@</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Title&#x27;</span><span class="token plain">          = </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$item</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Title</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Category&#x27;</span><span class="token plain">       = </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$item</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Category </span><span class="token operator">-join</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;,&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">Select-Object</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain">Unique</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Published Date&#x27;</span><span class="token plain"> = </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$item</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Date</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Description&#x27;</span><span class="token plain">    = </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$item</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Description</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Link&#x27;</span><span class="token plain">           = </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$item</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Link</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$results</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="examples">Examples<a href="#examples" class="hash-link" aria-label="Direct link to Examples" title="Direct link to Examples">​</a></h2>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">#Runs the actual Function:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Get-AzureBlogUpdates</span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" alt="Get-AzureBlogUpdates" src="/assets/images/windowsterminal_5oqnizj8ko-bfd0498f8648f0fd3a6ae6fb1af81985.png" width="1115" height="624" class="img_ev3q"></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">#EXAMPLE - Gets Azure Blog Updates, that have been published in the last 7 days.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$PublishedIntheLastDays = (Get-Date).AddDays(-7)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Get-AzureBlogUpdates | Where-Object &#x27;Published Date&#x27; -GT $PublishedIntheLastDays</span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" alt="Get-AzureBlogUpdates" src="/assets/images/windowsterminal_duphvuiqpz-fd3699acc4c44140683ddd249ee1af96.png" width="1115" height="700" class="img_ev3q"></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">#EXAMPLE - Gets all Azure Blog Updates, and displays it as a Table, organised by Category</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Get-AzureBlogUpdates | Sort-Object Category -Descending | Format-Table</span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" alt="Get-AzureBlogUpdates" src="/assets/images/windowsterminal_xrskcraov0-3509534449f7892ca4370c9988b6746d.png" width="1346" height="698" class="img_ev3q"></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">#EXAMPLE -Gets the latest 10 Azure Blog Articles</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Get-AzureBlogUpdates | Select -Last 10</span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" alt="Get-AzureBlogUpdates - Select Last 10 Articles" src="/assets/images/windowsterminal_bxxy0lnrjc-fbdb9465d98c6509865c2b0a5919c92a.png" title="Get-AzureBlogUpdates - Select Last 10 Articles" width="1348" height="833" class="img_ev3q"></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">#EXAMPLE - Gets the Azure Blog Update articles, where the title has Automation in it.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Get-AzureBlogUpdates | Where-Object Title -match &#x27;Automation&#x27;</span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" alt="Get-AzureBlogUpdates - Title matches Automation" src="/assets/images/windowsterminal_qitgwrqfm9-1a937cf5ac58cb434f8b4ae12db4cd08.png" title="Get-AzureBlogUpdates - Title matches Automation" width="1348" height="833" class="img_ev3q"></p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/tags/misc/">Misc</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/tags/power-shell/">PowerShell</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/tags/azure/">Azure</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/azure/transfer-ownership-of-azure-subscription/">Transfer Ownership of an Azure Subscription</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-03-30T00:00:00.000Z">March 30, 2021</time> · <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://luke.geek.nz" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://luke.geek.nz/img/logo.png" alt="Luke Murray"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://luke.geek.nz" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Luke Murray</span></a></div><small class="authorTitle_nd0D" title="Author">Author</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>Imagine you want to transfer Azure resources to another person or company? This could be because something may have been created in an external third-party subscription, to begin with, or you have created a product using Azure resources that you have just sold to the highest bidder!</p>
<p>Before you start rolling in that money bin of cash, you need to be able to give that person the Azure resources. The best way to do this is to transfer ownership of an Azure subscription.</p>
<p>It may be best to create a new Azure subscription, and then transfer <em>(using the Move Resources in the Azure Resource Group)</em> the resources to that new subscription. That way it is clean, then the recipient can just migrate the resources to their own Production subscription later, etc as they see fit.</p>
<p>Just a heads up IF you are selling services you have created in Microsoft Azure, whether freelance or professionally make sure you have spent time working on Azure governance to make sure you have a proper Azure Landing Zone stood up for standardization and naming conventions in place if you are a transferring a resource that has a Global Scope (ie these are usually Public-facing, the last thing you want is to transfer the resources to someone else and find out that you can&#x27;t reuse the same unique name.</p>
<p><strong><em>Please read this carefully,</em></strong> there are certain limitations when transferring Subscription Ownership - especially across to another tenancy that you need to be aware of, these limitations are the Type of Subscription it is and the type of resources, encryption status, etc.<a href="https://learn.microsoft.com/en-gb/azure/role-based-access-control/transfer-subscription?WT.mc_id=AZ-MVP-5004796#understand-the-impact-of-transferring-a-subscription" target="_blank" rel="noopener noreferrer">Transfer an Azure subscription to a different Azure AD directory</a> In some cases, you may need to look at alternative ways, such as redeploying or recreating the resources in the other subscription/tenancy manually - via redirecting an Azure DevOps deployment or manual backup export and import.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="transfer-a-subscription">Transfer a Subscription<a href="#transfer-a-subscription" class="hash-link" aria-label="Direct link to Transfer a Subscription" title="Direct link to Transfer a Subscription">​</a></h2>
<p>Once you are ready to transfer a subscription, you can do the rest, simply through the Azure Portal:</p>
<ol>
<li>In the Azure Portal, navigate to <a href="https://portal.azure.com/#blade/Microsoft_Azure_Billing/SubscriptionsBlade" target="_blank" rel="noopener noreferrer">Subscriptions</a></li>
<li>Click on the Subscription you want to migrate</li>
<li>Click on Transfer billing ownership</li>
<li>Type in the Recipient&#x27;s email address, in the email address field</li>
<li>If you are moving the Azure subscription to another Azure AD tenancy (in this article, I am assuming we are), select the &#x27;Move Subscription Tenant toggle: Yes
<img decoding="async" loading="lazy" alt="Transfer Billing Ownership" src="/assets/images/2021-03-28-18_56_27-transfer-billing-ownership-microsoft-azure-mozilla-firefox-d71d82e84d40de86810f936063333a01.png" width="819" height="967" class="img_ev3q"></li>
<li>Click on Send Transfer Request, acknowledge the prompt and click Yes</li>
<li>This will send an email to the recipient with a link to transfer the Azure subscription and all the resources.
<img decoding="async" loading="lazy" alt="Transfer Billing Ownership" src="/assets/images/transferrequest-e5b3c7f5e8d913181080c7d5f333b66b.png" width="826" height="968" class="img_ev3q"></li>
</ol>
<p>Note: The Transfer Request is not permanent, the recipient has only a few weeks to accept the transfer before you will need to it again, you can see the expires date in the screenshot above.</p>
<p>Note: Something to be aware of, only the user in the new account who accepted the transfer request will have access to manage the resources, they will need to add the necessary groups and rights on their end.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cancel-an-azure-subscription-transfer">Cancel an Azure Subscription Transfer<a href="#cancel-an-azure-subscription-transfer" class="hash-link" aria-label="Direct link to Cancel an Azure Subscription Transfer" title="Direct link to Cancel an Azure Subscription Transfer">​</a></h2>
<p>If the recipient hasn&#x27;t accepted the transfer, you can revoke or cancel the transfer request. To do this, do the following:</p>
<ol>
<li>In the Azure Portal, navigate to <a href="https://portal.azure.com/#blade/Microsoft_Azure_Billing/SubscriptionsBlade" target="_blank" rel="noopener noreferrer">Subscriptions</a></li>
<li>Click on the Subscription you want to migrate</li>
<li>Click on Transfer billing ownership</li>
<li>You will now get a Window indicating the Transfer Request is pending</li>
<li>Click on Cancel the Transfer Request (bottom of the Blade)
<img decoding="async" loading="lazy" alt="Transfer Billing Ownership" src="/assets/images/transferrequest_cancel-d1621c2944047aa6b01940daad0ce341.png" width="826" height="968" class="img_ev3q"></li>
<li>Accept the prompt to cancel the transfer request.</li>
</ol>
<p>Note: You can now click on the Transfer billing ownership, to confirm the request was canceled and if needed, open a new request. Just a heads up as well, that canceling the transfer, will also email the recipient.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/tags/azure/">Azure</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/2021/03/29/azure-active-directory-recommendations/">Microsoft Entra ID Recommendations</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-03-29T00:00:00.000Z">March 29, 2021</time> · <!-- -->8 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://luke.geek.nz" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://luke.geek.nz/img/logo.png" alt="Luke Murray"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://luke.geek.nz" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Luke Murray</span></a></div><small class="authorTitle_nd0D" title="Author">Author</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>Microsoft Entra ID is the foundation, which Microsoft 365 is built-on.</p>
<p>In the words of Microsoft:</p>
<blockquote>
<p>Microsoft Entra ID (Azure AD) is Microsoft’s cloud-based identity and access management service, which helps your employees sign in and access resources in:</p>
<ul>
<li>External resources, such as Microsoft 365, the Azure portal, and thousands of other SaaS applications.</li>
<li>Internal resources, such as apps on your corporate network and intranet, along with any cloud apps developed by your own organization.</li>
</ul>
</blockquote>
<p>Microsoft Entra ID (AAD) is simply not set and forget, especially given the fact that AAD  services are constantly evolving in terms of features and improved security.</p>
<p>Below is a table of some Microsoft Entra ID and best practice recommendations.</p>
<p>Please keep in mind that like any recommendations, do not blindly follow them, make sure to determine the impact on your users on enabling some of this functionality, there may also be recommendations that you will not be able to apply, do to business constraints.</p>























































































































































































































<table><thead><tr><th>Recommendation</th><th>Why Consider This</th><th>Probability</th><th>Impact</th><th>Effort</th></tr></thead><tbody><tr><td>Change break glass accounts passwords every 90 days</td><td>Emergency access accounts are highly privileged, and they are not assigned to specific individuals. Emergency access accounts are limited to emergency or &quot;break glass&quot;&#x27; scenarios where normal administrative accounts can&#x27;t be used. We recommend that you maintain a goal of restricting emergency account use to only the times when it is absolutely necessary.</td><td>High</td><td>High</td><td>Low</td></tr><tr><td>Review possible stale Guest (B2B) accounts</td><td>Guest accounts do not exist by default and pose a potential data exposure vulnerability if left unused.  Guest accounts should only be used with a defined business need and closely monitored to ensure accounts are valid/legitimate.</td><td>High</td><td>Moderate</td><td>Low</td></tr><tr><td>Remove invited guests who have not accepted invite</td><td>Remove invited guests who have not accepted invite as it helps control the scope of identity and access management as it pertains to provisioning users in Azure AD.   In addition, removing stale invites and user from Azure AD is part of the recommended routine account maintenance.</td><td>High</td><td>Low</td><td>Low</td></tr><tr><td>Enable Windows Hello for Business PIN Reset Service</td><td>The Microsoft PIN reset services enables you to help users recover who have forgotten their PIN. Using Group Policy, Microsoft Intune or a compatible MDM, you can configure Windows 10 devices to securely use the Microsoft PIN reset service that enables users to reset their forgotten PIN through settings or above the lock screen without requiring re-enrollment.</td><td>Low to Moderate</td><td>Moderate</td><td>Low</td></tr><tr><td>Ensure security compliance notification mail is set</td><td>Managing security and compliance is a partnership. You are responsible for protecting your data, identities, and devices, while Microsoft vigorously protects Office 365 services. You can use Office 365 and Enterprise Mobility + Security (EMS) together to help you achieve the appropriate level of protection for your organization.</td><td>Low to Moderate</td><td>Moderate</td><td>Low</td></tr><tr><td>Add owner to legacy Service Principal</td><td>Legacy service principals without a defined owner create a challenge for management and accountability.</td><td>Low to Moderate</td><td>Moderate</td><td>Low</td></tr><tr><td>Add owner to application</td><td>Assigning an application owner provides an opportunity for delegation and establishes accountability for management of the resource.</td><td>Low to Moderate</td><td>Moderate</td><td>Low</td></tr><tr><td>Add owner to cloud-only groups</td><td>Assigning a group owner provides an opportunity for delegation and establishes accountability for management of the resource.</td><td>Low to Moderate</td><td>Moderate</td><td>Low</td></tr><tr><td>Require that users can create security groups is set to no</td><td>The creation and management of security groups should be restricted to administrators only to limit proliferation of this security principal.  The default setting is to prevent users from creating security groups in the Azure portal and it is recommended to maintain this configuration unless required by a defined business need.</td><td>Low to Moderate</td><td>Moderate</td><td>Low</td></tr><tr><td>Delete empty cloud-only groups</td><td>Cloud-only groups that contain no members and are not associated with Azure applications should be deleted as they serve no purpose.</td><td>Low to Moderate</td><td>Low</td><td>Low</td></tr><tr><td>Review Dynamic Groups with membershipRuleProcessingState not turned on</td><td>Sometimes you may want to stop the processing of a dynamic group, like when you’re importing a large number of new users or reorganizing your group architecture. To do that, use the MembershipRuleProcessingState parameter to switch processing on and off.</td><td>Low to Moderate</td><td>Low</td><td>Low</td></tr><tr><td>Review and consider federating all domains</td><td>When a domain is federated with Azure AD, several properties are set on the domain in Azure. One important one is IssuerUri. This property is a URI that is used by Azure AD to identify the domain that the token is associated with.</td><td>Low to Moderate</td><td>Low</td><td>Low</td></tr><tr><td>Review applications with credentials about to expire or are expired</td><td>Applications with expired credentials will prevent its use and should be updated before expiration to avoid an outage. If the application&#x27;s service principal already has newer credentials remove the no longer valid credentials.</td><td>Moderate</td><td>High</td><td>Low</td></tr><tr><td>Review applications granted with risky OAUTH2 permissions</td><td>Depending on the scope of permissions, it can pose a risk to the confidentiality, integrity, or availability of the organization&#x27;s data.  Periodic review of application permission grants can help identity over-privileged applications and establish access controls that align with the principle of least privilege.</td><td>Moderate</td><td>High</td><td>Low</td></tr><tr><td>Configure user passwords to never expire</td><td>Requesting users to regularly change passwords will lead to weak password practices like patterns or sequential words and numbers.</td><td>Moderate</td><td>Moderate</td><td>Low</td></tr><tr><td>Review Service Principals using password based credentials</td><td>Protect and manage your confidential app credentials for web apps, web APIs and daemon apps. Use certificate credentials, not password credentials (client secrets).</td><td>Moderate</td><td>Moderate</td><td>Low</td></tr><tr><td>Review Azure AD Guest (B2B) accounts</td><td>Guest accounts do not exist by default and pose a potential data exposure vulnerability if left unused.  Guest accounts should only be used with a defined business need and closely monitored to ensure accounts are valid/legitimate.</td><td>Moderate</td><td>Moderate</td><td>Low</td></tr><tr><td>Review applications consented by admins</td><td>Review applications granted consent by admins to ensure this global configuration is desired, which results in authorization for applications to data for all users in the Azure AD tenant.</td><td>Moderate</td><td>Moderate</td><td>Low</td></tr><tr><td>Review applications consented by one user</td><td>Review applications granted consent by a single users to ensure the configuration is desired, which results in authorization for applications to data for individual users as compared to admin consent which is global for the tenant.</td><td>Moderate</td><td>Moderate</td><td>Low</td></tr><tr><td>Review domain password policies that do not match defaults.</td><td>Only passwords for user accounts that are not synchronized through directory synchronization can be configured for password policies.  By default users do not have a password policy defined.</td><td>Moderate</td><td>Moderate</td><td>Low</td></tr><tr><td>Specify the usage location property for users</td><td>Some Microsoft services aren&#x27;t available in all locations because of local laws and regulations. Before you can assign a license to a user, you must specify the Usage location property for the user.</td><td>Moderate</td><td>Moderate</td><td>Low</td></tr><tr><td>Require that users can consent to apps accessing company data on their behalf is set to no</td><td>Allowing users to provide consent for third-party applications risks exfiltration of personally identifiable information (PII) such as email and phone number, as it&#x27;s associated with the user&#x27;s profile.</td><td>High</td><td>High</td><td>Moderate</td></tr><tr><td>Review group license errors</td><td>These errors should be resolved and all users should be assigned expected licenses, for avoiding any loss of productivity.</td><td>High</td><td>Moderate</td><td>Moderate</td></tr><tr><td>Remove email / mailbox from directory role admins</td><td>To help separate internet risks (phishing attacks, unintentional web browsing) from administrative privileges, create dedicated accounts for each user with administrative privileges with no mail enabled to make sure they do not inadvertently open emails or run programs associated with their admin accounts.</td><td>Moderate</td><td>High</td><td>Moderate</td></tr><tr><td>Remove Skype address from directory role admins</td><td>To help separate internet risks (phishing attacks, unintentional web browsing) from administrative privileges, create dedicated accounts for each user with administrative privileges with no Skype Enabled to make sure they do not inadvertently open emails or run programs associated with their admin accounts.</td><td>Moderate</td><td>High</td><td>Moderate</td></tr><tr><td>Develop plan to migrate or remove legacy Service Principals</td><td>ServicePrincipals with ServicePrincipalType of legacy are not associated with an application and should be migrated to an application to improve manageability.</td><td>Moderate</td><td>Moderate</td><td>Moderate</td></tr><tr><td>Federated domains in Azure AD must have SupportsMFA enabled if ADFS MFA is used</td><td>When the configured conditional access policy requires multi-factor authentication, Azure AD defaults to using Azure MFA. If you use the federation service for MFA, you can configure Azure AD to redirect to the federation service when MFA is needed by setting -SupportsMFA to $true in PowerShell. This setting works for federated authentication services that support the MFA challenge request issued by Azure AD</td><td>Moderate</td><td>Moderate</td><td>Moderate</td></tr><tr><td>Verify all root level domains</td><td>Every new Azure AD tenant comes with an initial domain name, domainname.onmicrosoft.com. You can&#x27;t change or delete the initial domain name, but you can add your organization&#x27;s names to the list. Adding custom domain names helps you to create user names that are familiar to your users</td><td>Moderate</td><td>Moderate</td><td>Moderate</td></tr><tr><td>Review user objects no longer syncing with on-premises</td><td>Users present in Windows Server AD and no longer syncing to Azure AD impacts users ability to use services provided by Azure AD (Password reset, access to O365 services and cloud based apps etc.) and it also poses administrative challenge in managing the account.</td><td>Moderate</td><td>Moderate</td><td>Moderate</td></tr></tbody></table></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/tags/azure/">Azure</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/azure/misc/how-to-restrict-users-to-specific-boards-in-azure-devops/">How to restrict users to specific boards in Azure DevOps</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-03-28T00:00:00.000Z">March 28, 2021</time> · <!-- -->One min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://luke.geek.nz" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://luke.geek.nz/img/logo.png" alt="Luke Murray"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://luke.geek.nz" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Luke Murray</span></a></div><small class="authorTitle_nd0D" title="Author">Author</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>Do you ever want to add external Microsoft Entra ID or other users to specific boards in a project, but not want to give them access to the entire Azure DevOps Project?</p>
<p>Using the steps below, we can restrict users to a specific board.</p>
<ol>
<li>Invite external users to DevOps org with Stakeholder access.</li>
<li>In the project, create a new Team and do not add it to the existing security group to inherit permissions.
<img decoding="async" loading="lazy" alt="Azure DevOps - Boards" src="/assets/images/azdevopsboard1-4da7dbaad1f1010fcaca461c66940cdb.jpg" width="477" height="779" class="img_ev3q"></li>
<li>Add external users to created Team.</li>
<li>Set permission for created Team properly. In this case, it’s to set View project-level information to Allow.
<img decoding="async" loading="lazy" alt="Azure DevOps - Boards" src="/assets/images/azdevopsboard2-d29e00e5c3322af3dca9c35c20916ad1.jpg" width="954" height="410" class="img_ev3q"></li>
<li>Create a new area path and set the permission for the created Team in Security
<img decoding="async" loading="lazy" alt="Azure DevOps - Boards" src="/assets/images/azdevopsboard3-47d5d893d85d39023a8713bf2078ee83.jpg" width="936" height="541" class="img_ev3q"></li>
<li>Assign the area path to the newly created Team.</li>
</ol></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/tags/azure/">Azure</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/tags/misc/">Misc</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/tags/azure/page/34/"><div class="pagination-nav__label">Newer entries</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/tags/azure/page/36/"><div class="pagination-nav__label">Older entries</div></a></nav></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 luke.geek.nz. Powered by coffee, clouds and hamsters on wheels!</div></div></div></footer></div>
</body>
</html>