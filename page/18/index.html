<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Lukes Tech Blog - Unleashing the power of the cloud and other technologies! | luke.geek.nz</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://luke.geek.nz/img/social-card.png"><meta data-rh="true" name="twitter:image" content="https://luke.geek.nz/img/social-card.png"><meta data-rh="true" property="og:url" content="https://luke.geek.nz/page/18/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="Lukes Tech Blog - Unleashing the power of the cloud and other technologies! | luke.geek.nz"><meta data-rh="true" name="description" content="Embark on a tech journey with Luke, a Microsoft Azure MVP, as he delves into the cutting-edge realm of Microsoft and Azure Cloud technologies. Explore, learn, and stay ahead in the dynamic world of cloud computing!"><meta data-rh="true" property="og:description" content="Embark on a tech journey with Luke, a Microsoft Azure MVP, as he delves into the cutting-edge realm of Microsoft and Azure Cloud technologies. Explore, learn, and stay ahead in the dynamic world of cloud computing!"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://luke.geek.nz/page/18/"><link data-rh="true" rel="alternate" href="https://luke.geek.nz/page/18/" hreflang="en"><link data-rh="true" rel="alternate" href="https://luke.geek.nz/page/18/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://ZBH2T1WJQD-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"Blog","@id":"https://luke.geek.nz/page/18","mainEntityOfPage":"https://luke.geek.nz/page/18","headline":"Lukes Tech Blog - Unleashing the power of the cloud and other technologies!","description":"Embark on a tech journey with Luke, a Microsoft Azure MVP, as he delves into the cutting-edge realm of Microsoft and Azure Cloud technologies. Explore, learn, and stay ahead in the dynamic world of cloud computing!","blogPost":[{"@type":"BlogPosting","@id":"https://luke.geek.nz/azure/Web-Content-Not-Found-error-on-Azure-Storage-Account-static-website","mainEntityOfPage":"https://luke.geek.nz/azure/Web-Content-Not-Found-error-on-Azure-Storage-Account-static-website","url":"https://luke.geek.nz/azure/Web-Content-Not-Found-error-on-Azure-Storage-Account-static-website","headline":"Web Content Not Found on Azure Storage Account","name":"Web Content Not Found on Azure Storage Account","description":"Web Content Not Found error when hosting a static webpage using an Azure Storage account.","datePublished":"2023-05-03T12:00:00.000Z","author":{"@type":"Person","name":"Luke Murray","description":"Author","url":"https://luke.geek.nz","image":"https://luke.geek.nz/img/logo.png"},"keywords":[]},{"@type":"BlogPosting","@id":"https://luke.geek.nz/2023/05/03/Open-multiple-Microsoft-Teams-instances-using-PowerShell","mainEntityOfPage":"https://luke.geek.nz/2023/05/03/Open-multiple-Microsoft-Teams-instances-using-PowerShell","url":"https://luke.geek.nz/2023/05/03/Open-multiple-Microsoft-Teams-instances-using-PowerShell","headline":"Open multiple Microsoft Teams instances using PowerShell","name":"Open multiple Microsoft Teams instances using PowerShell","description":"Open multiple Microsoft Team instances, for access to multiple accounts with PowerShell","datePublished":"2023-05-03T00:00:00.000Z","author":{"@type":"Person","name":"Luke Murray","description":"Author","url":"https://luke.geek.nz","image":"https://luke.geek.nz/img/logo.png"},"keywords":[]},{"@type":"BlogPosting","@id":"https://luke.geek.nz/azure/failed-to-persist-terraform-state-using-an-azure-blob-storage-account","mainEntityOfPage":"https://luke.geek.nz/azure/failed-to-persist-terraform-state-using-an-azure-blob-storage-account","url":"https://luke.geek.nz/azure/failed-to-persist-terraform-state-using-an-azure-blob-storage-account","headline":"Failed to persist Terraform state using an Azure Blob Storage account","name":"Failed to persist Terraform state using an Azure Blob Storage account","description":"When attempting to make changes with Terraform, and the state changes are in an Azure storage account, you may come across: Failed to save state.","datePublished":"2023-04-07T00:00:00.000Z","author":{"@type":"Person","name":"Luke Murray","description":"Author","url":"https://luke.geek.nz","image":"https://luke.geek.nz/img/logo.png"},"keywords":[]},{"@type":"BlogPosting","@id":"https://luke.geek.nz/azure/azure-quick-review","mainEntityOfPage":"https://luke.geek.nz/azure/azure-quick-review","url":"https://luke.geek.nz/azure/azure-quick-review","headline":"Azure Quick Review","name":"Azure Quick Review","description":"There are a lot of workbooks that help with Microsoft Azure cost optimization, but when having discussions and looking into SLA/SLO and availability scenarios, there are fewer options to select from - today, we are going to look at the deployment and output of Azure Quick Review.","datePublished":"2023-03-26T11:00:00.000Z","author":{"@type":"Person","name":"Luke Murray","description":"Author","url":"https://luke.geek.nz","image":"https://luke.geek.nz/img/logo.png"},"keywords":[]},{"@type":"BlogPosting","@id":"https://luke.geek.nz/azure/create-azure-bastion-with-shareable-link-support-with-powershell","mainEntityOfPage":"https://luke.geek.nz/azure/create-azure-bastion-with-shareable-link-support-with-powershell","url":"https://luke.geek.nz/azure/create-azure-bastion-with-shareable-link-support-with-powershell","headline":"Create Azure Bastion with Shareable Link support with PowerShell","name":"Create Azure Bastion with Shareable Link support with PowerShell","description":"Azure Bastion is a service you deploy that lets you connect to a virtual machine using your browser and the Azure portal or via the native SSH or RDP client installed on your local computer.","datePublished":"2023-03-16T00:00:00.000Z","author":{"@type":"Person","name":"Luke Murray","description":"Author","url":"https://luke.geek.nz","image":"https://luke.geek.nz/img/logo.png"},"keywords":[]}]}</script><link rel="alternate" type="application/rss+xml" href="/rss.xml" title="luke.geek.nz RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="luke.geek.nz Atom Feed">
<link rel="alternate" type="application/json" href="/feed.json" title="luke.geek.nz JSON Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-0QDLBY7NNN"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-0QDLBY7NNN",{anonymize_ip:!0})</script><link rel="stylesheet" href="/assets/css/styles.a8967c60.css">
<script src="/assets/js/runtime~main.1d6008ee.js" defer="defer"></script>
<script src="/assets/js/main.3f806bba.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#D3D3D3" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">If you haven't already, make sure you sign up for my Weekly Azure updates Newsletter, straight to your inbox! <a target="_blank" rel="noopener noreferrer" href="https://newsletter.azurefeeds.com/join">Subscribe now!</a></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="luke.geek.nz" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.png" alt="luke.geek.nz" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">luke.geek.nz</b></a><a class="navbar__item navbar__link" href="/Tags/">Tags</a><a class="navbar__item navbar__link" href="/Archive/">Blog</a><a class="navbar__item navbar__link" href="/about/">About</a></div><div class="navbar__items navbar__items--right"><a href="https://www.youtube.com/channel/UCUG3TKDTAZz4UXshGrjBBoQ" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-icon" aria-label="YouTube">
              <svg width="24" height="24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path d="M23.498,6.186c-0.273-1.186-1.143-2.144-2.332-2.417C18.389,3.153,12,3.153,12,3.153s-6.389,0-9.166,0.616
                  c-1.19,0.273-2.06,1.23-2.332,2.417C0,8.07,0,12,0,12s0,3.93,0.502,5.814c0.272,1.187,1.142,2.062,2.332,2.335
                  C5.611,20.847,12,20.847,12,20.847s6.389,0,9.166-0.698c1.189-0.273,2.059-1.148,2.332-2.335C24,15.93,24,12,24,12
                  S24,8.07,23.498,6.186z M9.545,15.568V8.432l6.545,3.568L9.545,15.568z"/>
              </svg>
            </a><a href="https://aus.social/@lukemurray" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-icon" aria-label="Mastodon">
              <svg height="20" width="20" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" xml:space="preserve">
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                  <path d="M21.327 8.566c0-4.339-2.843-5.61-2.843-5.61-1.433-.658-3.894-.935-6.451-.956h-.063c-2.557.021-5.016.298-6.45.956 0 0-2.843 1.272-2.843 5.61 0 .993-.019 2.181.012 3.441.103 4.243.778 8.425 4.701 9.463 1.809.479 3.362.579 4.612.510 2.268-.126 3.541-.809 3.541-.809l-.075-1.646s-1.621.511-3.441.449c-1.804-.062-3.707-.194-3.999-2.409a4.523 4.523 0 0 1-.04-.621s1.77.433 4.014.536c1.372.063 2.658-.08 3.965-.236 2.506-.299 4.688-1.843 4.962-3.254.434-2.223.398-5.424.398-5.424zm-3.353 5.59h-2.081V9.057c0-1.075-.452-1.62-1.357-1.62-1 0-1.501.647-1.501 1.927v2.791h-2.069V9.364c0-1.28-.501-1.927-1.502-1.927-.905 0-1.357.546-1.357 1.62v5.099H6.026V8.903c0-1.074.273-1.927.823-2.558.566-.631 1.307-.955 2.228-.955 1.065 0 1.872.409 2.405 1.228l.518.869.519-.869c.533-.819 1.34-1.228 2.405-1.228.92 0 1.662.324 2.228.955.549.631.822 1.484.822 2.558v5.253z"></path>
                </g>
              </svg>
            </a><a href="https://bsky.app/profile/lukemurraynz.bsky.social" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-icon" aria-label="Bluesky">
              <svg class="octicon" xmlns="http://www.w3.org/2000/svg" role="img" viewBox="0 0 16 16" height="20" width="20" fill="currentColor">
                <title>Bluesky</title>
                <path d="M8 7.2c-.72-1.4-2.7-4.04-4.53-5.33C1.7.63 1.04.84.6 1.04.1 1.27 0 2.05 0 2.51c0 .46.25 3.77.42 4.32.54 1.82 2.47 2.45 4.25 2.25-2.6.38-4.92 1.33-1.88 4.71 3.33 3.46 4.57-.74 5.21-2.87.64 2.13 1.37 6.18 5.16 2.87 2.84-2.87.78-4.33-1.83-4.71 1.78.2 3.71-.43 4.25-2.25.17-.55.42-3.86.42-4.32 0-.46-.09-1.24-.6-1.47-.44-.2-1.11-.42-2.87.83A17.87 17.87 0 0 0 8 7.2Z"></path>
              </svg>
            </a><a href="https://twitter.com/lukemurraynz" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-icon" aria-label="X"><svg height="20" width="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M10 8.586l4.293-4.293a1 1 0 011.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 011.414-1.414L10 8.586z" clip-rule="evenodd"/>
          </svg></a><a href="https://www.linkedin.com/in/ljmurray/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-icon" aria-label="LinkedIn"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"></path></svg></a><a href="https://luke.geek.nz/rss" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-rss-link" aria-label="RSS"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite" aria-pressed="true"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><div role="group"><h3 class="yearGroupHeading_rMGB">2025</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/azure/sftp-event-hub-function/">Processing SFTP Events with Azure Function and Event Hub</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/azure/mcp-acs-email-integration/">Sending Emails with MCP and Azure Communication Services</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/azure/business-critical-workloads/">Understanding Workload Criticality in the Cloud</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/azure/github-codespaces-azure-devops-repo/">How to Use GitHub Codespaces with Azure DevOps Repositories</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/azure/azure-landing-zone-accelerator/">Deploying Azure Landing Zones with the Terraform Accelerator</a></li></ul></div></nav></aside><main class="col col--7"><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/azure/Web-Content-Not-Found-error-on-Azure-Storage-Account-static-website/">Web Content Not Found on Azure Storage Account</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-05-03T12:00:00.000Z">May 3, 2023</time> · <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://luke.geek.nz" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://luke.geek.nz/img/logo.png" alt="Luke Murray"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://luke.geek.nz" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Luke Murray</span></a></div><small class="authorTitle_nd0D" title="Author">Author</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>Azure Storage accounts <a href="https://learn.microsoft.com/azure/storage/blobs/storage-blob-static-website?WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer">can host static websites</a> by opening up a public endpoint to an Azure storage
container ($web), so anything inside of $web will be accessible publicly.</p>
<p>This can be enabled easily by toggling the Static website to Enabled.</p>
<p><img decoding="async" loading="lazy" alt="Azure Storage Account - Static website" src="/assets/images/AzureStorageAccount_Static_Site_WebContent_Config-685274e00ceb47e83e8466f220e13552.png" title="Azure Storage Account - Static website" width="1147" height="518" class="img_ev3q"></p>
<p>Once enabled, the Azure storage account will add a NEW endpoint - &lt;storageaccname&gt;.z*.web.core.windows.net.</p>
<p>Once you have enabled the static website functionality, a new container named: $web will be created; this is the root of your static website – and where your HTML or static website will go.</p>
<p>After you upload your website files to the $web folder.</p>
<p><img decoding="async" loading="lazy" alt="Azure Storage Account - $web container" src="/assets/images/AzureStorageAccount_Static_Site_WebContent_WebContainer-7668698bb85c2a89de02cff83ec32b1f.png" title="Azure Storage Account - $web container" width="1025" height="466" class="img_ev3q"></p>
<p>Add the index document name (i.e., index.html) and click Save.</p>
<p><img decoding="async" loading="lazy" alt="Azure Storage Account - Static Website primary endpoint" src="/assets/images/AzureStorageAccount_Static_Site_WebContent_PrimaryEndpoint-ea95665e1dec7de69d9d7d1f5082bb33.png" title="Azure Storage Account - Static Website primary endpoint" width="854" height="344" class="img_ev3q"></p>
<p>If done correctly, your website should now show your website.<img decoding="async" loading="lazy" alt="Azure Storage account static websitev" src="data:image/png;base64,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/jFisUitmxwAAADIpYxhdecfdkmvyb+X2tpa83hVppwdk15lr7rxWvnVlW5CAAAAoAU00A1gjPzop+e64frG310m/dxw4y2WkSMXu2EAAACgvoxh9dy5c2V8LObGUjh3rswdL5JhirQWj5ggFbV0IAAAAEB6ObrBarGMSNOPdfGImHQwZWdP2WmGR8ji2mDaCRVmmop/ot8rAAAA0spBWF0sIzssk7GuH2vtq1Nk14SzZeqrJn4uHiET5Fdy9PNaeVKuCgKqjJM1ta9KWS8z65X/YedZ08TWWQAAALRvzQ6rO6fMlIraCpngWlVj582VPeZ/y5fuDCaomClTd9bKuXP/ZILpGjsdAAAAkI3cdANwLaThx5/mnqd3YElZrz0y7/90sEFWuwKYlwAAAICs5Cas7vqjuHbUJOfK3D8F4VW/5mrPvPPknKmvutcAAACAzBodVve8/gc3FDh37iy5snq+nKd3SXk7p8jUxUGfVd+aOn5N+HtZz5V/6OP6qZppp3CDFQAAAFLILqya0BmLnWdbSaVighkeIb+KX88fL6t/Xya9bLnrt3qVyNhx7uXlV8V/BWvCrjJ5wn1v6z/062WW9U922mu4wQoAAAApxGr1Gj0AAAAQQbnpswoAAAC0AMIqAAAAIouwCgAAgMgirAIAACCyCKsAAACILMIqAAAAIouwCgAAgMgirAIAACCyCKsAAACILMIqAAAAIouwCgAAgMgirAIAACCyCKsAAACILMIqAAAAIouwCgAAgMgirAIAACCyCKsAAACILMIqAAAAIouwCgAAgMgirAIAACCyCKsAAACILMIqAAAAIouwCgAAgMgirAIAACCyCKsAAACILMIqAAAAIouwCgAAgMgirAIAACCiRP4XF5bDDdXVY3EAAAAASUVORK5CYII=" title="Azure Storage account static website" width="683" height="132" class="img_ev3q"></p>
<p>If done incorrectly, you may get: The requested content does not exist.</p>
<p><img decoding="async" loading="lazy" alt="The requested content does not exist" src="/assets/images/AzureStorageAccount_Static_Site_WebContent_Error-0d364ae71cb8bc91cf491e308c07e4c8.png" title="The requested content does not exist" width="512" height="133" class="img_ev3q"></p>
<p>If this occurs, make sure:</p>
<ul>
<li>There is no whitespace in the index document name.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Azure storage account - index.html" src="data:image/png;base64,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" title="Azure storage account - index.html" width="354" height="56" class="img_ev3q"></p>
<ul>
<li>The Case matters, make sure if the filename is all lowercase in the container, then it’s all lowercase in the Azure storage account static website configuration.</li>
<li>Define a 404 page (the page that gets loaded) when attempting to browse paths that don’t match the index - make sure the site exists in a container and is added to the site storage account configuration,
like the index document name.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="404.html" src="data:image/png;base64,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" title="404.html" width="250" height="57" class="img_ev3q"></p>
<ul>
<li>If you don’t have a 404 page, you can have   index.html as both.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Azure static web site - filenames" src="data:image/png;base64,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" title="Azure static web site - filenames" width="193" height="126" class="img_ev3q"></p>
<ul>
<li>If you have a CDN <em>(Content Delivery Network)</em>
in front of your Azure Storage account <em>(Azure CDN, Cloudflare)</em>, you may need to adjust the access level of your Container from Private to: Blob (Anonymous).
You <a href="https://learn.microsoft.com/azure/storage/blobs/storage-blob-static-website?WT.mc_id=AZ-MVP-5004796#impact-of-setting-the-access-level-on-the-web-container" target="_blank" rel="noopener noreferrer">shouldn’t have to adjust this usually</a>, as the Access level controls the container endpoint access – not the static website endpoint.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Azure storage account - blob access level" src="/assets/images/AzureStorageAccount_Static_Site_WebContent_containeraccesslevel-1d04a7988c75188ceb597f02539e1d73.png" title="Azure storage account - blob access level" width="758" height="414" class="img_ev3q"></p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/azure/">Azure</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/2023/05/03/Open-multiple-Microsoft-Teams-instances-using-PowerShell/">Open multiple Microsoft Teams instances using PowerShell</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-05-03T00:00:00.000Z">May 3, 2023</time> · <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://luke.geek.nz" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://luke.geek.nz/img/logo.png" alt="Luke Murray"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://luke.geek.nz" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Luke Murray</span></a></div><small class="authorTitle_nd0D" title="Author">Author</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>There may be circumstances, you need to open up multiple Microsoft Team instances, a reason for this - maybe to chat and join meetings across multiple accounts.</p>
<p>Microsoft are working on a version of <a href="https://techcommunity.microsoft.com/t5/microsoft-teams-public-preview/bd-p/MicrosoftTeamsPublicPreview?WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer" title="Microsoft Teams Public Preview">Microsoft Teams</a> that supports multiple-accounts, but until thats released - you can use a PowerShell script to open up another version of Microsoft Teams in another profile <em>(or multiple, if you update the profilename)</em>.</p>
<p>This script also works within your LocalAppData, so you don&#x27;t need local administrator rights to run.</p>
<div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># Uses the file name as the profile name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$MSTEAMS_PROFILE</span><span class="token plain"> = </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;CustomProfile&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">Write-Host</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;- Using profile &#x27;</span><span class="token string variable" style="color:rgb(189, 147, 249);font-style:italic">$MSTEAMS_PROFILE</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Set the custom profile path</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$USERPROFILE</span><span class="token plain"> = </span><span class="token function" style="color:rgb(80, 250, 123)">Join-Path</span><span class="token plain"> </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$env</span><span class="token plain">:LOCALAPPDATA </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Microsoft\Teams\CustomProfiles\</span><span class="token string variable" style="color:rgb(189, 147, 249);font-style:italic">$MSTEAMS_PROFILE</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Set the old user profile</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$OLD_USERPROFILE</span><span class="token plain"> = </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$env</span><span class="token plain">:USERPROFILE</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Launch MS Teams with the custom profile</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">Write-Host</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;- Launching MS Teams with profile &#x27;</span><span class="token string variable" style="color:rgb(189, 147, 249);font-style:italic">$MSTEAMS_PROFILE</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">Set-Location</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token string variable" style="color:rgb(189, 147, 249);font-style:italic">$OLD_USERPROFILE</span><span class="token string" style="color:rgb(255, 121, 198)">\AppData\Local\Microsoft\Teams&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$teamsProcessStartInfo</span><span class="token plain"> = </span><span class="token function" style="color:rgb(80, 250, 123)">New-Object</span><span class="token plain"> System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Diagnostics</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">ProcessStartInfo</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$teamsProcessStartInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">FileName = </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token string variable" style="color:rgb(189, 147, 249);font-style:italic">$OLD_USERPROFILE</span><span class="token string" style="color:rgb(255, 121, 198)">\AppData\Local\Microsoft\Teams\Update.exe&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$teamsProcessStartInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Arguments = </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;--processStart &quot;</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Teams.exe&quot;</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$teamsProcessStartInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">WorkingDirectory = </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token string variable" style="color:rgb(189, 147, 249);font-style:italic">$OLD_USERPROFILE</span><span class="token string" style="color:rgb(255, 121, 198)">\AppData\Local\Microsoft\Teams&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$teamsProcessStartInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">EnvironmentVariables</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;USERPROFILE&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> = </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$USERPROFILE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$teamsProcessStartInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">UseShellExecute = </span><span class="token boolean">$false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token namespace">[System.Diagnostics.Process]</span><span class="token plain">::</span><span class="token function" style="color:rgb(80, 250, 123)">Start</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$teamsProcessStartInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">Out-Null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Set the user profile back to the old user profile</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$env</span><span class="token plain">:USERPROFILE = </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$OLD_USERPROFILE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>When the script is ran, a new profile will be created for Microsoft Teams, and then opened. You can then use that second Microsoft Teams instance, to connect to another account or tenancy.</p>
<p>To make it easier, you could also look at turning this script into an <a href="https://github.com/MScholtes/PS2EXE" target="_blank" rel="noopener noreferrer" title="PS2EXE">executable</a>.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/power-shell/">PowerShell</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/azure/failed-to-persist-terraform-state-using-an-azure-blob-storage-account/">Failed to persist Terraform state using an Azure Blob Storage account</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-04-07T00:00:00.000Z">April 7, 2023</time> · <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://luke.geek.nz" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://luke.geek.nz/img/logo.png" alt="Luke Murray"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://luke.geek.nz" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Luke Murray</span></a></div><small class="authorTitle_nd0D" title="Author">Author</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>When attempting to make changes with Terraform, and the <a href="https://learn.microsoft.com/azure/developer/terraform/store-state-in-azure-storage?tabs=azure-cli&amp;WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer" title="Store Terraform state in Azure Storage">state changes are in an Azure storage account</a>, you may come across: Failed to save state.</p>
<blockquote>
<p>Error: Failed to save state</p>
<p>Error saving state: blobs:Clien#GetProperties: Failure responding to request: StatusCode=403 -- Original Error: autorest/azure: error response cannot be parsed: {&quot;&quot; &#x27;\x00&#x27; &#x27;\x00&#x27;} error: EOF</p>
</blockquote>
<p>And: Error: Failed to persist state to backend.</p>
<p>Or Error: Error releasing the state lock.</p>
<p><img decoding="async" loading="lazy" alt="Terraform - Failed to save state" src="/assets/images/terraform_savestate-1240532c490aa54ba068178f32ea3d43.PNG" title="Terraform - Failed to save state" width="569" height="586" class="img_ev3q"></p>
<p>Recently, encountered this issue when attempting a Terraform deployment; the state file kept locking midway through a deployment, this was traced to the Terraform storage account being in the Terraform code itself - with Public access set to Deny.</p>
<p>So the flow was looking like this: Script ran to allow Azure DevOps IP to the Storage account Firewall, then Terraform would start deploying and Deny access - preventing the state file from saving.</p>
<p>The first thing you need to do is break the lease on the state file.</p>
<ol>
<li>Navigate to your <strong>Azure Storage</strong> account that contains the state file</li>
<li>Navigate to the <strong>Container</strong> that contains the state file</li>
<li>Click on your state file and select <strong>Break lease</strong></li>
<li><img decoding="async" loading="lazy" alt="Azure Storage account - break lease" src="/assets/images/azure_storageaccount_breaklease-4efd6d8414a7824d404be53467861853.png" title="Azure Storage account - break lease" width="1441" height="379" class="img_ev3q"></li>
<li>Once the lease is broken - make sure that your state file is &#x27;Available&#x27; and not &#x27;Leased&#x27;</li>
<li>Then check your Terraform to make sure that it wasn&#x27;t changing your Storage account that contained the Terraform state file in any way, then re-run your deployment.</li>
</ol>
<p>Note: It may be wise, to make sure that the Azure storage account containing your state file is not managed by Terraform, to avoid unintentional mishaps.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/azure/">Azure</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/azure/azure-quick-review/">Azure Quick Review</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-03-26T11:00:00.000Z">March 26, 2023</time> · <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://luke.geek.nz" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://luke.geek.nz/img/logo.png" alt="Luke Murray"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://luke.geek.nz" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Luke Murray</span></a></div><small class="authorTitle_nd0D" title="Author">Author</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>There are a lot of workbooks that help with Microsoft Azure cost optimization, but when having discussions and looking into SLA/<a href="https://learn.microsoft.com/azure/cloud-adoption-framework/manage/monitor/service-level-objectives?WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer" title="Cloud monitoring guide: Service Level Objectives">SLO</a> and availability scenarios, there are fewer options to select from - today, we are going to look at the deployment and output of Azure Quick Review.</p>
<blockquote>
<p>Azure Quick Review (azqr) goal is to produce a high level assessment of an Azure Subscription or Resource Group providing the following information for each Azure Service:</p>
</blockquote>
<p><a href="https://github.com/cmendible/azqr" target="_blank" rel="noopener noreferrer" title="Azure Quick Review">Azure Quick Review</a> <em>(created by Microsoft Senior Cloud Solution Architect</em> <a href="https://www.linkedin.com/in/carlosmendible/" target="_blank" rel="noopener noreferrer">Carlos Mendible</a><em>),</em> can supplement other tools - to give you visibility into your Azure services and answer questions such as:</p>
<ul>
<li>What is my expected SLA?</li>
<li>Are my resources protected against zone failures?</li>
<li>Am I collecting diagnostic logs for my resources?</li>
<li>Is Defender for Cloud-enabled for all my resource types?</li>
</ul>
<p>Using this tool is pretty simple <em>(and, as the name suggests, Quick)</em>, and today we will look at running it from a windows endpoint, but first, we need some prerequisites.</p>
<ul>
<li><a href="https://learn.microsoft.com/en-us/cli/azure/install-azure-cli?WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer" title="How to install the Azure CLI">Azure CLI</a></li>
<li><a href="https://github.com/cmendible/azqr/releases" target="_blank" rel="noopener noreferrer" title="cmendible/azqr/releases">azqr - windows release</a></li>
</ul>
<p>Install the Azure CLI and make sure you have Reader rights across the subscriptions you want to review; in this demo, we will scan all subscriptions I have access to.</p>
<p>The Azure Quick Review (azqr) windows binary is intended to be run from the command line, so let&#x27;s run it.</p>
<ol>
<li>
<p>Open your Windows Terminal</p>
</li>
<li>
<p>Navigate to the location of the azqr binary</p>
</li>
<li>
<p><img decoding="async" loading="lazy" alt="Azure Quick Review" src="data:image/png;base64,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" title="Azure Quick Review" width="779" height="238" class="img_ev3q"></p>
</li>
<li>
<p>Login to Azure using the Azure CLI by typing:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">az login</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Once you have authenticated, run the executable.</p>
</li>
<li>
<p><img decoding="async" loading="lazy" alt="Run azqr-windows-latest" src="/assets/images/run_azurequickreview-46bab812751a90876984327d76d136c8.gif" title="Run azqr-windows-latest" width="1099" height="608" class="img_ev3q"></p>
</li>
<li>
<p>Once it has been completed, there will be an excel spreadsheet in the same folder as the Azure Quick Review executable, with an output that contains something similar to the below:</p>
</li>
<li>
<p><img decoding="async" loading="lazy" alt="Azure Quick Review - Overview" src="/assets/images/azurequickreview_excel_overview-758d64dab931ddace68c96940a0e3e2f.png" title="Azure Quick Review - Overview" width="1687" height="459" class="img_ev3q"></p>
</li>
<li>
<p><img decoding="async" loading="lazy" alt="Azure Quick Review - Recommedations" src="/assets/images/azurequickreview_excel_recommdations-43c64d8dd7c12fded7a15a03ed6c5010.png" title="Azure Quick Review - Recommedations" width="1087" height="618" class="img_ev3q"></p>
</li>
<li>
<p><img decoding="async" loading="lazy" alt="Azure Quick Review - Defender for Cloud" src="/assets/images/azurequickreview_excel_defenderoverview-91c7ac6271b1b2fd2f64213181671934.png" title="Azure Quick Review - Defender for Cloud" width="754" height="579" class="img_ev3q"></p>
</li>
</ol></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/azure/">Azure</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/azure/create-azure-bastion-with-shareable-link-support-with-powershell/">Create Azure Bastion with Shareable Link support with PowerShell</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-03-16T00:00:00.000Z">March 16, 2023</time> · <!-- -->9 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://luke.geek.nz" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://luke.geek.nz/img/logo.png" alt="Luke Murray"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://luke.geek.nz" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Luke Murray</span></a></div><small class="authorTitle_nd0D" title="Author">Author</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p><a href="https://learn.microsoft.com/en-us/azure/bastion/bastion-overview?WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer" title="What is Azure Bastion?">Azure Bastion</a> is a service you deploy that lets you connect to a virtual machine using your browser and the Azure portal or via the native SSH or RDP client installed on your local computer.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h4>
<blockquote>
<p>The Azure Bastion service is a fully platform-managed PaaS service you provision inside your virtual network. It provides secure and seamless RDP/SSH connectivity to your virtual machines directly from the Azure portal over TLS.</p>
</blockquote>
<p>Because of this, if you don&#x27;t have line-of-sight access to your Virtual Machines (<em>via express route, Site-to-Site VPN etc.)</em>, Bastion becomes your jump box, allowing secure access to your virtual machines without needing a public IP.</p>
<p>There is a downside, though. To connect to a Virtual Machine secured by Bastion, you need access to the Azure Portal, or command line connectivity to Azure, to create the tunnel; this means that you may need to grant people elevated rights and access they may not need to connect.</p>
<p>As of November 2022, Microsoft introduced shareable links into public preview, solving two key pain points:</p>
<ul>
<li>Administrators will no longer have to provide full access to their Azure accounts to one-time VM users—helping to maintain their privacy and security.</li>
<li>Users without Azure subscriptions can seamlessly connect to VMs without exposing RDP/SSH ports to the public internet.</li>
</ul>
<blockquote>
<p>The Bastion <strong>Shareable Link</strong> feature lets users connect to a target resource (virtual machine or virtual machine scale set) using Azure Bastion without accessing the Azure portal.</p>
</blockquote>
<p>At the time of this writing, there are some <a href="https://learn.microsoft.com/en-us/azure/bastion/shareable-link?WT.mc_id=AZ-MVP-5004796#considerations" target="_blank" rel="noopener noreferrer" title="Create a shareable link for Bastion">scenarios</a> where shareable links won&#x27;t work - particularly across Network peering across subscriptions and regions.</p>
<p>Because the service is in Public Preview - native PowerShell cmdlet support, enabling and configuring this feature isn&#x27;t available - but you can easily allow it via the <a href="https://learn.microsoft.com/en-us/azure/bastion/shareable-link?WT.mc_id=AZ-MVP-5004796#enable-shareable-link-feature" target="_blank" rel="noopener noreferrer" title="Enable Shareable Link feature">Azure Portal</a>.</p>
<p><img decoding="async" loading="lazy" alt="Create Azure Bastion with Shareable Link Support" src="/assets/images/azurebastion_shareablelinkheader-04f37669be8563ef51a6f9d7b1836a05.png" title="Create Azure Bastion with Shareable Link Support" width="1080" height="1080" class="img_ev3q"></p>
<p>To get around that, we will leverage the <a href="https://learn.microsoft.com/rest/api/azure/?WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer" title="Azure REST API reference">Azure Rest API</a> directly, using PowerShell to enable the Shareable Link feature and create and obtain a shareable link for a Virtual Machine.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="create-azure-bastion">Create Azure Bastion<a href="#create-azure-bastion" class="hash-link" aria-label="Direct link to Create Azure Bastion" title="Direct link to Create Azure Bastion">​</a></h4>
<p>I will assume there is already an Azure Virtual Network created; if not, you can follow the <a href="https://learn.microsoft.com/azure/virtual-network/quick-create-portal?WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer" title="Quickstart: Create a virtual network using the Azure portal">Microsoft documentation</a> to get it up and running!</p>
<p>Also, make sure you have the <a href="https://learn.microsoft.com/powershell/azure/new-azureps-module-az?view=azps-9.5.0&amp;WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer" title="Introducing the Azure Az PowerShell module">Az Module</a> installed.</p>
<p>The PowerShell function we will run will require a few parameters to create the Azure Bastion resource and enable Shared Link functionality; these parameters are:</p>





































<table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>Parameters</td><td>Note</td></tr><tr><td>RGName</td><td>The Resource Group of your Virtual Network</td></tr><tr><td>VNetName</td><td>The Virtual Network name</td></tr><tr><td>addressPrefix</td><td>The address prefix for your new Bastion subnet. For Azure Bastion resources deployed on or after November 2, 2021, the minimum AzureBastionSubnet size is /26 or larger (/25, /24, etc.).</td></tr><tr><td>region</td><td>The region, that Azure Bastion is deployed into (this needs to match your Virtual Network)</td></tr><tr><td>BastionPubIPName</td><td>The name of the Public IP, used by the Azure Bastion resource (this is the Azure resource name, it doesn&#x27;t have an external DNS alias, so doesn&#x27;t need to be globally unique)</td></tr><tr><td>BastionResourceName</td><td>The name of your Azure Bastion resource</td></tr></tbody></table>
<ol>
<li>
<p>Copy the script below into a file named: New-AzBastionSharedLinkEnabled.ps1</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">function New-AzBastionSharedLinkEnabled {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      .SYNOPSIS</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Creates an Azure Bastion resource with shared link enabled, on an already existing Azure Virtual Network.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    #&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [CmdletBinding()]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    param</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    (</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      [Parameter(Mandatory = $false, Position = 0)]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      [System.String]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      $RGName = &quot;BastionTest&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      [Parameter(Mandatory = $false, Position = 1)]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      [System.String]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      $VNetName = &#x27;vnet-aue-dev&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      [Parameter(Mandatory = $false, Position = 2)]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      [System.String]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      $addressPrefix = &#x27;10.2.1.0/26&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      [Parameter(Mandatory = $false, Position = 3)]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      [System.String]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      $region = &#x27;AustraliaEast&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      [Parameter(Mandatory = $false, Position = 4)]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      [System.String]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      $BastionPubIPName = &#x27;VNet1-ip&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      [Parameter(Mandatory = $false, Position = 5)]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      [Object]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      $BastionResourceName = &quot;$VNetName-bastion&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    )</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # Set variable values for Resource Group name, Virtual Network name, address prefix, region, and bastion-related resources.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # Connect to Azure using Get-AzAccount cmdlet.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Connect-AzAccount</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # Use Get-AzSubscription cmdlet to get all the subscriptions that the account has access to and allow the user to choose one using Out-GridView.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Get-AzSubscription | Out-GridView -PassThru | Select-AzSubscription</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $token = (Get-AzAccessToken).Token</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $subscription = Get-AzContext | Select-Object Subscription</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # Use Get-AzVirtualNetwork cmdlet to get the virtual network object and then use Add-AzVirtualNetworkSubnetConfig cmdlet to create a new subnet for Azure Bastion service. Finally, use Set-AzVirtualNetwork cmdlet to update the virtual network configuration.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $VNET = Get-AzVirtualNetwork -ResourceGroupName $RGName -Name $VNetName </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Add-AzVirtualNetworkSubnetConfig -VirtualNetwork $VNET -Name &quot;AzureBastionSubnet&quot; -AddressPrefix $addressPrefix | Set-AzVirtualNetwork</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $VNET = Get-AzVirtualNetwork -ResourceGroupName $RGName -Name $VNetName </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # Note: If there is an error message, it could indicate that the address prefix for the new subnet overlaps with existing address ranges or is too small.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # Use New-AzPublicIpAddress cmdlet to create a new public IP address resource for the Bastion service.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $publicip = New-AzPublicIpAddress -ResourceGroupName $RGName -name $BastionPubIPName -location $region -AllocationMethod Static -Sku Standard</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $publicip = Get-AzPublicIpAddress -ResourceGroupName $RGName -Name $BastionPubIPName</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # Use New-AzBastion cmdlet to create a new Azure Bastion resource with the specified configuration, including the virtual network and public IP address resources created earlier.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    New-AzBastion -ResourceGroupName $RGName -Name $BastionResourceName -PublicIpAddressRgName $publicip.ResourceGroupName -PublicIpAddressName $publicip.Name  -VirtualNetwork $VNET -Sku &#x27;Standard&#x27; </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    #Enable Shareable links for VMs in Azure Bastion.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $BastionSubnet = Get-AzVirtualNetworkSubnetConfig -Name &#x27;AzureBastionSubnet&#x27; -VirtualNetwork $VNET</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $Body = [PSCustomObject]@{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      location   = $region</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      properties = @{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        enableShareableLink = &quot;true&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ipConfigurations    = @(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          @{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            name       = &quot;bastionHostIpConfiguration&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            properties = @{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              subnet          = @{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                id = $BastionSubnet.id</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              publicIPAddress = @{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                id = $publicip.Id</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        )</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }  | ConvertTo-Json -Depth 6</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $params = @{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Uri         = &quot;https://management.azure.com/subscriptions/&quot; + $subscription.Subscription.Id + </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;/resourceGroups/$($RGName)/providers/Microsoft.Network/bastionHosts/$($BastionResourceName)?api-version=2022-07-01&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Headers     = @{ &#x27;Authorization&#x27; = &quot;Bearer $token&quot; }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Method      = &#x27;Put&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Body        = $body</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      ContentType = &#x27;application/json&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # Invoke the REST API and store the response</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Invoke-RestMethod @Params</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Open a Terminal or PowerShell prompt, and navigate to the folder containing the script.</p>
</li>
<li>
<p>Dot source the script so that you can run it from the session: <strong>. .\New-AzBastionSharedLinkEnabled.ps1</strong></p>
</li>
<li>
<p><img decoding="async" loading="lazy" alt=". .\New-AzBastionSharedLinkEnabled.ps1" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAmQAAAAqCAYAAAAd3EeJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAA38SURBVHhe7ZzPq2RHFcf9AwYEcSEBB0GJRA1oIASdGMcYJCS4CYOICxGFEUYGs4oDGhSVhCgEMaMJgmE2QRQNLpyNgkMwIS6G+AuNiRDiOOQHIyEaN67a/tzMt+e8807fW92v+93uvO/iQ99b59SpU1XdVd+u2++96dChQxNjjDHGGDMeFmTGGGOMMSNjQWaMMcYYMzIWZMYYY4wxI2NBZowxxhgzMhZkxhhjjDEjY0FmjDHGGDMyFmTGGGOMMSNjQWaMMcYYMzIWZMYYY4wxI2NBZowxxhgzMhZkxhhjjDEjY0FmjDHGGDMySwmy1x69/sBSjUfm1bveabaIag4zt3//5Y2iytEYY8z2YkG2INV4ZKpN32wu1RxmKlE0JlWOxhhjthcLsgWpxiNTbfpmc6nmMFOJojGpcjTGGLO9HFhB9tyZGyb3nvjw5KkHbyjt86jGI1Nt+mZzqeYwU4miMaly3HROHL918tTv7pt88tiNpd2Mx0Onv9DNT2Uzq8PjbPpYmyA7e8+HJle/95YZiJ/Kr4VP3X60o7ItC/mQ1+fvWCxuNR6ZatM/SFw4//uOyhb51/13TF4+c6q07SfVHGYqUTQmVY7bwD///oPJr8/eXdrMajl607VNmz8C+X//fmTyyosPl/b9ArEOlW1TYJweOfOl0jbEXsd508ZnKB/ee/RXLDtu81hHzLEpBVklRODcfe/rtUc4gUKUSZhtmiB77P4PdjHJr7LPo2V8+jb52655yy5B0Mfzz/23pEXwRHL9i08+uTYx1CrIXvjVz7pcKtt+wrxU5fDYZw939j4R9PYP3LpLMPWR50I88cf/lP4VtFuVw9G7f7srx02BBZSFFLFQ2UELeBQTm7AZPfOn73Z5LSsoyV99A8TpOjcUjXVlyzxx7lvd6U1lWwXvvvrw5Bc/vasTI+TEK+NIuXw2YY6HIPc4Z4vmvJdxbmkLu95fmcp/Lwzlw9zyGZYwW/V7fR0xW2H94v3MZ3iVecwVZIiL751414y//vD9CwmyyCYKsmVpGR82cl4RX9+85W0z3nPVm5cSZIgbxIu48Jd/LCXIFOfiubOT55+91JW99ON7Sv+9sK2CDPH14CeumvHMF9+xS5Ahvq499vUZbz18zVKCDPH188dfnfHnp19bSpAhvq4//qMZH//20xstyFik2Yz7FjBtIFH4tGxG64QFmJzIgUW48hlCdek7cE/MdQkh2iB+ZdtvlIse2XHP++A7935m5jP2HLdAH8hd9/uZc0tb2ON7LFL574VF+p7HbRWsI2YrtMv7l/6vMo+5ggyREcsQG+sQZNii2NKJWjy5qgTZbTd/dFcZbVx33ce6+h85cvPk4VNHdtgBW2RRodgyPtrkEWFx40eMLSPIEC6xrFXwRHKcV75x5HVhNyX6dSLpsljD9uKjD+ywUw8fbPiI6Ffld+EPf5uVSYhV5L7mfLKAVFudyLwc4+Ljv+nyjH59aM4QYZpPQIxlQYYIi8IIMbaMIEOExTLE2DKCDBGmfAExtsmCDBBaLGbxdCTCAqfTKPlUi78WRfzYhOLmjo3yeK1v7FzH07cWEBK0pcdO+XdwWpgzcaGu+pB9lB/Qp3yKBNxTB7t8Qf1XfytiW9kv5xb94jh/5cvHdtjVL04MFIvryieWZVriDI1PtHMaxZgo9xwr9yu+fwARTj7Y8cPOdRzDln61jLPiLDqGfE5iWeWTkc9exhlyHMao8gPscdwyq5iLFqq+55yHPl+gE36N06J5zGMrBRmPQ/H56ueuxCS+2qGu7n/ytZ2iDJuQf7QP0TI+2uQ3WZDBC78805Vfeuj46/eXhRKvPM7UfRRBKuORJ9eC34PJJ+eHOOrqTEUT9/rtGMKJcq5FjIPIw04s2pAIxE8+XVvTcj2CneV3ua0WNGcWZPuDTpvyoiu0wLHZyEcLqXywy49FUfcSC1ooWVxZfFlco1+1afTB5g5cE4s40U6elAkJyiheyF91Qfda3IFr2WmPGLHfgI1y7PIFxeGVvrLR4Me1yG2pvGoHtPFhow1tUtSRj/ohH17xifMbc1FZRnHwxU91Ypyh8WFeqSuhAsyBNmC1T33ueaVM93m+tPlTrvbwjT6x/YqWcaZsaAwpi3XpKz5RTGWfCuxDbQ2Nc4yDnb7xpQU/5i36AeVx3CKUy76XuWgh56y24hiqDB+uRfzsCM0p9mxbhq0UZAix7MOJ2J2fvml2D9Tp+9H+QRdkCJgocDphMxVJ0Yd2EDvxnjp9J1A5P51eRSEFEk+xLNKdqk1z0j1iDf+YY5fPs5dm90C+uawPzZkF2f7BYsfCWNm0wLH4srFSxkIaNwTq5oUfO3G51kLJK+X4Eo+4lEefeSiuNj49WiSW8qqgHfyr/GJ8+kDMPnGoTS76KE5fPYh9HQK/OL6CfsZ5YlPCN/aNemyWykfjFTcpyiRSeY2bv1CcWJbjZKrxAY2RTjKVt2INvX/krzkHnY7GfKgDuh+C+pU/ZUNjmNvKIlM+9I16Io91S1uZee/D+N4AxjTPIfTFX9VctKC+xzLaiWX45L7O48AKMgQXMbjGnsUXZRUxdga7BdkVocR1RWyL07JYTsx4qgVdflMhhY1rfLPQgyFBVtWLjz67e9oK9zAUN6M5syDbP7SQxW/BQgucNgoWXxZJiD4V8lFd2mHBpx1isolFH+zzUFvUJZa+IUtw6T5Crizu2kwiuQ/U5z6KO8qUo2zqh3yUD+BDv6pcKMcnl1coVlWeN0tyir7KNfpQr9qkGLsozPIGPxSnZXwAG+WxLIKtQu0Tj/scl7KYj/KIPn3ENiJVnKotiS2usVdChvJIjst9LsNv0XGu4hADv1gGOX62VSh261y00JJz6+cLlNuiecxjawQZZZFoB8oQaZRH+GvK6BehzkEWZHokGAUZAoj7iB5pCgQYjzt1EkW9+FiT3CiLqI2IBdmVsoMmyCBv7CIucGw4kBdSfChnQYzoREQ+CAA2MWyIJGJUYqkP2lFOoJOJfPIgMZaFhsh9APIiFq/Uob42XVDb2GM9NghODPTtHp8sbqlPeSybB345N5WTQyzL81b1i3q0H8si6neMPRRnkfEhDuWxLKK2qRfR+4frKm7MB6qc+6B+5V/FqdqiLJLzq+JkhtpqHecqjj4bsQxi/Mq2irloocqZGDnnls8XKLdF85jHvgmyfKIVbVGQPXDnjbsEF3b58PsxfrjPiZnswH2M08JBFmT6UX98tMf9onFnvw9LjzUVp7NP24iPHoWEUz5hE0s/spzac1kfmjMLskOTY8d2LzrLkBfPCp00RREFcYEjjjaHuJDm+wp8WOjxY5PRYrzo4qkFOROFHfERKrTJdawv1H4s0xjQTy3uceyiPdaL0F7OB7TRzPt2H8Ev5wbqk+6JhS/jqrKqX/gMjfOiwm6R8SEO5bEsMvT+4T1J/f18ZJnL+9qKokn27DOPyie21TrOOY5yqr7wUDe+ZyKrmotIfj8I2iHHWEZeuSwy7/MFGqt5eSzKXEGGuEB0iL382wv+IhLxw2+/EEDxx/j8xks20GkYAk7/RT8KMpBoi2KKH+9TRjyuEXS89v0n/hyjhZbx0SaP+EKUiU38txfxryP1OBJxxTWnWrxGwUTdHbkgiKZ1ODGTD2UxP/3xAP4qA07eurym/ZnFDHH29KP+dLLWh+YM8YUoEwft316cPn16cv78+cnJkydLeysscCxSLOKVPcJinBfqvMDhQ1lctPVYgUWSaxZGXqP4wJ9Nn2/t3LPoQkteQgv/0OkTeSgfbCJvYPRFNvJSTiz6aovxoB55Ki5l6hv1YhvExSduWKB4sc28qdGONhXGSvfy0UZMG9TXXEQfbKB7wAf/6MO94nNd+fTFaRkfwEZfKOeaejEmtLx/iKH3Cza1lXOO4xuRT8s4D/W98mEul8lnqK2WcVYc9QUfjVccQ6H50HtXn0lY1VwIcsSGb7ZpfKhPO9RXv+TT8vkiNja1hQ/3VZuLMFeQVSwryHhsyAkWAgiiINM/aKWcV+7lJ7GUBRkQj5MyTsxUhgCT+APs8x5Z6i81lxVkFVmQVSwjyCqi4Gkh15eAyX4IME6mZr5T4RYfWXanTyGOxFSMkQVZV4aYmsbKfwyA6JLQgnjSBp3Auiwe8YuPRkFtSYh1MaY59v3RQYZ5qcohC7KKZQRZxTKCrGJZQXbq1KlOkO31lEwbRdxw5sEihm9cfLmnXPeKlzcRFmYt9MCCHTffvGhrYW3JS7A4UyeXa9MiB+4VOxP7UfmQf8wZf/oRbfJVLG0CQhuwYkTYICSigDGRbV7OEGPEnIilPgviQCzDN+ZEzjGPKueWODGXanxA9yLHFEPvH66pKxtjyWvMR/aKRX1ynthzW9mHcSQnBL18chtCdVra4rpvnPGJbeHLHFdiDKgf5z8KMljFXIi+9Ud9p57aIm+NH7R8vmLfI5RHv0UpBdkQlRjZNnTKlv8txhDVeGSqjd2sh0r8LUo1h5lK+IxJleM2oscc1cJqjDGrRIKssm0CB0qQ8Y9iOZ3TKRqvlV8f1Xhkqk1/TDh9eaPeI8aG/Ieo5jBTiaIxqXLcVvi2Gx8HGGPMOrAg2yDio1EeVcbHna1U45GpNn2zHnxCZowxpgULsjcY1Xhkqk3fbC7VHGYqUTQmVY7GGGO2l6UEmTHGGGOMWR0WZMYYY4wxI2NBZowxxhgzMhZkxhhjjDEjY0FmjDHGGDMyFmTGGGOMMSNjQWaMMcYYMzIWZMYYY4wxI2NBZowxxhgzMhZkxhhjjDGjcmjyf+JS8c5NeV6IAAAAAElFTkSuQmCC" title=". .\New-AzBastionSharedLinkEnabled.ps1" width="612" height="42" class="img_ev3q"></p>
</li>
<li>
<p>Once it&#x27;s imported - we can now run it; make sure you replace your parameters that match your environment:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">New-AzBastionSharedLinkEnabled -RGName BastionTest -VNetName vnet-aue-dev -addressPrefix 10.2.1.0/26 -region AustraliaEast -BastionPubIPName VNet1-ip -BastionResourceName net-aue-dev-bastion</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>The script will then prompt for your credentials to authenticate</p>
</li>
<li>
<p>You will then need to select the Azure subscription containing your Azure Virtual Network, then select Ok</p>
</li>
<li>
<p><img decoding="async" loading="lazy" alt="Select Azure subscription" src="/assets/images/select-azsubscription_outgridview-339836f2117a2caac80d58fb2469abc5.png" title="Select Azure subscription" width="572" height="214" class="img_ev3q"></p>
</li>
<li>
<p>The script will then go and provision Azure Bastion and enable Shared Links. It will take a few minutes to run while it provisions Bastion. Then you will get JSON output, indicating it has been completed.</p>
</li>
<li>
<p><img decoding="async" loading="lazy" alt="Windows PowerShell - New Azure Bastion" src="/assets/images/windowsterminal_new-azbastionsharedlinkenabledrun-c3f0ed7ce23909b43bf7d6bc3899b026.png" title="Windows PowerShell - New Azure Bastion" width="1373" height="626" class="img_ev3q"></p>
</li>
<li>
<p><img decoding="async" loading="lazy" alt="Azure Bastion - Shareable Link" src="/assets/images/azureportal_azurebastion_shareablelinkconfig-522a6e1dc1a539ac4e8b9ef609a6f6ca.png" title="Azure Bastion - Shareable Link" width="973" height="520" class="img_ev3q"></p>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="create-shareable-link">Create Shareable Link<a href="#create-shareable-link" class="hash-link" aria-label="Direct link to Create Shareable Link" title="Direct link to Create Shareable Link">​</a></h4>
<p>Now that we have an Azure Bastion instance and have Shareable Links enabled - it&#x27;s time to create a Shareable Link for a Virtual Machine; this triggers 2 API endpoints - creating the shareable link and then retrieving the shareable link.</p>
<p>The same assumptions are made, so make sure you have the <a href="https://learn.microsoft.com/powershell/azure/new-azureps-module-az?view=azps-9.5.0&amp;WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer" title="Introducing the Azure Az PowerShell module">Az Module</a> installed.</p>
<p>The script relies on the following parameters:</p>

























<table><thead><tr><th>Parameters</th><th>Note</th></tr></thead><tbody><tr><td>BastionResourceName</td><td>The name of your Azure Bastion resource</td></tr><tr><td>RGName</td><td>The Resource Group of your Bastion resource</td></tr><tr><td>VMRGName</td><td>The Resource Group of your Virtual Machine, you want a Shareable Link for</td></tr><tr><td>Vmname</td><td>The name of the Virtual Machine you want a shareable link for</td></tr></tbody></table>
<ol>
<li>
<p>Copy the script below into a file named: New-AzBastionShareableLink.ps1</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">function New-AzBastionShareableLink {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &lt;#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .SYNOPSIS</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Creates an Azure Bastion shareable link.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  #&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  [CmdletBinding()]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  param</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  (</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [Parameter(Mandatory = $false, Position = 0)]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [System.String]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $BastionResourceName = &#x27;vnet-aue-dev-bastion&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [Parameter(Mandatory = $false, Position = 1)]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [System.String]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $RGName = &quot;BastionTest&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [Parameter(Mandatory = $false, Position = 1)]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [System.String]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $VMRGName = &quot;BastionTest&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [Parameter(Mandatory = $false, Position = 2)]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [System.String]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $VMname = &quot;2022ServerVM-2&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  )</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # Connect to Azure using Get-AzAccount</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Connect-AzAccount</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # Get all subscriptions that the account has access to</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Get-AzSubscription | Out-GridView -PassThru | Select-AzSubscription</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  $subscription = Get-AzContext | Select-Object Subscription</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # Get the access token for the authenticated user</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  $token = (Get-AzAccessToken).Token</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  $ID = Get-AzVM -ResourceGroupName $VMRGName -Name $VMName | Select-Object Id -ExpandProperty id</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  $body = @{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    vms = @(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      @{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        vm = @{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          id = $ID.Id</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    )</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }  | ConvertTo-Json -Depth 3</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    #creates the shareable link for the VM</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  $params = @{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Uri         = &quot;https://management.azure.com/subscriptions/&quot; + $subscription.Subscription.Id + </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;/resourceGroups/$RGName/providers/Microsoft.Network/bastionHosts/$BastionResourceName/createShareableLinks?api-version=2022-07-01&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Headers     = @{ &#x27;Authorization&#x27; = &quot;Bearer $token&quot; }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Method      = &#x27;POST&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Body        = $body</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ContentType = &#x27;application/json&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # Invoke the REST API and store the response</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Invoke-RestMethod @Params</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  #Gets the shareable link for the VM</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> $params = @{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Uri         = &quot;https://management.azure.com/subscriptions/&quot; + $subscription.Subscription.Id + </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;/resourceGroups/$($RGName)/providers/Microsoft.Network/bastionHosts/$BastionResourceName/getShareableLinks?api-version=2022-09-01&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Headers     = @{ &#x27;Authorization&#x27; = &quot;Bearer $token&quot; }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Method      = &#x27;POST&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # Body        = $body</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ContentType = &#x27;application/json&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # Invoke the REST API and store the response</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  $ShareableLink = Invoke-RestMethod @Params</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Write-Output $ShareableLink.value.bsl </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Open a Terminal or PowerShell prompt, and navigate to the folder containing the script.</p>
</li>
<li>
<p>Dot source the script so that you can run it from the session: <strong>. .\New-AzBastionShareableLink.ps1</strong></p>
</li>
<li>
<p>s</p>
</li>
<li>
<p>Once it&#x27;s imported - we can now run it; make sure you replace your parameters that match your environment:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">New-AzBastionShareableLink -BastionResourceName net-aue-dev-bastion -RGName BastionTest -VMRGName BastionTest -VMname 2022ServerVM-2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><img decoding="async" loading="lazy" alt="Azure Bastion - Create Shared Link" src="/assets/images/windowsterminal_new-azbastionsharedlink-5b507179b1017dee08d5e1b93a2e064b.png" title="Azure Bastion - Create Shared Link" width="1531" height="85" class="img_ev3q"></p>
</li>
<li>
<p>The script will then prompt for your credentials to authenticate</p>
</li>
<li>
<p>You will then need to select the Azure subscription containing your Azure Virtual Network, then select Ok</p>
</li>
<li>
<p><img decoding="async" loading="lazy" alt="Select Azure subscription" src="/assets/images/select-azsubscription_outgridview-339836f2117a2caac80d58fb2469abc5.png" title="Select Azure subscription" width="572" height="214" class="img_ev3q"></p>
</li>
<li>
<p>The script will then go and collect the ID of the Virtual Machine, pass that through to the Create a Shareable Link, then wait 10 seconds for the Bastion Resource to update properly, then collect the Shareable Link and output it to the terminal.</p>
</li>
<li>
<p><img decoding="async" loading="lazy" alt="Azure Bastion - Shared Link" src="/assets/images/windowsterminal_azurebastionsharedlink-fbe50dcc675e5bfbbc4bda824bce75d7.png" title="Azure Bastion - Shared Link" width="1607" height="265" class="img_ev3q"></p>
</li>
<li>
<p>You can also see the link created in the Azure Portal</p>
</li>
<li>
<p><img decoding="async" loading="lazy" alt="Microsoft Azure Portal - Shareable Link" src="/assets/images/azureportal_azurebastion_shareablelinks-b2ad8a231445af2f063b421666d87e51.png" title="Microsoft Azure Portal - Shareable Link" width="1417" height="364" class="img_ev3q"></p>
</li>
<li>
<p>I can then copy the URL into my favourite browser and connect to your Virtual Machine securely!</p>
</li>
<li>
<p><img decoding="async" loading="lazy" alt="Microsoft Azure Bastion - Connect" src="/assets/images/azurebastionshareablelink_vmconnect-16d5725cd9d358a53d93b41f134ffc85.gif" title="Microsoft Azure Bastion - Connect" width="1624" height="1078" class="img_ev3q"></p>
</li>
</ol>
<p>The scripts can also be found directly on GitHub here: <a href="https://github.com/lukemurraynz/Azure" target="_blank" rel="noopener noreferrer" title="https://github.com/lukemurraynz/Azure">https://github.com/lukemurraynz/Azure</a></p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/azure/">Azure</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/page/17/"><div class="pagination-nav__label">Newer entries</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/page/19/"><div class="pagination-nav__label">Older entries</div></a></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 luke.geek.nz. Powered by coffee, clouds and hamsters on wheels!</div></div></div></footer></div>
</body>
</html>