<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.0">
<title data-rh="true">Validate Azure Zone Redundancy with az zones CLI | luke.geek.nz</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://luke.geek.nz/img/social-card.png"><meta data-rh="true" name="twitter:image" content="https://luke.geek.nz/img/social-card.png"><meta data-rh="true" property="og:url" content="https://luke.geek.nz/azure/zone-redundancy-cli/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Validate Azure Zone Redundancy with az zones CLI | luke.geek.nz"><meta data-rh="true" name="description" content="Learn to use the Azure CLI &#x27;az zones&#x27; extension to check zone redundancy and ensure high availability for your Azure workloads."><meta data-rh="true" property="og:description" content="Learn to use the Azure CLI &#x27;az zones&#x27; extension to check zone redundancy and ensure high availability for your Azure workloads."><meta data-rh="true" name="keywords" content="Azure,Cloud Reliability,Zone Redundancy,az zones,Azure CLI,High Availability"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2025-06-07T06:29:11.921Z"><meta data-rh="true" property="article:author" content="https://luke.geek.nz"><meta data-rh="true" property="article:tag" content="Azure"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://luke.geek.nz/azure/zone-redundancy-cli/"><link data-rh="true" rel="alternate" href="https://luke.geek.nz/azure/zone-redundancy-cli/" hreflang="en"><link data-rh="true" rel="alternate" href="https://luke.geek.nz/azure/zone-redundancy-cli/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://ZBH2T1WJQD-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://luke.geek.nz/azure/zone-redundancy-cli","mainEntityOfPage":"https://luke.geek.nz/azure/zone-redundancy-cli","url":"https://luke.geek.nz/azure/zone-redundancy-cli","headline":"Validate Azure Zone Redundancy with az zones CLI","name":"Validate Azure Zone Redundancy with az zones CLI","description":"Learn to use the Azure CLI 'az zones' extension to check zone redundancy and ensure high availability for your Azure workloads.","datePublished":"2025-06-07T06:29:11.921Z","author":{"@type":"Person","name":"Luke Murray","description":"Author","url":"https://luke.geek.nz","image":"https://luke.geek.nz/img/logo.png"},"keywords":["Azure","Cloud Reliability","Zone Redundancy","az zones","Azure CLI","High Availability"],"isPartOf":{"@type":"Blog","@id":"https://luke.geek.nz/","name":"Lukes Tech Blog - Unleashing the power of the cloud and other technologies!"}}</script><link rel="alternate" type="application/rss+xml" href="/rss.xml" title="luke.geek.nz RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="luke.geek.nz Atom Feed">
<link rel="alternate" type="application/json" href="/feed.json" title="luke.geek.nz JSON Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-0QDLBY7NNN"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-0QDLBY7NNN",{anonymize_ip:!0})</script><link rel="stylesheet" href="/assets/css/styles.6d044255.css">
<script src="/assets/js/runtime~main.b35fabb6.js" defer="defer"></script>
<script src="/assets/js/main.191bfdd5.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="dark";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="theme-announcement-bar announcementBar_mb4j" style="background-color:#D3D3D3" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">If you haven't already, sign up for my Weekly Azure updates Newsletter, straight to your inbox! <a target="_blank" rel="noopener noreferrer" href="https://newsletter.azurefeeds.com/join">Subscribe now!</a></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="luke.geek.nz" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.png" alt="luke.geek.nz" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">luke.geek.nz</b></a><a class="navbar__item navbar__link" href="/Tags/">Tags</a><a class="navbar__item navbar__link" href="/Archive/">Blog</a><a class="navbar__item navbar__link" href="/about/">About</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://www.youtube.com/channel/UCUG3TKDTAZz4UXshGrjBBoQ" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-icon" aria-label="YouTube">
              <svg width="24" height="24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path d="M23.498,6.186c-0.273-1.186-1.143-2.144-2.332-2.417C18.389,3.153,12,3.153,12,3.153s-6.389,0-9.166,0.616
                  c-1.19,0.273-2.06,1.23-2.332,2.417C0,8.07,0,12,0,12s0,3.93,0.502,5.814c0.272,1.187,1.142,2.062,2.332,2.335
                  C5.611,20.847,12,20.847,12,20.847s6.389,0,9.166-0.698c1.189-0.273,2.059-1.148,2.332-2.335C24,15.93,24,12,24,12
                  S24,8.07,23.498,6.186z M9.545,15.568V8.432l6.545,3.568L9.545,15.568z"/>
              </svg>
            </a><a href="https://aus.social/@lukemurray" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-icon" aria-label="Mastodon">
              <svg height="20" width="20" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" xml:space="preserve">
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                  <path d="M21.327 8.566c0-4.339-2.843-5.61-2.843-5.61-1.433-.658-3.894-.935-6.451-.956h-.063c-2.557.021-5.016.298-6.45.956 0 0-2.843 1.272-2.843 5.61 0 .993-.019 2.181.012 3.441.103 4.243.778 8.425 4.701 9.463 1.809.479 3.362.579 4.612.510 2.268-.126 3.541-.809 3.541-.809l-.075-1.646s-1.621.511-3.441.449c-1.804-.062-3.707-.194-3.999-2.409a4.523 4.523 0 0 1-.04-.621s1.77.433 4.014.536c1.372.063 2.658-.08 3.965-.236 2.506-.299 4.688-1.843 4.962-3.254.434-2.223.398-5.424.398-5.424zm-3.353 5.59h-2.081V9.057c0-1.075-.452-1.62-1.357-1.62-1 0-1.501.647-1.501 1.927v2.791h-2.069V9.364c0-1.28-.501-1.927-1.502-1.927-.905 0-1.357.546-1.357 1.62v5.099H6.026V8.903c0-1.074.273-1.927.823-2.558.566-.631 1.307-.955 2.228-.955 1.065 0 1.872.409 2.405 1.228l.518.869.519-.869c.533-.819 1.34-1.228 2.405-1.228.92 0 1.662.324 2.228.955.549.631.822 1.484.822 2.558v5.253z"></path>
                </g>
              </svg>
            </a><a href="https://bsky.app/profile/lukemurraynz.bsky.social" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-icon" aria-label="Bluesky">
              <svg class="octicon" xmlns="http://www.w3.org/2000/svg" role="img" viewBox="0 0 16 16" height="20" width="20" fill="currentColor">
                <title>Bluesky</title>
                <path d="M8 7.2c-.72-1.4-2.7-4.04-4.53-5.33C1.7.63 1.04.84.6 1.04.1 1.27 0 2.05 0 2.51c0 .46.25 3.77.42 4.32.54 1.82 2.47 2.45 4.25 2.25-2.6.38-4.92 1.33-1.88 4.71 3.33 3.46 4.57-.74 5.21-2.87.64 2.13 1.37 6.18 5.16 2.87 2.84-2.87.78-4.33-1.83-4.71 1.78.2 3.71-.43 4.25-2.25.17-.55.42-3.86.42-4.32 0-.46-.09-1.24-.6-1.47-.44-.2-1.11-.42-2.87.83A17.87 17.87 0 0 0 8 7.2Z"></path>
              </svg>
            </a><a href="https://twitter.com/lukemurraynz" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-icon" aria-label="X"><svg height="20" width="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M10 8.586l4.293-4.293a1 1 0 011.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 011.414-1.414L10 8.586z" clip-rule="evenodd"/>
          </svg></a><a href="https://www.linkedin.com/in/ljmurray/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-icon" aria-label="LinkedIn"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"></path></svg></a><a href="https://luke.geek.nz/rss" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-rss-link" aria-label="RSS"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><div role="group"><h3 class="yearGroupHeading_rMGB">2025</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/azure/zone-redundancy-cli/">Validate Azure Zone Redundancy with az zones CLI</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/azure/container-apps-planned-maintenance/">Azure Container Apps Configure Planned Maintenance Windows</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/azure/aks-kaito-completion/">Test KAITO Model Completion on AKS with kubectl &amp; curl</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/azure/extended-zones-perth/">Azure Extended Zones in Perth</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/azure/aks-kaito-vscode-deployment/">Deploy &amp; Test KAITO on AKS with Visual Studio Code</a></li></ul></div></nav></aside><main class="col col--7"><article class=""><header><h1 class="title_f1Hy">Validate Azure Zone Redundancy with az zones CLI</h1><div class="container_mt6G margin-vert--md"><time datetime="2025-06-07T06:29:11.921Z">June 7, 2025</time> · <!-- -->7 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://luke.geek.nz" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://luke.geek.nz/img/logo.png" alt="Luke Murray"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://luke.geek.nz" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Luke Murray</span></a></div><small class="authorTitle_nd0D" title="Author">Author</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div id="__blog-post-container" class="markdown"><p><a href="https://learn.microsoft.com/azure/well-architected/reliability/?WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer">Reliability</a> <em>(Resiliency, availability, recovery)</em> is part of one of the main pillars of the <a href="https://learn.microsoft.com/azure/well-architected/?WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer">Azure Well-Architected Framework</a>. It is essential for ensuring that applications and services remain operational and performant, even in the face of failures or unexpected events. Reliability encompasses various aspects, including fault tolerance, disaster recovery, and high availability.</p>
<p>Reliability is also a shared responsibility between the cloud provider <em>(ie, Microsoft)</em> and the customer. While Azure provides a robust infrastructure and services designed for reliability, customers must also implement best practices and strategies to ensure their applications are resilient and can recover from failures.</p>
<p><img decoding="async" loading="lazy" alt="ReliabilitySharedResponsibility" src="/assets/images/ReliabilitySharedResponsibility-f11723a008cf0c2993a7e12ee2c252ed.png" width="1500" height="826" class="img_ev3q"></p>
<p>But a key question arises: <strong>How do we check the reliability <em>(in this example, Zone redundancy of our Workload)</em> ?</strong></p>
<p>One of the tools we can use for this is the <code>az zones</code> command line tool.</p>
<!-- -->
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>I just want to say that Resiliency is not just about the infrastructure, but also about the application design and architecture. It is essential to consider how your application will handle failures and recover from them, as there are numerous layers to take into account when implementing technology.</p><p><img decoding="async" loading="lazy" alt="ImportanceReliability" src="/assets/images/ImportanceReliability-84010f457c76af363dd7111889e21081.png" width="1511" height="844" class="img_ev3q"></p><p>However, the resiliency platform capabilities, although sometimes not directly visible, are essential for the reliability of your application. They provide the foundation upon which your workload sits.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-what-makes-up-an-azure-region">🏢 What Makes Up an Azure Region?<a href="#-what-makes-up-an-azure-region" class="hash-link" aria-label="Direct link to 🏢 What Makes Up an Azure Region?" title="Direct link to 🏢 What Makes Up an Azure Region?">​</a></h2>
<p>Before we go into the details of the <code>az zones</code> command line tool, I want to touch on what the tool will be highlighting for us.</p>
<p>If we go into what a region consists of, we can see that it is made up of multiple availability zones. An availability zone is a physically separate zone within an Azure region, designed to be isolated from failures in other zones. Each availability zone <em>(one or more datacenters)</em> has its own power, cooling, and networking infrastructure, ensuring that if one zone experiences an outage, the others remain operational.</p>
<p><img decoding="async" loading="lazy" alt="Azure Availability Zones" src="/assets/images/AvailabilityZones-1ae3c9e34a273371fdbfaa9665171978.jpg" width="1280" height="720" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="️-designing-for-reliability-with-availability-zones">🛡️ Designing for Reliability with Availability Zones<a href="#️-designing-for-reliability-with-availability-zones" class="hash-link" aria-label="Direct link to 🛡️ Designing for Reliability with Availability Zones" title="Direct link to 🛡️ Designing for Reliability with Availability Zones">​</a></h2>
<p>When designing your workloads for reliability within Azure, it is crucial to consider the availability zones. By deploying resources across multiple availability zones, you can achieve higher levels of fault tolerance and availability. This means that even if one zone goes down, your application can continue to function using resources in other zones.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>If you are interested in more about Workload criticality, refer to a previous blog post I did: <a href="https://luke.geek.nz/azure/business-critical-workloads/" target="_blank" rel="noopener noreferrer">Understanding Workload Criticality in the Cloud
</a>. This goes a bit deeper into SLA, SLO, and composite SLAs</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-how-do-you-know-if-your-workload-is-zone-redundant">🔍 How Do You Know If Your Workload Is Zone Redundant?<a href="#-how-do-you-know-if-your-workload-is-zone-redundant" class="hash-link" aria-label="Direct link to 🔍 How Do You Know If Your Workload Is Zone Redundant?" title="Direct link to 🔍 How Do You Know If Your Workload Is Zone Redundant?">​</a></h2>
<p>So, how do you know that your workload is redundant? This is where the <code>az zones</code> command line tool comes in handy.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>This extension is in active development. While an effort has been made to include the most common resource types and their zone redundancy configuration, there are still plenty of resource types missing. More will be added in future releases. In the meantime, if you need specific resources added or have found errors, please raise a <a href="https://github.com/Azure/azure-cli-extensions/issues" target="_blank" rel="noopener noreferrer">Github issue</a>. The extension still has missing resource types. These are shown as Unknown in the results. It is essential that you validate zone redundancy of these resources yourself, since your whole application is only zone redundant if all resources are zone redundant.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-understanding-zone-redundancy-status">🧩 Understanding Zone Redundancy Status<a href="#-understanding-zone-redundancy-status" class="hash-link" aria-label="Direct link to 🧩 Understanding Zone Redundancy Status" title="Direct link to 🧩 Understanding Zone Redundancy Status">​</a></h2>
<p>This CLI Extension helps validate the zone redundancy status of resources within a specific scope. For each resource, one of the following statuses will be returned:</p>
<table><thead><tr><th>Status</th><th>Description</th></tr></thead><tbody><tr><td>Unknown</td><td>Unable to verify status. You&#x27;ll need to check the resource manually.</td></tr><tr><td>Yes</td><td>Resource is configured for zone redundancy</td></tr><tr><td>Always</td><td>Resource is always zone redundant, no configuration needed</td></tr><tr><td>No</td><td>Resource is not configured for zone redundancy, but could be in another configuration</td></tr><tr><td>Never</td><td>Resource cannot be configured for zone redundancy</td></tr><tr><td>Dependent</td><td>Resource is zone redundant if parent or related resource is zone redundant</td></tr><tr><td>NoZonesInRegion</td><td>The region the resource is deployed in does not have Availability Zones</td></tr></tbody></table>
<p>By running this against a specific resource group that contains your production resources, you can be sure that you have not overlooked any resources in your quest for zone redundancy. If the results show &#x27;No&#x27; on one of your resources, that means that you need to change the configuration to enable ZR. If it shows &#x27;Never&#x27;, that probably means you need to deploy multiple of those resources to the different zones manually.</p>
<blockquote>
<p>Zonal services are considered to be Zone Redundant if they are deployed to at least 2 zones.</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-getting-started-with-az-zones-validate">🚀 Getting Started with <code>az zones validate</code><a href="#-getting-started-with-az-zones-validate" class="hash-link" aria-label="Direct link to -getting-started-with-az-zones-validate" title="Direct link to -getting-started-with-az-zones-validate">​</a></h2>
<p>So let&#x27;s get going - with the <a href="https://learn.microsoft.com/cli/azure/install-azure-cli?view=azure-cli-latest&amp;WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer">Azure CLI</a> installed, it&#x27;s time to run a validate command - this will prompt the Azure CLI to install the extension.</p>
<p>Make sure you log in with: <code>az login</code>
Then type: <code>az zones validate</code></p>
<p><img decoding="async" loading="lazy" alt="Az Zones validate" src="/assets/images/AzZonesValidate-2fcdc4164e6727e2d045550ff4f6e24d.gif" width="1202" height="496" class="img_ev3q"></p>
<p>This will prompt the zones extension to be installed and run the validate command.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-output-formats-and-exporting-results">📊 Output Formats and Exporting Results<a href="#-output-formats-and-exporting-results" class="hash-link" aria-label="Direct link to 📊 Output Formats and Exporting Results" title="Direct link to 📊 Output Formats and Exporting Results">​</a></h2>
<p>Next, let us rerun it - this time in a Table format:</p>
<p><code>az zones validate -o table</code></p>
<p><img decoding="async" loading="lazy" alt="Az Zones validate - Output Tables" src="/assets/images/AzZonesValidate_OutputTable-34594e7e5dc8f4359ed2f1e1ec6e61b6.gif" width="1201" height="496" class="img_ev3q"></p>
<p>The Table format makes it easier to read, in my opinion, and then we could export and then open it up in Excel, for example, to view outside of the terminal <code> az zones validate -o table &gt; ZonesOutput.csv</code>.</p>
<p>As we can see, I have a range of resource types in my Azure environment:</p>
<p><img decoding="async" loading="lazy" alt="Az Zones validate - open in Excel" src="/assets/images/AzZones_ExcelExportView-f775739c29a20550176249560f7cd6f5.png" width="1691" height="647" class="img_ev3q"></p>
<p>I can see that I have User Assigned Managed Identitties with the class of: Always - meaning it is <a href="https://learn.microsoft.com/azure/storage/common/storage-redundancy?WT.mc_id=AZ-MVP-5004796#zone-redundant-storage" target="_blank" rel="noopener noreferrer">zone-redundant</a> and no other changes are needed.
I can see that I have Disks, which are not zone redundant. THis means that they are not Zone-Redundant _(remember zone redundant is deployed to 2 or more zones) - in this case I would have to change the configuration from an <a href="https://learn.microsoft.com/azure/storage/common/storage-redundancy?WT.mc_id=AZ-MVP-5004796#locally-redundant-storage" target="_blank" rel="noopener noreferrer">LRS <em>(Locally Redundant storage)</em></a> to <a href="https://learn.microsoft.com/azure/storage/common/storage-redundancy?WT.mc_id=AZ-MVP-5004796#zone-redundant-storage" target="_blank" rel="noopener noreferrer">ZRS _(Zone reundant storage)_</a> SKU or adjust the system using the disk - to be redundant, ie failover cluster.
I can see I have an Expressroute circuit with the status of Unknown, This means that the zones CLI extension isn&#x27;t able to verify this resource type. So you would need to check manually - make sure your <a href="https://learn.microsoft.com/en-us/azure/vpn-gateway/about-zone-redundant-vnet-gateways?WT.mc_id=AZ-MVP-5004796" target="_blank" rel="noopener noreferrer">virtual network gateways are zone-redundant</a>. It&#x27;s worth noting that Virtual Networks are zone-redundant by default.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-scoping-your-validation">🎯 Scoping Your Validation<a href="#-scoping-your-validation" class="hash-link" aria-label="Direct link to 🎯 Scoping Your Validation" title="Direct link to 🎯 Scoping Your Validation">​</a></h2>
<p>Now it&#x27;s worth noting that when we ran <code>az zones validate</code> it ran across all resources across subscriptions in the tenant we have access to, if we wanted to limit the scope of the scan, we can.</p>
<p>We can limit it by Resources with a specific tag only:</p>
<p>`az zones validate --tags Environment=dev&#x27;</p>
<p><img decoding="async" loading="lazy" alt="Azure Zones Validate" src="/assets/images/AzZonesValidate_TagScope-050fade1e61afc73f43a59c6cbafbddc.gif" width="1200" height="496" class="img_ev3q"></p>
<p><em>(It&#x27;s worth noting the Tag value pair is case sensitive.)</em></p>
<p>And we can also limit it by Resource Group or Subscription:</p>
<p><code>az zones validate --resource-groups defaultresourcegroup-eau</code></p>
<p><code>az zones validate --subscription lukemurray-mvp-visualstudioenterprise-sub-dev</code></p>
<p><img decoding="async" loading="lazy" alt="Azure Zones Validate - Scope" src="/assets/images/AzZonesValidate_ScopeRGSub-a4f7009bfaed5a86cde79e5231f95aa5.gif" width="1200" height="496" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-additional-options-and-filtering">🧹 Additional Options and Filtering<a href="#-additional-options-and-filtering" class="hash-link" aria-label="Direct link to 🧹 Additional Options and Filtering" title="Direct link to 🧹 Additional Options and Filtering">​</a></h2>
<p>You can also use the <code>--omit-dependent</code> to remove resource dependencies from the scan and output.</p>
<p>You can also use a JMESPath custom query ie, if I wanted to only view the resiliency of my disks: <code>az zones validate --output table --query &quot;[?resourceType==&#x27;microsoft.compute/disks&#x27;].{Resource:name, Location:location, ZoneRedundant:zoneRedundant}&quot;</code></p>
<p><img decoding="async" loading="lazy" alt="Azure Zones Validate " src="/assets/images/AzZonesValidate_ScopeResourceType-092c66b6286e014ce767906187ed1335.gif" width="1200" height="496" class="img_ev3q"></p></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/tags/azure/">Azure</a></li></ul></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--next" href="/azure/container-apps-planned-maintenance/"><div class="pagination-nav__sublabel">Older post</div><div class="pagination-nav__label">Azure Container Apps Configure Planned Maintenance Windows</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#-what-makes-up-an-azure-region" class="table-of-contents__link toc-highlight">🏢 What Makes Up an Azure Region?</a></li><li><a href="#️-designing-for-reliability-with-availability-zones" class="table-of-contents__link toc-highlight">🛡️ Designing for Reliability with Availability Zones</a></li><li><a href="#-how-do-you-know-if-your-workload-is-zone-redundant" class="table-of-contents__link toc-highlight">🔍 How Do You Know If Your Workload Is Zone Redundant?</a></li><li><a href="#-understanding-zone-redundancy-status" class="table-of-contents__link toc-highlight">🧩 Understanding Zone Redundancy Status</a></li><li><a href="#-getting-started-with-az-zones-validate" class="table-of-contents__link toc-highlight">🚀 Getting Started with <code>az zones validate</code></a></li><li><a href="#-output-formats-and-exporting-results" class="table-of-contents__link toc-highlight">📊 Output Formats and Exporting Results</a></li><li><a href="#-scoping-your-validation" class="table-of-contents__link toc-highlight">🎯 Scoping Your Validation</a></li><li><a href="#-additional-options-and-filtering" class="table-of-contents__link toc-highlight">🧹 Additional Options and Filtering</a></li></ul></div></div></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 luke.geek.nz. Powered by coffee, clouds and hamsters on wheels!</div></div></div></footer></div>
</body>
</html>