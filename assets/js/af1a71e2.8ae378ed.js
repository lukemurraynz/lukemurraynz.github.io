"use strict";(self.webpackChunklukemurraynz=self.webpackChunklukemurraynz||[]).push([[65613],{93199:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>u,contentTitle:()=>i,default:()=>p,frontMatter:()=>n,metadata:()=>r,toc:()=>c});var r=s(4581),a=s(74848),o=s(28453);const n={title:"Accessing KeyVault from Azure DevOps",metaDescription:"Access an Azure Key vault from a Microsoft-hosted agent in Azure DevOps",date:new Date("2024-02-03T10:56:08.514Z"),tags:["Azure"],categories:["Azure"],authors:["Luke"],header:{teaser:"BlogHeadingAccessingKeyVaultfromAzureDevOps.gif"},slug:"azure/accessing-keyvault-azure-devops",keywords:["azure","cloudnative","keyvault","security","devops"],description:"Access an Azure Key vault from a Microsoft-hosted agent in Azure DevOps"},i=void 0,u={authorsImageUrls:[void 0]},c=[];function l(e){const t={a:"a",img:"img",p:"p",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(t.p,{children:["If you are running a ",(0,a.jsx)(t.a,{href:"https://learn.microsoft.com/azure/devops/pipelines/agents/agents?view=azure-devops&tabs=yaml%2Cbrowser&WT.mc_id=AZ-MVP-5004796#microsoft-hosted-agents",children:"Microsoft-hosted Azure DevOps agent"}),", you may need to access a ",(0,a.jsx)(t.a,{href:"https://azure.microsoft.com/products/key-vault?WT.mc_id=AZ-MVP-5004796",children:"KeyVault"})," to retrieve secrets. This is a common scenario when deploying resources to Azure."]}),"\n",(0,a.jsx)(t.p,{children:"In this post, I will show you how to access a KeyVault from an Azure DevOps pipeline by adding the IP of the Azure DevOps agent directly into your Azure Keyvault and removing it after it retrieves the secrets."}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"Accessing KeyVault from a Azurne DevOps\xa0Microsoft\xa0Hosted\xa0Agent",src:s(80678).A+"",title:"Accessing KeyVault from a Azurne DevOps\xa0Microsoft\xa0Hosted\xa0Agent",width:"1200",height:"628"})})]})}function p(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},80678:(e,t,s)=>{s.d(t,{A:()=>r});const r=s.p+"assets/images/BlogHeadingAccessingKeyVaultfromAzureDevOps-544d1dbdffe23f468b00b7e0022bd75d.gif"},28453:(e,t,s)=>{s.d(t,{R:()=>n,x:()=>i});var r=s(96540);const a={},o=r.createContext(a);function n(e){const t=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:n(e.components),r.createElement(o.Provider,{value:t},e.children)}},4581:e=>{e.exports=JSON.parse('{"permalink":"/azure/accessing-keyvault-azure-devops","source":"@site/blog/2024-02-04-azure-devops-keyvault/index.mdx","title":"Accessing KeyVault from Azure DevOps","description":"Access an Azure Key vault from a Microsoft-hosted agent in Azure DevOps","date":"2024-02-03T10:56:08.514Z","tags":[{"inline":true,"label":"Azure","permalink":"/tags/azure"}],"readingTime":5.225,"hasTruncateMarker":true,"authors":[{"name":"Luke Murray","title":"Author","url":"https://luke.geek.nz","imageURL":"https://luke.geek.nz/img/logo.png","key":"Luke","page":null}],"frontMatter":{"title":"Accessing KeyVault from Azure DevOps","metaDescription":"Access an Azure Key vault from a Microsoft-hosted agent in Azure DevOps","date":"2024-02-03T10:56:08.514Z","tags":["Azure"],"categories":["Azure"],"authors":["Luke"],"header":{"teaser":"BlogHeadingAccessingKeyVaultfromAzureDevOps.gif"},"slug":"azure/accessing-keyvault-azure-devops","keywords":["azure","cloudnative","keyvault","security","devops"],"description":"Access an Azure Key vault from a Microsoft-hosted agent in Azure DevOps"},"unlisted":false,"prevItem":{"title":"Enterprise Policy as Code with Azure DevOps","permalink":"/azure/enterprise-policy-code-azure-devops"},"nextItem":{"title":"Using the Azure Naming Tool API to name your Bicep resources","permalink":"/azure/azure-naming-tool-api-bicep-resources"}}')}}]);