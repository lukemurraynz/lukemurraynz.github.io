"use strict";(self.webpackChunklukemurraynz=self.webpackChunklukemurraynz||[]).push([[10992],{2132:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>d,contentTitle:()=>i,default:()=>l,frontMatter:()=>o,metadata:()=>s,toc:()=>u});var n=t(74848),a=t(28453);const o={title:"Request is badly formatted Error with Azure OpenAI",metaDescription:"Learn how to resolve the 'Request is badly formatted' error when using Azure OpenAI with Managed Identity in a container app.",date:new Date("2024-11-26T19:48:56.888Z"),tags:["Azure"],categories:["Azure"],authors:["Luke"],slug:"azure/openai-request-badly-formatted",keywords:["azure","openai","container apps","managed identity","error handling","custom subdomain"],description:"Learn how to resolve the 'Request is badly formatted' error when using Azure OpenAI with Managed Identity in a container app."},i=void 0,s={permalink:"/azure/openai-request-badly-formatted",source:"@site/blog/2024-11-27-requestisbadlyformated/index.mdx",title:"Request is badly formatted Error with Azure OpenAI",description:"Learn how to resolve the 'Request is badly formatted' error when using Azure OpenAI with Managed Identity in a container app.",date:"2024-11-26T19:48:56.888Z",tags:[{inline:!0,label:"Azure",permalink:"/tags/azure"}],readingTime:1.665,hasTruncateMarker:!0,authors:[{name:"Luke Murray",title:"Author",url:"https://luke.geek.nz",imageURL:"https://luke.geek.nz/img/logo.png",key:"Luke",page:null}],frontMatter:{title:"Request is badly formatted Error with Azure OpenAI",metaDescription:"Learn how to resolve the 'Request is badly formatted' error when using Azure OpenAI with Managed Identity in a container app.",date:"2024-11-26T19:48:56.888Z",tags:["Azure"],categories:["Azure"],authors:["Luke"],slug:"azure/openai-request-badly-formatted",keywords:["azure","openai","container apps","managed identity","error handling","custom subdomain"],description:"Learn how to resolve the 'Request is badly formatted' error when using Azure OpenAI with Managed Identity in a container app."},unlisted:!1,prevItem:{title:"Azure Region Provider Comparison",permalink:"/azure/azure-region-provider-comparison"},nextItem:{title:"Deploying a Streamlit App to Azure Container Apps",permalink:"/azure/deploy-streamlit-to-container-apps"}},d={authorsImageUrls:[void 0]},u=[];function p(e){const r={a:"a",admonition:"admonition",code:"code",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(r.p,{children:["When attempting to call ",(0,n.jsx)(r.a,{href:"https://learn.microsoft.com/azure/ai-services/openai/overview?WT.mc_id=AZ-MVP-5004796",children:"Azure OpenAI"})," using a ",(0,n.jsx)(r.a,{href:"https://learn.microsoft.com/entra/identity/managed-identities-azure-resources/overview?WT.mc_id=AZ-MVP-5004796",children:"Managed Identity"}),", you may encounter the following error:"]}),"\n",(0,n.jsx)(r.admonition,{type:"warning",children:(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-plaintext",children:"ERROR:root:Error generating response: Error code: 400 - {'error': {'code': 'Request is badly formated', 'message': 'Resource Id is badly formed or from wrong namespace: NA'}}\n2024-11-26T18:57:08.224640325Z ERROR:root:Response content: b'{\"error\":{\"code\":\"Request is badly formated\",\"message\":\"Resource Id is badly formed or from wrong namespace: NA\"}}'\n"})})})]})}function l(e={}){const{wrapper:r}={...(0,a.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(p,{...e})}):p(e)}},28453:(e,r,t)=>{t.d(r,{R:()=>i,x:()=>s});var n=t(96540);const a={},o=n.createContext(a);function i(e){const r=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function s(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),n.createElement(o.Provider,{value:r},e.children)}}}]);