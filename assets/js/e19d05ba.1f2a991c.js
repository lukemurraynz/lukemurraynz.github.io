"use strict";(self.webpackChunklukemurraynz=self.webpackChunklukemurraynz||[]).push([[89651],{41076:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>d,frontMatter:()=>s,metadata:()=>i,toc:()=>l});var r=n(85893),o=n(11151);const s={title:"Disable SFTP support on an Azure Storage account on a Schedule",authors:["Luke"],tags:["Azure"],date:"2022-11-16 00:00:00 +1300",toc:!0,header:{teaser:"/uploads/azautomation_runbook_run.png"},slug:"azure/disable-sftp-support-on-an-azure-storage-account-on-a-schedule"},a=void 0,i={permalink:"/azure/disable-sftp-support-on-an-azure-storage-account-on-a-schedule",source:"@site/blog/2022-11-16-disable-sftp-support-on-an-azure-storage-account-on-a-schedule.md",title:"Disable SFTP support on an Azure Storage account on a Schedule",description:'Azure Storage account SFTP functionality support for Azure Blob Storage") has now gone GA (Generally Available) across most regions as part of the GA release - SFTP support for Azure Storage accounts was free while it was in preview - but now that the service is GA - there is an additional charge for SFTP (Secure File Transfer)_ functionality.',date:"2022-11-16T00:00:00.000Z",formattedDate:"November 16, 2022",tags:[{label:"Azure",permalink:"/tags/azure"}],readingTime:6.54,hasTruncateMarker:!1,authors:[{name:"Luke Murray",title:"Author",url:"https://luke.geek.nz",imageURL:"https://luke.geek.nz/img/logo.png",key:"Luke"}],frontMatter:{title:"Disable SFTP support on an Azure Storage account on a Schedule",authors:["Luke"],tags:["Azure"],date:"2022-11-16 00:00:00 +1300",toc:!0,header:{teaser:"/uploads/azautomation_runbook_run.png"},slug:"azure/disable-sftp-support-on-an-azure-storage-account-on-a-schedule"},unlisted:!1,prevItem:{title:"Hosting your workloads in Azure vs On-premises",permalink:"/azure/hosting-your-workloads-in-azure-vs-on-premises"},nextItem:{title:"Deploy Azure-Firewall-mon to a Static Web App",permalink:"/azure/deploy-azure-firewall-mon-to-a-static-web-app"}},c={authorsImageUrls:[void 0]},l=[{value:"Overview",id:"overview",level:4},{value:"Prerequisites",id:"prerequisites",level:4},{value:"Deploy &amp; Configure",id:"deploy--configure",level:4},{value:"Update Az.Accounts module",id:"update-azaccounts-module",level:5},{value:"Update Az.Storage module",id:"update-azstorage-module",level:5},{value:"Create System Managed Identity",id:"create-system-managed-identity",level:5},{value:"Import Runbook - Set-AzStgFTP.ps1",id:"import-runbook---set-azstgftpps1",level:5},{value:"Run Runbook - Set-AzStgFTP",id:"run-runbook---set-azstgftp",level:5}];function u(e){const t={a:"a",blockquote:"blockquote",code:"code",em:"em",h4:"h4",h5:"h5",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.p,{children:["Azure Storage account ",(0,r.jsx)(t.a,{href:"https://learn.microsoft.com/en-us/azure/storage/blobs/secure-file-transfer-protocol-support?WT.mc_id=AZ-MVP-5004796#pricing-and-billing",title:"SSH File Transfer Protocol (SFTP) support for Azure Blob Storage",children:"SFTP functionality"})," has now gone GA ",(0,r.jsx)(t.em,{children:"(Generally Available)"})," across most regions as part of the GA release - SFTP support for Azure Storage accounts was free while it was in preview - but now that the service is GA - there is an additional charge for SFTP ",(0,r.jsx)(t.em,{children:"(Secure File Transfer)"})," functionality."]}),"\n",(0,r.jsxs)(t.blockquote,{children:["\n",(0,r.jsx)(t.p,{children:"Enabling the SFTP endpoint has a cost of $0.30 per hour. We will start applying this hourly cost on or after December 1, 2022."}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"This service has worked for me without a hitch for months, but as with most resources in Microsoft Azure - you pay for what you use! Therefore, there may be instances where you do not need SFTP support 24 hours a day, seven days a week! This is where the following Azure Automation runbook can help."}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.em,{children:"Feel free to check out a"})," ",(0,r.jsx)(t.a,{href:"https://luke.geek.nz/azure/sftp-in-microsoft-azure-using-azure-blob-storage/",title:"SFTP in Microsoft Azure using Azure Blob Storage ",children:(0,r.jsx)(t.em,{children:"previous article"})})," ",(0,r.jsx)(t.em,{children:"on setting up SFTP support for an Azure storage account."})]}),"\n",(0,r.jsx)(t.h4,{id:"overview",children:"Overview"}),"\n",(0,r.jsxs)(t.p,{children:["Using an ",(0,r.jsx)(t.a,{href:"https://learn.microsoft.com/en-us/azure/automation/overview?WT.mc_id=AZ-MVP-5004796",title:"What is Azure Automation?",children:"Azure Automation"})," PowerShell runbook and Schedules ",(0,r.jsx)(t.em,{children:"(as part of the Azure Automation account)"}),"  - we can turn on the SFTP endpoint - when we need it and disable it - the rest of the time - which is excellent from a security and cost perspective."]}),"\n",(0,r.jsx)(t.h4,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsx)(t.p,{children:"To do this, we will need an:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Azure Automation Account"}),"\n",(0,r.jsx)(t.li,{children:"System Managed Identity set with Storage Account Contributor rights"}),"\n",(0,r.jsxs)(t.li,{children:["PowerShell runbook ",(0,r.jsx)(t.em,{children:"(supplied below)"})]}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["For this article, I will assume you already have an Azure Automation account - if you do not - then follow the Microsoft documentation: ",(0,r.jsx)(t.a,{href:"https://learn.microsoft.com/en-us/azure/automation/automation-create-standalone-account?tabs=azureportal&WT.mc_id=AZ-MVP-5004796",title:"Create a standalone Azure Automation account",children:"Create a standalone Azure Automation account"}),"."]}),"\n",(0,r.jsx)(t.h4,{id:"deploy--configure",children:"Deploy & Configure"}),"\n",(0,r.jsx)(t.p,{children:"Now that the Azure Automation account has been configured and set up - we need to add the Runbook, but before we can do that - there are some dependencies. For example, SFTP is a new service that the currently installed Az Modules in the Azure Automation don't have visibility on - so to configure the SFTP service - we need to update 2 Modules to the most recent version."}),"\n",(0,r.jsx)(t.p,{children:"These modules are:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["Az.Accounts ",(0,r.jsx)(t.em,{children:"(\u2265 2.10.3)"})]}),"\n",(0,r.jsx)(t.li,{children:"Az.Storage"}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"Az.Accounts are a dependent service of the latest Az.Storage account, so let us import that first."}),"\n",(0,r.jsx)(t.h5,{id:"update-azaccounts-module",children:"Update Az.Accounts module"}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:["In the ",(0,r.jsx)(t.a,{href:"https://portal.azure.com/#home",title:"Microsoft Azure Portal",children:(0,r.jsx)(t.strong,{children:"Azure Portal"})}),", navigate to ",(0,r.jsx)(t.a,{href:"https://portal.azure.com/#view/HubsExtension/BrowseResource/resourceType/Microsoft.Automation%2FAutomationAccounts",title:"Azure Automation Accounts",children:(0,r.jsx)(t.strong,{children:"Azure Automation accounts"})}),"."]}),"\n",(0,r.jsxs)(t.li,{children:["Find your Azure Automation account and, click on it, navigate to ",(0,r.jsx)(t.strong,{children:"Modules"})," ",(0,r.jsx)(t.em,{children:"(under Shared resources)"}),"."]}),"\n",(0,r.jsxs)(t.li,{children:["Select ",(0,r.jsx)(t.strong,{children:"Browse Gallery"})]}),"\n",(0,r.jsxs)(t.li,{children:["Search for: ",(0,r.jsx)(t.strong,{children:"Az.Accounts"})]}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.img,{alt:"Import Az.Accounts",src:n(89241).Z+"",title:"Az.Accounts",width:"1342",height:"348"})}),"\n",(0,r.jsxs)(t.li,{children:["Click '",(0,r.jsx)(t.strong,{children:"Az.Accounts"}),"' and select ",(0,r.jsx)(t.strong,{children:"Select."})]}),"\n",(0,r.jsxs)(t.li,{children:["Set the ",(0,r.jsx)(t.strong,{children:"runtime"})," version to: ",(0,r.jsx)(t.strong,{children:"5.1"})," & select impor",(0,r.jsx)(t.strong,{children:"t"})]}),"\n",(0,r.jsx)(t.li,{children:"Wait for 5 minutes while the module imports."}),"\n"]}),"\n",(0,r.jsx)(t.h5,{id:"update-azstorage-module",children:"Update Az.Storage module"}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.em,{children:"Note: the Az.The accounts module will need to finish its import before the Az.The storage module is updated."})}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:["In the ",(0,r.jsx)(t.a,{href:"https://portal.azure.com/#home",title:"Microsoft Azure Portal",children:(0,r.jsx)(t.strong,{children:"Azure Portal"})}),", navigate to ",(0,r.jsx)(t.a,{href:"https://portal.azure.com/#view/HubsExtension/BrowseResource/resourceType/Microsoft.Automation%2FAutomationAccounts",title:"Azure Automation Accounts",children:(0,r.jsx)(t.strong,{children:"Azure Automation accounts"})}),"."]}),"\n",(0,r.jsxs)(t.li,{children:["Find your Azure Automation account and, click on it, navigate to ",(0,r.jsx)(t.strong,{children:"Modules"})," ",(0,r.jsx)(t.em,{children:"(under Shared resources)"}),"."]}),"\n",(0,r.jsxs)(t.li,{children:["Select ",(0,r.jsx)(t.strong,{children:"Browse Gallery"})]}),"\n",(0,r.jsxs)(t.li,{children:["Search for: ",(0,r.jsx)(t.strong,{children:"Az.Storage"})]}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.img,{alt:"Import  Az.Storage",src:n(95130).Z+"",title:" Az.Storage",width:"1331",height:"323"})}),"\n",(0,r.jsxs)(t.li,{children:["Click '",(0,r.jsx)(t.strong,{children:"Az.Storage"}),"' and select ",(0,r.jsx)(t.strong,{children:"Select."})]}),"\n",(0,r.jsxs)(t.li,{children:["Set the ",(0,r.jsx)(t.strong,{children:"runtime"})," version to: ",(0,r.jsx)(t.strong,{children:"5.1"})," & select impor",(0,r.jsx)(t.strong,{children:"t"})]}),"\n",(0,r.jsx)(t.li,{children:"Wait for 5 minutes while the module imports."}),"\n"]}),"\n",(0,r.jsx)(t.h5,{id:"create-system-managed-identity",children:"Create System Managed Identity"}),"\n",(0,r.jsx)(t.p,{children:"Now that the base Modules have been updated, we need to create a System Managed Identity - this Managed Identity will allow the Azure Automation runbook to authenticate to your Azure resources - and, in our example - make changes, such as Disabling or Enabling the SFTP service. This System Managed Identity will need Storage Account Contributor rights."}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:["In the ",(0,r.jsx)(t.a,{href:"https://portal.azure.com/#home",title:"Microsoft Azure Portal",children:(0,r.jsx)(t.strong,{children:"Azure Portal"})}),", navigate to ",(0,r.jsx)(t.a,{href:"https://portal.azure.com/#view/HubsExtension/BrowseResource/resourceType/Microsoft.Automation%2FAutomationAccounts",title:"Azure Automation Accounts",children:(0,r.jsx)(t.strong,{children:"Azure Automation accounts"})}),"."]}),"\n",(0,r.jsxs)(t.li,{children:["Find your Azure Automation account and click on it; click on ",(0,r.jsx)(t.strong,{children:"Identity"})," ",(0,r.jsx)(t.em,{children:"(under Account Settings)"})]}),"\n",(0,r.jsxs)(t.li,{children:["Select Status to: ",(0,r.jsx)(t.strong,{children:"On"})," and select ",(0,r.jsx)(t.strong,{children:"Save"})]}),"\n",(0,r.jsxs)(t.li,{children:["Click on: ",(0,r.jsx)(t.strong,{children:"Azure role assignments"}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:["Select your ",(0,r.jsx)(t.strong,{children:"Scope"})," ",(0,r.jsx)(t.em,{children:"(in our example, we will go with Storage - to limit what changes this Azure Automation account can make)"})]}),"\n",(0,r.jsxs)(t.li,{children:["Select the ",(0,r.jsx)(t.strong,{children:"Subscription"})," and ",(0,r.jsx)(t.strong,{children:"Storage account"})," Resource on which you want to disable or enable the SFTP service."]}),"\n",(0,r.jsxs)(t.li,{children:["For the role, select ",(0,r.jsx)(t.strong,{children:"Storage Account Contributor"}),"."]}),"\n",(0,r.jsxs)(t.li,{children:["Click ",(0,r.jsx)(t.strong,{children:"Save"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.em,{children:"You should now see the Azure automation account, listed as having Storage account contributor rights - under your Automation account's Access Control (IAM) blade."})}),"\n",(0,r.jsx)(t.h5,{id:"import-runbook---set-azstgftpps1",children:"Import Runbook - Set-AzStgFTP.ps1"}),"\n",(0,r.jsx)(t.p,{children:"Now that the AzAccounts, Az.Storage modules have been updated, and the Azure Automation account has been given permission - to enable and disable the SFTP service on the storage account- it's time to import the Runbook that will make this happen."}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["In the ",(0,r.jsx)(t.a,{href:"https://portal.azure.com/#home",title:"Microsoft Azure Portal",children:(0,r.jsx)(t.strong,{children:"Azure Portal"})}),", navigate to ",(0,r.jsx)(t.a,{href:"https://portal.azure.com/#view/HubsExtension/BrowseResource/resourceType/Microsoft.Automation%2FAutomationAccounts",title:"Azure Automation Accounts",children:(0,r.jsx)(t.strong,{children:"Azure Automation accounts"})}),"."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Find your Azure Automation account and, click on it, navigate to ",(0,r.jsx)(t.strong,{children:"Runbooks"})," ",(0,r.jsx)(t.em,{children:"(under Process Automation)"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Click ",(0,r.jsx)(t.strong,{children:"+ Create a Runbook"})]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Enter your runbook ",(0,r.jsx)(t.strong,{children:"name"})," ",(0,r.jsx)(t.em,{children:"(i.e. Set-AzSFTP)"})]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Select the Runbook type as ",(0,r.jsx)(t.strong,{children:"PowerShell"})]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Select the Runtime version as: ",(0,r.jsx)(t.strong,{children:"5.1"})]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"[Optional] Add a description of what this Runbook does and who to contact."}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Click ",(0,r.jsx)(t.strong,{children:"Create"})]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Open the newly created blank Runbook, and select ",(0,r.jsx)(t.strong,{children:"Edit"})]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Copy"})," the following PowerShell ",(0,r.jsx)(t.a,{href:"https://github.com/lukemurraynz/Azure/blob/main/Azure%20Automation/Set-AzStgSFTP.ps1",title:"Set-AzStgSFTP.ps1",children:(0,r.jsx)(t.strong,{children:"script"})})," into the Edit pane:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:" param\n    (\n        [Parameter(Mandatory=$true,Position = 0, HelpMessage = 'Enter the Azure Resource Group, that contains your Azure Storage account')]\n        [string]\n        $resourceGroupName,\n    \n        [Parameter(Position = 1, Mandatory = $true, HelpMessage = 'Enter the Azure Storage account name')]\n        [string]\n        $storageAccountName,\n    \n        [Parameter(Mandatory = $true, HelpMessage = '$True = Enable SFTP & $False = Disable SFTP')][ValidateSet('False','True')]\n        $enableSftp\n    )\n  \n      <#\n    .SYNOPSIS\n    Disables or enables SFTP support on an Azure Storage Account.\n    .DESCRIPTION\n    Disables or enables SFTP support on an Azure Storage Account. The intention is for this script to be used in Azure Automation, alongside a Schedule to enable or disable SFTP support on an Azure Storage Account.\n\n    .EXAMPLE\n    Set-AzStgSFTP -resourceGroupName sftp_prod -storageAccountName sftpprod0 -EnableSFTP $true\n  #>\n\n  \n  # Ensures you do not inherit an AzContext in your runbook\nDisable-AzContextAutosave -Scope Process\n\nImport-Module -Name Az.Storage\n# Connect to Azure with system-assigned managed identity\n$AzureContext = (Connect-AzAccount -Identity).context\n\nWrite-Output -InputObject $AzureContext\nWrite-Output -InputObject $AzureContext.Subscription\nWrite-Output -InputObject $resourceGroupName \nWrite-Output -InputObject $storageAccountName\nWrite-Output -InputObject $EnableSFTP\n# set and store context\n$AzureContext = Set-AzContext -SubscriptionName $AzureContext.Subscription -DefaultProfile $AzureContext\n\n  \n  $SetSFTP = [System.Convert]::ToBoolean($enableSftp)\n\n    $SFTPStatusBefore = Get-AzStorageAccount -DefaultProfile $AzureContext -ResourceGroupName $resourceGroupName -Name $storageAccountName | Select-Object -ExpandProperty EnableSftp\n\n    $Status = $SFTPStatusBefore -replace 'True', 'Enabled' -replace 'False', 'Disabled'\n\n    Write-Output -InputObject ('SFTP for {0} currently has SFTP set to: {1} before update.' -f $storageAccountName, $Status)\n  \n    Set-AzStorageAccount -DefaultProfile $AzureContext -ResourceGroupName $resourceGroupName -Name $storageAccountName -EnableSftp $SetSFTP \n   \n\n    $SFTPStatusAfter = Get-AzStorageAccount -DefaultProfile $AzureContext -ResourceGroupName $resourceGroupName -Name $storageAccountName | Select-Object -ExpandProperty EnableSftp\n\n    $Status = $SFTPStatusAfter -replace 'True', 'Enabled' -replace 'False', 'Disabled'\n\n    Write-Output -InputObject ('SFTP for {0} currently has SFTP set to: {1} after update.' -f $storageAccountName, $Status)\n"})}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Click ",(0,r.jsx)(t.strong,{children:"Save"})]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Click ",(0,r.jsx)(t.strong,{children:"Publish"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.h5,{id:"run-runbook---set-azstgftp",children:"Run Runbook - Set-AzStgFTP"}),"\n",(0,r.jsx)(t.p,{children:"Now that the Runbook is imported, we need to run it."}),"\n",(0,r.jsx)(t.p,{children:"The Runbook uses the following parameters:"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Parameters"}),(0,r.jsx)(t.th,{children:"Values"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"resourceGroupName"}),(0,r.jsx)(t.td,{children:"Enter the name of the Azure Resource Group, that contains your Azure Storage account."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"storageAccountName"}),(0,r.jsx)(t.td,{children:"Enter the name of your Azure Storage account."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"enableSftp"}),(0,r.jsx)(t.td,{children:"The following boolean values are accepted: False (Disable SFTP) and True (Enable SFTP)."})]})]})]}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:["Next, find your Runbook, and select ",(0,r.jsx)(t.strong,{children:"Start."})]}),"\n",(0,r.jsxs)(t.li,{children:["Enter your parameters, ",(0,r.jsx)(t.strong,{children:"Resource Group"}),", ",(0,r.jsx)(t.strong,{children:"Storage Account"})," and ",(0,r.jsx)(t.strong,{children:"Enable SFTP."})]}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.img,{alt:"Start Azure Automation runbook",src:n(19479).Z+"",title:"Start Azure Automation runbook",width:"414",height:"828"})}),"\n",(0,r.jsxs)(t.li,{children:["Click ",(0,r.jsx)(t.strong,{children:"Ok"})]}),"\n",(0,r.jsx)(t.li,{children:"The Runbook will run, and as you can see - outputs its state Before the Runbook ran and after."}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.img,{alt:"Azure Automation - Run",src:n(61166).Z+"",title:"Azure Automation - Run",width:"1190",height:"564"})}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Once working correctly, you can set up an"})," ",(0,r.jsx)(t.a,{href:"https://learn.microsoft.com/en-us/azure/automation/shared-resources/schedules?WT.mc_id=AZ-MVP-5004796",title:"Azure Automation schedule",children:(0,r.jsx)(t.strong,{children:"Azure Automation schedule"})})," ",(0,r.jsx)(t.strong,{children:"to trigger the runbook to enable and disable the SFTP when needed only!"})]})]})}function d(e={}){const{wrapper:t}={...(0,o.a)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},89241:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/azautomation_gallery_azaccounts-f483a10745c63bcf37e707d22aa94af1.png"},95130:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/azautomation_gallery_azstorage-81cd1f5ee075ba68a2cf723c327aa328.png"},61166:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/azautomation_runbook_run-37c6379063b59d96f685b5a1bbb9feb9.png"},19479:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/azautomation_runbook_runparameters-a4c30774df3fd5c9359ae510b8c63be7.png"},11151:(e,t,n)=>{n.d(t,{Z:()=>i,a:()=>a});var r=n(67294);const o={},s=r.createContext(o);function a(e){const t=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),r.createElement(s.Provider,{value:t},e.children)}}}]);