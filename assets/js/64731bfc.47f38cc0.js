"use strict";(self.webpackChunklukemurraynz=self.webpackChunklukemurraynz||[]).push([[12468],{35019:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>l,frontMatter:()=>i,metadata:()=>o,toc:()=>u});var s=n(85893),r=n(11151);const i={title:"Mastering CIDRs With Azure Bicep",authors:["Luke"],tags:["Azure"],toc:!0,header:{teaser:"/images/posts/BlogHeading_Mastering-CIDRs-with-Azure-Bicep.gif"},date:"2023-11-18 00:00:00 +1300",slug:"azure/Working-with-CIDR-Azure-Bicep"},a=void 0,o={permalink:"/azure/Working-with-CIDR-Azure-Bicep",source:"@site/blog/2023-11-18-Working-with-CIDR-Azure-Bicep.md",title:"Mastering CIDRs With Azure Bicep",description:"Classless Inter-Domain Routing (CIDR) is a method of allocating IP addresses and routing Internet Protocol (IP) packets.",date:"2023-11-18T00:00:00.000Z",formattedDate:"November 18, 2023",tags:[{label:"Azure",permalink:"/tags/azure"}],readingTime:1.635,hasTruncateMarker:!0,authors:[{name:"Luke Murray",title:"Author",url:"https://luke.geek.nz",imageURL:"https://luke.geek.nz/img/logo.png",key:"Luke"}],frontMatter:{title:"Mastering CIDRs With Azure Bicep",authors:["Luke"],tags:["Azure"],toc:!0,header:{teaser:"/images/posts/BlogHeading_Mastering-CIDRs-with-Azure-Bicep.gif"},date:"2023-11-18 00:00:00 +1300",slug:"azure/Working-with-CIDR-Azure-Bicep"},unlisted:!1,prevItem:{title:"Book Review Azure Architecture Explained",permalink:"/azure/misc/Book-Review-Azure-architecture-explained"},nextItem:{title:"IPv6 in Microsoft Azure",permalink:"/azure/IPv6-on-Azure"}},c={authorsImageUrls:[void 0]},u=[];function h(e){const t={a:"a",code:"code",em:"em",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.a,{href:"https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing",children:"Classless Inter-Domain Routing"})," ",(0,s.jsx)(t.em,{children:"(CIDR)"})," is a method of allocating IP addresses and routing Internet Protocol ",(0,s.jsx)(t.em,{children:"(IP)"})," packets."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"Mastering CIDRs With Azure Bicep",src:n(94540).Z+"",width:"1200",height:"628"})}),"\n",(0,s.jsx)(t.p,{children:"This article includes sample Bicep functions for working with CIDR, for Azure Virtual Network and Subnet creation."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bicep",metastring:'title="CiDR.bicep"',children:"    // This function parses the CIDR notation and returns an object with the network address, subnet mask, and other details.\n    output v6addressspace object = parseCidr('2001:db8:1234::/48')\n\n    // This function generates an array of subnets within the specified CIDR block. The subnet size is 64, and the index calculates the subnet.\n    // The 'range(0, 5)' function generates an array of numbers from 0 to 4. The 'for' loop iterates over these numbers.\n    // For each number 'i', the 'cidrSubnet' function calculates a subnet within the '2001:db8:1234::/48' CIDR block.\n    // The subnet size is 64, and 'i' is used as the index. The resulting array contains the calculated subnets.\n    output v6subnets array = [for i in range(0, 5): cidrSubnet('2001:db8:1234::/48', 64, i)]\n\n    // This function generates an array of host addresses within the specified CIDR block. The index is used to calculate the host address.\n    // Similar to the 'v6subnets' array, the 'range(0, 5)' function generates an array of numbers from 0 to 4.\n    // For each number 'i', the 'cidrHost' function calculates a host address within the '2001:db8:1234::/48' CIDR block.\n    // The resulting array contains the calculated host addresses.\n    output v6hosts array = [for i in range(0, 5): cidrHost('2001:db8:1234::/48', i)]\n\n    // This function generates a string within the specified CIDR block. The host index is always 3 (Azure Reserved).\n    // The 'cidrHost' function calculates a host address within the '2001:db8:1234::/48' CIDR block.\n    // The host index is '0 + 3', which is 3. This is because the first three addresses in a subnet are reserved in Azure.\n    output v6hostsazure string = cidrHost('2001:db8:1234::/48', 0 + 3)\n"})}),"\n",(0,s.jsx)(t.p,{children:"References:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://luke.geek.nz/azure/IPv6-on-Azure/",children:"IPv6 in Microsoft Azure"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://learn.microsoft.com/en-us/azure/azure-resource-manager/bicep/bicep-functions-cidr?WT.mc_id=AZ-MVP-5004796",children:"CIDR functions for Bicep"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://github.com/Azure/bicep/issues/3975",children:"CIDR math functions for Azure Networking calculations #3975"})}),"\n"]})]})}function l(e={}){const{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},94540:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/BlogHeading_Mastering-CIDRs-with-Azure-Bicep-66efb8cdacf85d6baa1b1350ac084e9a.gif"},11151:(e,t,n)=>{n.d(t,{Z:()=>o,a:()=>a});var s=n(67294);const r={},i=s.createContext(r);function a(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);