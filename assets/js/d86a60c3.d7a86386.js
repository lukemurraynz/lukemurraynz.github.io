"use strict";(self.webpackChunklukemurraynz=self.webpackChunklukemurraynz||[]).push([[6369],{33307:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>c,frontMatter:()=>s,metadata:()=>r,toc:()=>d});var i=t(85893),o=t(11151);const s={date:"2021-05-09 00:00:00 +1200",title:"Update your Azure WebApp to use your timezone",authors:["Luke"],tags:["Azure"],toc:!0,header:{teaser:"images/iazure-marketplace-banner.png"}},a=void 0,r={permalink:"/2021/05/09/update-your-azure-webapp-to-use-your-timezone",source:"@site/blog/2021-05-09-update-your-azure-webapp-to-use-your-timezone.md",title:"Update your Azure WebApp to use your timezone",description:"By default, the timezone in Microsoft Azure defaults to UTC (Universal Coordinated Time) as a standard, as a universal and consistent timezone, this makes sense - however when troubleshooting issues or attempting to schedule jobs, having the time in UTC may add additional confusion. An Azure WebApp is no exception to UTC as a standard, however, this can be changed.",date:"2021-05-09T00:00:00.000Z",formattedDate:"May 9, 2021",tags:[{label:"Azure",permalink:"/tags/azure"}],readingTime:1.9,hasTruncateMarker:!1,authors:[{name:"Luke Murray",title:"Author",url:"https://luke.geek.nz",imageURL:"../img/logo.png",key:"Luke"}],frontMatter:{date:"2021-05-09 00:00:00 +1200",title:"Update your Azure WebApp to use your timezone",authors:["Luke"],tags:["Azure"],toc:!0,header:{teaser:"images/iazure-marketplace-banner.png"}},unlisted:!1,prevItem:{title:"Update your Azure WebApp to be Always On",permalink:"/2021/05/14/update-your-azure-webapp-to-be-always-on"},nextItem:{title:"Run PowerShell App Deployment Toolkit in Datto RMM",permalink:"/2021/05/09/run-powershell-app-deployment-toolkit-in-datto-rmm"}},l={authorsImageUrls:[void 0]},d=[{value:"Find the Timezone",id:"find-the-timezone",level:2},{value:"Set the Timezone",id:"set-the-timezone",level:2},{value:"Test the Timezone",id:"test-the-timezone",level:2}];function h(e){const n={a:"a",code:"code",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,o.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"By default, the timezone in Microsoft Azure defaults to UTC (Universal Coordinated Time) as a standard, as a universal and consistent timezone, this makes sense - however when troubleshooting issues or attempting to schedule jobs, having the time in UTC may add additional confusion. An Azure WebApp is no exception to UTC as a standard, however, this can be changed."}),"\n",(0,i.jsx)(n.p,{children:"As I am in 'New Zealand', I will be setting my WebApp (which is hosted in Australia East) to NZ time from UTC."}),"\n",(0,i.jsx)(n.p,{children:"I will be using a Windows-based App Service, for this article."}),"\n",(0,i.jsx)(n.h2,{id:"find-the-timezone",children:"Find the Timezone"}),"\n",(0,i.jsx)(n.p,{children:"The Azure App Service uses the same naming standard as Windows."}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"To find the correct name, run the following PowerShell snippet on a Windows PC:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Get-ChildItem -Path 'HKLM:\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\Time Zones' | Select-Object PSChildName\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Windows Terminal - Timezone",src:t(45936).Z+"",width:"1113",height:"622"})}),"\n",(0,i.jsx)(n.p,{children:"This will list all the compatible Timezone names, because I am in New Zealand, I now know that: 'New Zealand Standard Time' is the correct syntax."}),"\n",(0,i.jsx)(n.p,{children:"For future reference, I have exported the list of compatible timezones into a CSV file below:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://luke.geek.nz/uploads/files/Timezones.csv",title:"Export of Timezones",children:"Export of Timezones"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"set-the-timezone",children:"Set the Timezone"}),"\n",(0,i.jsx)(n.p,{children:"Making a change to the Application Settings, which includes setting the Timezone will restart the WebApp app pool, so make sure this is scheduled at a time it is acceptable for an intermittent outage."}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Log in to the ",(0,i.jsx)(n.a,{href:"https://portal.azure.com/#blade/HubsExtension/BrowseResource/resourceType/Microsoft.Web%2Fsites",title:"Azure Portal - App Services",children:"Azure Portal"})]}),"\n",(0,i.jsx)(n.li,{children:"Find your Azure WebApp and open it up"}),"\n",(0,i.jsx)(n.li,{children:"On the left-hand side Blade, underneath Settings, click on Configuration"}),"\n",(0,i.jsx)(n.li,{children:"Click on + New Application Setting"}),"\n",(0,i.jsx)(n.li,{children:"Type in the following Key/Value pair:\nWEBSITE_TIME_ZONE | New Zealand Standard Time"}),"\n",(0,i.jsx)(n.li,{children:"Click Ok"}),"\n",(0,i.jsx)(n.li,{children:"Click Save to confirm and save the change."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Azure WebApp - Timezone",src:t(72858).Z+"",title:"Azure WebApp - Timezone",width:"682",height:"440"})}),"\n",(0,i.jsx)(n.h2,{id:"test-the-timezone",children:"Test the Timezone"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Log in to the Azure Portal"}),"\n",(0,i.jsxs)(n.li,{children:["Find your ",(0,i.jsx)(n.a,{href:"https://portal.azure.com/#blade/HubsExtension/BrowseResource/resourceType/Microsoft.Web%2Fsites",title:"Azure Portal - App Services",children:"Azure WebApp"})," and open it up"]}),"\n",(0,i.jsx)(n.li,{children:"On the left-hand side Blade, underneath Development Tools, click on Console"}),"\n",(0,i.jsx)(n.li,{children:"Type the following into the console:"}),"\n"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Time"}),"\n",(0,i.jsx)(n.li,{children:"Date"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"These commands can help you confirm, that the Date and Time now your Timezone, the Azure WebApp logs etc will now be updated to use your timezone."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Azure App Service - Console",src:t(64121).Z+"",title:"Azure App Service - Console",width:"904",height:"458"})})]})}function c(e={}){const{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},72858:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"assets/images/azurewebapp_appsettingstimezone-ad8b02ae70e28a2b5663302a2b7326aa.png"},64121:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"assets/images/azurewebapp_console_date-397edfd478d05f7dde1424ee1f732dcd.png"},45936:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"assets/images/windowsterminal_timezone-520c558b5e9411d7eea69b50c77bef26.png"},11151:(e,n,t)=>{t.d(n,{Z:()=>r,a:()=>a});var i=t(67294);const o={},s=i.createContext(o);function a(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);