"use strict";(self.webpackChunklukemurraynz=self.webpackChunklukemurraynz||[]).push([[46672],{26576:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>c,toc:()=>u});var a=i(74848),n=i(28453);const r={title:"Container Patching with Azure DevOps, Trivy and Copacetic",metaDescription:"Learn how to automate container patching with Trivy, Copacetic, and Azure DevOps. This guide covers vulnerability scanning, image patching, and pushing to Azure Container Registry.",date:new Date("2024-07-22T09:28:31.063Z"),tags:["Azure"],categories:["Azure"],authors:["Luke"],slug:"azure/automate-container-patching-with-trivy-copacetic-azure-devops",keywords:["azure","trivy","copa","Copacetic","Azure DevOps","ado","containers","containerregistry"],description:"Learn how to automate Docker container patching with Trivy, Copacetic, and Azure DevOps. This guide covers vulnerability scanning, image patching, and pushing to Azure Container Registry."},o=void 0,c={permalink:"/azure/automate-container-patching-with-trivy-copacetic-azure-devops",source:"@site/blog/2024-07-22-trivy-copacetic-ado/index.mdx",title:"Container Patching with Azure DevOps, Trivy and Copacetic",description:"Learn how to automate Docker container patching with Trivy, Copacetic, and Azure DevOps. This guide covers vulnerability scanning, image patching, and pushing to Azure Container Registry.",date:"2024-07-22T09:28:31.063Z",tags:[{label:"Azure",permalink:"/tags/azure"}],readingTime:11.14,hasTruncateMarker:!0,authors:[{name:"Luke Murray",title:"Author",url:"https://luke.geek.nz",imageURL:"https://luke.geek.nz/img/logo.png",key:"Luke"}],frontMatter:{title:"Container Patching with Azure DevOps, Trivy and Copacetic",metaDescription:"Learn how to automate container patching with Trivy, Copacetic, and Azure DevOps. This guide covers vulnerability scanning, image patching, and pushing to Azure Container Registry.",date:"2024-07-22T09:28:31.063Z",tags:["Azure"],categories:["Azure"],authors:["Luke"],slug:"azure/automate-container-patching-with-trivy-copacetic-azure-devops",keywords:["azure","trivy","copa","Copacetic","Azure DevOps","ado","containers","containerregistry"],description:"Learn how to automate Docker container patching with Trivy, Copacetic, and Azure DevOps. This guide covers vulnerability scanning, image patching, and pushing to Azure Container Registry."},unlisted:!1,prevItem:{title:"Azure Hackathon Vending with Terraform",permalink:"/azure/hackathon-vending-project"},nextItem:{title:"Push Docker Images to Azure Container Registry with GitHub Codespaces",permalink:"/azure/push-docker-images-to-acr-using-github-codespaces"}},s={authorsImageUrls:[void 0]},u=[];function p(e){const t={a:"a",em:"em",p:"p",...(0,n.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.a,{href:"https://project-copacetic.github.io/copacetic/website/",children:"Copacetic"})," (or Copa for short) is a CLI tool written in Go and based on buildkit that can be used to directly patch container images given the vulnerability scanning results from popular tools like ",(0,a.jsx)(t.a,{href:"https://github.com/aquasecurity/trivy",children:"Trivy"}),"."]}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.a,{href:"https://aquasecurity.github.io/trivy/",children:"Trivy"})," is a security scanner that can scan container images for vulnerabilities. It is a simple and comprehensive scanner that can be used to scan images for vulnerabilities in the OS packages, application dependencies, and language-specific packages, supplemented by vulnerability databases supplemented with Copa, which can be used to patch the vulnerabilities found by Trivy; this tool can be used to quickly patch container images without going upstream for a full rebuild, which may require more time, and the involvement of multiple teams ",(0,a.jsx)(t.em,{children:"(ie Developers, Q&A, Operations, Support)"})," to patch, test and deploy."]}),"\n",(0,a.jsxs)(t.p,{children:["In this article, we will use ",(0,a.jsx)(t.a,{href:"https://azure.microsoft.com/products/devops?WT.mc_id=AZ-MVP-5004796",children:"Azure DevOps"})," to run a pipeline that will use ",(0,a.jsx)(t.a,{href:"https://aquasecurity.github.io/trivy/",children:"Trivy"})," to scan a container image for vulnerabilities, and then use ",(0,a.jsx)(t.a,{href:"https://project-copacetic.github.io/copacetic/website/",children:"Copa"})," to patch the vulnerabilities found by Trivy, and then push the patched image to an ",(0,a.jsx)(t.a,{href:"https://azure.microsoft.com/products/container-registry?WT.mc_id=AZ-MVP-5004796",children:"Azure Container Registry (ACR)"}),"."]})]})}function h(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(p,{...e})}):p(e)}},28453:(e,t,i)=>{i.d(t,{R:()=>o,x:()=>c});var a=i(96540);const n={},r=a.createContext(n);function o(e){const t=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),a.createElement(r.Provider,{value:t},e.children)}}}]);