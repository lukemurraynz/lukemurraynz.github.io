"use strict";(self.webpackChunklukemurraynz=self.webpackChunklukemurraynz||[]).push([[63442],{6998:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>h,frontMatter:()=>a,metadata:()=>o,toc:()=>d});var o=r(33357),t=r(74848),i=r(28453);const a={title:"Deploying Azure Landing Zones with the Terraform Accelerator",metaDescription:"Learn how to deploy Azure Platform Landing Zones using the Terraform Accelerator and Azure DevOps.",date:new Date("2025-03-01T07:41:23.466Z"),tags:["Azure"],categories:["Azure"],authors:["Luke"],slug:"azure/azure-landing-zone-accelerator",keywords:["Azure","Terraform","Landing Zones","ALZ","Azure DevOps","IaC","Cloud Adoption Framework","Platform Landing Zone","Azure Infrastructure","Hub and Spoke"],description:"Learn how to deploy Azure Platform Landing Zones using the Terraform Accelerator and Azure DevOps."},s=void 0,l={authorsImageUrls:[void 0]},d=[{value:"\ud83c\udfd7\ufe0f Introduction to Azure Landing Zones",id:"\ufe0f-introduction-to-azure-landing-zones",level:2},{value:"\ud83d\ude80 Understanding Azure Landing Zone Accelerators",id:"-understanding-azure-landing-zone-accelerators",level:2},{value:"\ud83d\udd04 Deploying Azure Landing Zones with Terraform",id:"-deploying-azure-landing-zones-with-terraform",level:2},{value:"\ud83d\udee0\ufe0f Bootstrap",id:"\ufe0f-bootstrap",level:3},{value:"\ud83d\udccb Bootstrap Process",id:"-bootstrap-process",level:3},{value:"\u2705 Conclusion",id:"-conclusion",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",img:"img",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["As part of the ",(0,t.jsx)(n.a,{href:"https://www.azurespringclean.com/",children:"Azure Spring Clean 2025"})," event for 2025, we are here to take a look at ",(0,t.jsx)(n.a,{href:"https://learn.microsoft.com/azure/cloud-adoption-framework/ready/landing-zone/?WT.mc_id=AZ-MVP-5004796",children:"Azure Landing Zones"}),", specifically ",(0,t.jsx)(n.a,{href:"https://learn.microsoft.com/azure/cloud-adoption-framework/ready/landing-zone/?WT.mc_id=AZ-MVP-5004796#platform-landing-zones-vs-application-landing-zones",children:"Platform Landing Zones"}),", and the deployment of the Platform Landing Zone, using an ",(0,t.jsx)(n.a,{href:"https://azure.github.io/Azure-Landing-Zones/accelerator/",children:"accelerator"})," and Azure DevOps for the CI/CD."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://www.azurespringclean.com/",children:(0,t.jsx)(n.img,{alt:"Azure Spring Clean 2025",src:r(81778).A+"",width:"2500",height:"1400"})})}),"\n","\n",(0,t.jsx)(n.h2,{id:"\ufe0f-introduction-to-azure-landing-zones",children:"\ud83c\udfd7\ufe0f Introduction to Azure Landing Zones"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://learn.microsoft.com/azure/cloud-adoption-framework/ready/landing-zone/?WT.mc_id=AZ-MVP-5004796",children:"Azure Landing Zones"})," provide a structured approach for designing and implementing cloud environments in Azure. They are essential for organizations looking to migrate, modernize, and innovate their applications at scale, mainly because of the considerations you make in designing and implementing them, considerations such as how your workloads are going to connect to the internet, how each service connects, and importantly, how your organisation will use Cloud - I saw a comment from someone the other day ",(0,t.jsx)(n.em,{children:"(Cloud is not WHERE you work, its HOW you work)"}),"."]}),"\n",(0,t.jsxs)(n.admonition,{type:"info",children:[(0,t.jsx)(n.p,{children:"An Azure landing zone is an environment that follows key design principles across eight design areas. These design principles accommodate all application portfolios and enable application migration, modernization, and innovation at scale. An Azure landing zone uses subscriptions to isolate and scale application and platform resources. Subscriptions for application resources are called application landing zones, and subscriptions for platform resources are called platform landing zones."}),(0,t.jsx)(n.p,{children:"An Azure landing zone architecture is scalable and modular to meet various deployment needs. The repeatable infrastructure allows you to consistently apply configurations and controls to every subscription. Modules make deploying and modifying specific Azure landing zone architecture components easy as your requirements evolve."}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Azure Landing Zones",src:r(26561).A+"",width:"4759",height:"2835"})})]}),"\n",(0,t.jsxs)(n.p,{children:["More information on Azure Landing Zones, can be found in the ",(0,t.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/?WT.mc_id=AZ-MVP-5004796",children:"Microsoft Cloud Adoption Framework for Azure"}),", Landing Zones specifically sits under the Ready phase."]}),"\n",(0,t.jsx)(n.h2,{id:"-understanding-azure-landing-zone-accelerators",children:"\ud83d\ude80 Understanding Azure Landing Zone Accelerators"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://azure.github.io/Azure-Landing-Zones/accelerator/",children:"Azure Landing Zone Accelerators"})," are automation frameworks designed to expedite the deployment of Azure Landing Zone architecture. They come in three flavors:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Bicep Accelerator"}),"\n",(0,t.jsx)(n.li,{children:"Terraform Accelerator"}),"\n",(0,t.jsx)(n.li,{children:"Portal Accelerator"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["These Accelerators, adopt a best-practice approach ",(0,t.jsx)(n.em,{children:"(but also opinionated)"})," to deploy an Azure Landing Zone, from scratch, whether Brownfield ",(0,t.jsx)(n.em,{children:"(already existing)"})," or Greenfield ",(0,t.jsx)(n.em,{children:"(new)"}),", and they have been going through a transformation, from previous accelerators ",(0,t.jsx)(n.em,{children:"(marked as vNext)"})," to adopt a more modular approach with both Bicep and Terraform deployments aligned to ",(0,t.jsx)(n.a,{href:"https://azure.github.io/Azure-Verified-Modules/",children:"Azure Verified Modules"}),". These Accelerators are what Microsoft would run in a VBD workshop ",(0,t.jsx)(n.em,{children:"(I believe they would use the Portal accelerator)"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["I want to make clear, these just like the Cloud Adoption Framework, are best practices but also generalized to support multiple types of organisations, so make sure you adjust them to suit your needs and organisations, or even mark it as a northstar to aim towards, but not necessary what you need in that moment, but also consider strategically where you want to go, ie platform engineering, de-centralized or centralized operations, all these decisions will determine how your Landing Zone structure is based and used ",(0,t.jsxs)(n.em,{children:["(ie if you don't like the word Online, change it to Public, your business needs to understand where to put workloads and how they will work ",(0,t.jsx)(n.em,{children:"(not spending the time fighing over what something is named)"}),")"]}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["With Landing Zones, there's the Platform Landing Zone and the Application Landing Zone, the Platform Landing Zone is the shared services like identity, connectivity, and management, whereas the Application Landing Zone is specific environments for particular applications or workloads ",(0,t.jsx)(n.em,{children:"(consider Arc, maybe APIM, anything generalized - this is really where your business logic and IP sits)"}),"."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Azure Landing Zones - Customer Journey",src:r(60033).A+"",width:"4000",height:"2250"})}),"\n",(0,t.jsx)(n.p,{children:"For this article, we will be discussing the:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Bootstrap of our environment (into Azure DevOps)"}),"\n",(0,t.jsx)(n.li,{children:"Deployment of Azure platform Landing Zone components using Terraform"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Azure Landing Zones - Customer Journey",src:r(35961).A+"",width:"4000",height:"2250"})}),"\n",(0,t.jsx)(n.h2,{id:"-deploying-azure-landing-zones-with-terraform",children:"\ud83d\udd04 Deploying Azure Landing Zones with Terraform"}),"\n",(0,t.jsx)(n.h3,{id:"\ufe0f-bootstrap",children:"\ud83d\udee0\ufe0f Bootstrap"}),"\n",(0,t.jsx)(n.p,{children:"It begins with a Bootstrap process, which is the initial setup of the Azure DevOps environment, including creating a new project, repository, and service connection. This process is automated using a mix of PowerShell and Terraform."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Azure Landing Zones - Customer Journey",src:r(75429).A+"",width:"4000",height:"2250"})}),"\n",(0,t.jsxs)(n.p,{children:["To bootstrap, we will make use of the:",(0,t.jsx)(n.a,{href:"https://github.com/Azure/ALZ-PowerShell-Module",children:"ALZ-PowerShell-Module"}),", this script will help bring together the different dependencies and Terraform bootstrapping to setup our Azure DevOps environment, Terraform state storage account and bring in the necessary Platform Landing Zone library files for our deployment."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Azure Landing Zones - Customer Journey",src:r(43100).A+"",width:"4000",height:"2250"})}),"\n",(0,t.jsxs)(n.p,{children:["The bootstrap for Azure DevOps includes ",(0,t.jsx)(n.a,{href:"https://learn.microsoft.com/azure/devops/pipelines/agents/agents?view=azure-devops&tabs=yaml%2Cbrowser&WT.mc_id=AZ-MVP-5004796#self-hosted-agents",children:"self-hosted agents"})," ",(0,t.jsxs)(n.em,{children:["(",(0,t.jsx)(n.a,{href:"https://learn.microsoft.com/azure/container-apps/overview?WT.mc_id=AZ-MVP-5004796",children:"Container Apps"})," or ",(0,t.jsx)(n.a,{href:"https://learn.microsoft.com/azure/container-instances/container-instances-overview?WT.mc_id=AZ-MVP-5004796",children:"Container Instances"}),")"]})," as optional, and preconfigured pipelines, including validation and branch policies with approval steps, so a foundational platform to work towards."]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Component"}),(0,t.jsx)(n.th,{children:"Description"}),(0,t.jsx)(n.th,{children:"Notes"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Azure Resources"})}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Resource Group for State"}),(0,t.jsx)(n.td,{children:"Container for Terraform state storage resources"}),(0,t.jsx)(n.td,{children:"Terraform only"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Storage Account and Container for State"}),(0,t.jsx)(n.td,{children:"Stores Terraform state files securely"}),(0,t.jsx)(n.td,{children:"Terraform only"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Resource Group for Identity"}),(0,t.jsx)(n.td,{children:"Container for managed identity resources"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"User Assigned Managed Identities (UAMI) with Federated Credentials"}),(0,t.jsx)(n.td,{children:"Identities for secure pipeline execution"}),(0,t.jsx)(n.td,{children:"For Plan and Apply"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Permissions for the UAMI"}),(0,t.jsx)(n.td,{children:"RBAC assignments needed for deployment"}),(0,t.jsx)(n.td,{children:"On state storage container, subscriptions, and management groups"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"[Optional] Container Registry for Azure DevOps Agent Image"}),(0,t.jsx)(n.td,{children:"Stores custom agent container images"}),(0,t.jsx)(n.td,{children:"For self-hosted agents"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"[Optional] Container Instances hosting Azure DevOps Agents"}),(0,t.jsx)(n.td,{children:"Runs pipeline jobs in your Azure environment"}),(0,t.jsx)(n.td,{children:"For self-hosted agents"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"[Optional] Virtual network, subnets, private DNS zone, and private endpoint"}),(0,t.jsx)(n.td,{children:"Network resources for private connectivity"}),(0,t.jsx)(n.td,{children:"For enhanced security"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Azure DevOps Resources"})}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Project (can be supplied or created)"}),(0,t.jsx)(n.td,{children:"Azure DevOps project for Landing Zone resources"}),(0,t.jsx)(n.td,{children:"Can use existing or create new"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Repository for the Module"}),(0,t.jsx)(n.td,{children:"Stores Landing Zone Terraform code"}),(0,t.jsx)(n.td,{children:"Main implementation repository"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Repository for the Pipeline Templates"}),(0,t.jsx)(n.td,{children:"Stores CI/CD pipeline definitions"}),(0,t.jsx)(n.td,{children:"Enables template reuse"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Starter Terraform module with tfvars"}),(0,t.jsx)(n.td,{children:"Pre-configured Terraform configuration"}),(0,t.jsx)(n.td,{children:"Customizable baseline"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Branch policy"}),(0,t.jsx)(n.td,{children:"Ensures code quality and reviews"}),(0,t.jsx)(n.td,{children:"Prevents direct main branch changes"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Pipeline for Continuous Integration"}),(0,t.jsx)(n.td,{children:"Validates and plans Terraform changes"}),(0,t.jsx)(n.td,{children:"Non-destructive verification"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Pipeline for Continuous Delivery"}),(0,t.jsx)(n.td,{children:"Implements Terraform changes in Azure"}),(0,t.jsx)(n.td,{children:"Creates/updates resources"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Environment for Plan"}),(0,t.jsx)(n.td,{children:"Isolated context for planning stage"}),(0,t.jsx)(n.td,{children:"Separates planning permissions"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Environment for Apply"}),(0,t.jsx)(n.td,{children:"Isolated context for apply stage"}),(0,t.jsx)(n.td,{children:"Separates deployment permissions"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Variable Group for Backend"}),(0,t.jsx)(n.td,{children:"Stores Terraform backend configuration"}),(0,t.jsx)(n.td,{children:"Used across pipelines"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Service Connections with Workload identity federation for Plan and Apply"}),(0,t.jsx)(n.td,{children:"Securely connects Azure DevOps to Azure"}),(0,t.jsx)(n.td,{children:"Uses OIDC for enhanced security"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Service Connection Approvals, Template Validation, and Concurrency Control"}),(0,t.jsx)(n.td,{children:"Provides governance for deployments"}),(0,t.jsx)(n.td,{children:"Ensures controlled changes"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Group and Members for Apply Approval"}),(0,t.jsx)(n.td,{children:"Team responsible for approving changes"}),(0,t.jsx)(n.td,{children:"Change control mechanism"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"[Optional] Agent Pool"}),(0,t.jsx)(n.td,{children:"Collection of build/release agents"}),(0,t.jsx)(n.td,{children:"For self-hosted agents"})]})]})]}),"\n",(0,t.jsxs)(n.admonition,{type:"tip",children:[(0,t.jsx)(n.p,{children:"Make sure you check out the following resources for more information on the Azure Landing Zone Accelerator and Azure Landing Zone Library, these are your sources of truth:"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://aka.ms/alz/acc",children:"Azure Landing Zones Documentation"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://azure.github.io/Azure-Landing-Zones-Library/",children:"Azure Landing Zones Library"})}),"\n"]}),(0,t.jsxs)(n.p,{children:["If you have issues, you can also raise them on the ",(0,t.jsx)(n.a,{href:"https://github.com/Azure/ALZ-PowerShell-Module/issues",children:"ALZ-PowerShell-Module"})," GitHub repository."]})]}),"\n",(0,t.jsx)(n.p,{children:"Before we get started, we need some pre-requisites"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["3 Azure subscriptions ",(0,t.jsx)(n.em,{children:"(1 for Connectivity, 1 for Identity, and 1 for Management) - (for this demo, I will be using a single subscription)"})," we will also need the bootstrap and Terraform deployment IDs.\nPermissions Required for Management Group and Subscriptions:"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Owner on your chosen parent management group:"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"The owner account will grant permissions to the identities running the management group deployment. Owner on each of your 3 Azure landing zone subscriptions."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["A PAT token for the creation of a Service Connection in Azure DevOps ",(0,t.jsx)(n.em,{children:"(Agent Pools (Read & manage)"}),", Build ",(0,t.jsx)(n.em,{children:"(Read & execute)"}),", Code ",(0,t.jsx)(n.em,{children:"(Full)"}),", Environment ",(0,t.jsx)(n.em,{children:"(Read & manage)"}),", Graph ",(0,t.jsx)(n.em,{children:"(Read & manage)"}),", Pipeline Resources ",(0,t.jsx)(n.em,{children:"(Use & manage)"}),", Project and Team ",(0,t.jsx)(n.em,{children:"(Read, write & manage)"}),", Service Connections ",(0,t.jsx)(n.em,{children:"(Read, query & manage)"}),", and Variable Groups ",(0,t.jsx)(n.em,{children:"(Read, create & manage)"}),".)_  This token is only needed for the duration required to bootstrap the environment and can be revoked after."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Once we have those pre-requisites, we can proceed with the bootstrapping process."}),"\n",(0,t.jsxs)(n.admonition,{type:"tip",children:[(0,t.jsxs)(n.p,{children:["I recommend starting with the ",(0,t.jsx)(n.a,{href:"https://azure.github.io/Azure-Landing-Zones/examples/tf/accelerator/config/checklist.xlsx",children:"Azure Landing Zone Accelerator Checklist"}),", this will help you understand the requirements and dependencies for the deployment, and ensure you have everything you need before you start the process."]}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Azure Landing Zones - Customer Journey",src:r(65275).A+"",width:"1898",height:"925"})})]}),"\n",(0,t.jsxs)(n.p,{children:["We will bootstrap the environment, to create our Azure DevOps environment, and then deploy the base components for a ",(0,t.jsx)(n.a,{href:"https://learn.microsoft.com/azure/cloud-adoption-framework/ready/landing-zone/?WT.mc_id=AZ-MVP-5004796#platform-landing-zones-vs-application-landing-zones",children:"Platform Landing Zone"})," and the associated ",(0,t.jsx)(n.a,{href:"https://learn.microsoft.com/azure/cloud-adoption-framework/ready/landing-zone/tailoring-alz?WT.mc_id=AZ-MVP-5004796#what-is-a-landing-zone-archetype-in-azure-landing-zones",children:"archetypes"})," for the fictional company of Contoso. To do this, we will be using the Terraform - Azure Verified Modules for ",(0,t.jsx)(n.a,{href:"https://azure.github.io/Azure-Landing-Zones/accelerator/startermodules/terraform-platform-landing-zone/",children:"Platform Landing Zone (ALZ) starter modules"})," and configuration in the Australia East Azure region."]}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["Before you start, make sure you request a parallelism grant for Azure DevOps, by default, Azure DevOps has a limit of 1 concurrent job, to request a free parallelism grant, please fill out the following form ",(0,t.jsx)(n.a,{href:"https://aka.ms/azpipelines-parallelism-request",children:"https://aka.ms/azpipelines-parallelism-request"})]})}),"\n",(0,t.jsx)(n.h3,{id:"-bootstrap-process",children:"\ud83d\udccb Bootstrap Process"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"First login to Azure 'az login' and then run the following commands:"}),"\n",(0,t.jsx)(n.li,{children:"Next we need the ALZ PowerShell Module, so we will install that:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-powershell",children:'# Check if the ALZ module is installed\n$module = Get-InstalledModule -Name ALZ -ErrorAction SilentlyContinue\n\nif ($null -eq $module) {\n    # If the module is not installed, install it\n    Install-Module -Name ALZ -Force\n    Write-Output "ALZ module installed successfully."\n} else {\n    # If the module is installed, update it\n    Update-Module -Name ALZ\n    Write-Output "ALZ module updated successfully."\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Azure Landing Zones - Customer Journey",src:r(46211).A+"",width:"930",height:"429"})}),"\n",(0,t.jsxs)(n.admonition,{type:"info",children:[(0,t.jsx)(n.p,{children:"Three sets of configuration can be supplied to the accelerator to pre-configure it."}),(0,t.jsx)(n.p,{children:"The available configuration inputs are:"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://azure.github.io/Azure-Landing-Zones/accelerator/userguide/2_start/#bootstrap-configuration-file",children:"Bootstrap Configuration File"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://azure.github.io/Azure-Landing-Zones/accelerator/userguide/2_start/#platform-landing-zone-configuration-file",children:"Platform Landing Zone Configuration File"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://azure.github.io/Azure-Landing-Zones/accelerator/userguide/2_start/#platform-landing-zone-library-lib-folder",children:"Platform Landing Zone Library (lib) Folder"})}),"\n"]})]}),"\n",(0,t.jsxs)(n.p,{children:["We will start with th bootstrap configuration file, this will be used to create the Azure DevOps environment, and the Terraform state storage account and container, then we adjust the Platform Landing Zone configuration file to control what Azure resources we will need to deploy ",(0,t.jsx)(n.em,{children:"(ie Hub and Spoke, or Virtual WAN, Bastion etc)"})," and the Platform Landing Zone library folder, which will contain the Archetype definitions and policy assignments for greater flexibility."]}),"\n",(0,t.jsxs)(n.ol,{start:"3",children:["\n",(0,t.jsx)(n.li,{children:"Let's create the local configuration files for the bootstrap and Platform Landing Zone deployment:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-powershell",children:'New-Item -ItemType "file" c:\\Code\\accelerator\\config\\inputs.yaml -Force\nNew-Item -ItemType "file" c:\\Code\\accelerator\\config\\platform-landing-zone.tfvars -Force  # Exclude this line if using FSI or SLZ starter modules\nNew-Item -ItemType "directory" c:\\Code\\accelerator\\config\\lib \nNew-Item -ItemType "directory" c:\\Code\\accelerator\\output\n'})}),"\n",(0,t.jsxs)(n.ol,{start:"4",children:["\n",(0,t.jsxs)(n.li,{children:["Now we need to open the inputs.yaml file and add the following configuration found here: ",(0,t.jsx)(n.a,{href:"https://raw.githubusercontent.com/Azure/alz-terraform-accelerator/refs/heads/main/templates/platform_landing_zone/examples/bootstrap/inputs-azure-devops.yaml",children:"inputs-azure-devops.yaml"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"It should look something like below:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'# For detailed instructions on using this file, visit:\n# https://aka.ms/alz/accelerator/docs\n\n# Basic Inputs\niac_type: "terraform"\nbootstrap_module_name: "alz_azuredevops"\nstarter_module_name: "platform_landing_zone"\n\n# Shared Interface Inputs\nbootstrap_location: "australiaeast"\nstarter_locations: ["australiaeast"]\nroot_parent_management_group_id: "Contoso"\nsubscription_id_management: "00000000-0000-4000-8000-000000000001"\nsubscription_id_identity: "00000000-0000-4000-8000-000000000002"\nsubscription_id_connectivity: "00000000-0000-4000-8000-000000000003"\n\n# Bootstrap Inputs\nazure_devops_personal_access_token: "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"\n# azure_devops_agents_personal_access_token: "<token-2>"\nazure_devops_organization_name: "Contoso"\nuse_separate_repository_for_templates: true\nbootstrap_subscription_id: "00000000-0000-4000-8000-000000000004"\nservice_name: "plz"\nenvironment_name: "mgmt"\npostfix_number: 1\nazure_devops_use_organisation_legacy_url: false\nazure_devops_create_project: true\nazure_devops_project_name: "ADO-PALZ"\nuse_self_hosted_agents: false\nuse_private_networking: true\nallow_storage_access_from_my_ip: false\napply_approvers: ["luke@contoso.com"]\ncreate_branch_policies: true\n\n# Advanced Inputs\nbootstrap_module_version: "latest"\nstarter_module_version: "latest"\noutput_folder_path: "c:/Code/accelerator/output"\n'})}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["For further customisation, make sure you take a look at the ",(0,t.jsx)(n.a,{href:"https://github.com/Azure/accelerator-bootstrap-modules/blob/main/alz/local/variables.tf",children:"variables.tf"})," file directly in the accelerator bootstrap modules GitHub, it can show further options that you can add to the bootstrap, such as the storage account replication type for your Terraform state files, or additional custom roles and resource naming."]})}),"\n",(0,t.jsxs)(n.p,{children:["Now that we have configured the variables required for our bootstrap, let us define the Terraform variables for the Platform Landing Zone deployment, this will be used to determine the Azure resources we will deploy, such as the Hub and Spoke, Virtual WAN, Bastion, etc, and this is the platform-landing-zone.tfvars file. I recommend copying one from one of the ",(0,t.jsx)(n.a,{href:"https://azure.github.io/Azure-Landing-Zones/accelerator/startermodules/terraform-platform-landing-zone/scenarios/",children:"already pre-existing Scenarios"})," and modifying to suit your needs. For my purposes, I will be going with a Single region hub and spoke VNET with ",(0,t.jsx)(n.a,{href:"https://azure.github.io/Azure-Landing-Zones/accelerator/startermodules/terraform-platform-landing-zone/scenarios/single-region-hub-and-spoke-vnet-with-azure-firewall/",children:"Azure Firewall"}),"."]}),"\n",(0,t.jsxs)(n.ol,{start:"5",children:["\n",(0,t.jsxs)(n.li,{children:["Open the platform-landing-zone.tfvars file and add the configuration and modify for your needs, for my purposes, I will be using the following configuration: ",(0,t.jsx)(n.a,{href:"https://raw.githubusercontent.com/Azure/alz-terraform-accelerator/refs/heads/main/templates/platform_landing_zone/examples/full-single-region/hub-and-spoke-vnet.tfvars",children:"platform_landing_zone/examples/full-single-region/hub-and-spoke-vnet.tfvars"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.admonition,{type:"info",children:[(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"platform-landing-zone.tfvars"})," file is a crucial configuration for deploying an Azure Landing Zone using the Azure Landing Zones Accelerator with Terraform. This file defines the variables that customize your Azure foundation by your requirements, and this file will be your main configuration file for the deployment of the Platform Landing Zone."]}),(0,t.jsx)(n.p,{children:"Key Components of the File"}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Built-in Replacements"})}),(0,t.jsxs)(n.p,{children:["The file uses a templating system with ",(0,t.jsx)(n.code,{children:"$${variable_name}"})," syntax to reference predefined values, such as:"]}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Azure locations (e.g., ",(0,t.jsx)(n.code,{children:"$${starter_location_01}"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:["Subscription IDs (e.g., ",(0,t.jsx)(n.code,{children:"$${subscription_id_management}"}),")"]}),"\n",(0,t.jsx)(n.li,{children:"Management group IDs"}),"\n"]}),(0,t.jsx)(n.p,{children:"These built-in replacements help maintain consistency throughout the configuration."}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Custom Replacements"})}),(0,t.jsx)(n.p,{children:"The configuration defines custom naming patterns and references for:"}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Resource Names"})," - Standardizing naming conventions for:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Resource groups"}),"\n",(0,t.jsx)(n.li,{children:"Virtual networks"}),"\n",(0,t.jsx)(n.li,{children:"Azure Firewall"}),"\n",(0,t.jsx)(n.li,{children:"Log Analytics workspace"}),"\n",(0,t.jsx)(n.li,{children:"And many other resources"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"IP Address Spaces"})," - Defining network address spaces for the hub network:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Virtual network address space"}),"\n",(0,t.jsx)(n.li,{children:"Subnet address prefixes"}),"\n",(0,t.jsx)(n.li,{children:"Firewall subnet"}),"\n"]}),"\n"]}),"\n"]}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Management Resources"})}),(0,t.jsx)(n.p,{children:"This section configures core management resources including:"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Log Analytics workspace"}),"\n",(0,t.jsx)(n.li,{children:"Automation account"}),"\n",(0,t.jsx)(n.li,{children:"Azure Monitor Agent settings"}),"\n",(0,t.jsx)(n.li,{children:"Data Collection Rules for monitoring"}),"\n"]}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Management Groups and Policy"})}),(0,t.jsx)(n.p,{children:"The file configures:"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Management group hierarchy structure"}),"\n",(0,t.jsx)(n.li,{children:"Policy assignments and overrides, for example Defender for Cloud Settings"}),"\n",(0,t.jsx)(n.li,{children:"Subscription placement within management groups"}),"\n"]}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Connectivity Resources"})}),(0,t.jsx)(n.p,{children:"The hub-and-spoke network topology is defined with:"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"DDoS protection plan"}),"\n",(0,t.jsx)(n.li,{children:"Virtual network configuration"}),"\n",(0,t.jsx)(n.li,{children:"Azure Firewall and routing tables"}),"\n",(0,t.jsx)(n.li,{children:"Virtual network gateways (ExpressRoute and VPN)"}),"\n",(0,t.jsx)(n.li,{children:"Private DNS zones and resolver"}),"\n",(0,t.jsx)(n.li,{children:"Azure Bastion"}),"\n"]}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"How to Modify This File"})}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Customize Basic Information"}),"\n"]}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Email Contacts"}),": Update security contact email addresses"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Tags"}),": Modify organization-specific tags"]}),"\n"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-hcl",children:'tags = {\n  deployed_by = "terraform"\n  technical_contact = "your-email@company.com"\n  environment = "production"\n  business_unit = "finance"\n}\n'})}),(0,t.jsxs)(n.ol,{start:"2",children:["\n",(0,t.jsx)(n.li,{children:"Adjust Network Addressing"}),"\n"]}),(0,t.jsx)(n.p,{children:"Modify the IP address ranges to match your organization's network plan:"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-hcl",children:'primary_hub_address_space = "10.100.0.0/16"\nprimary_hub_virtual_network_address_space = "10.100.0.0/22"\n'})}),(0,t.jsxs)(n.ol,{start:"3",children:["\n",(0,t.jsx)(n.li,{children:"Change Resource Naming"}),"\n"]}),(0,t.jsx)(n.p,{children:"Update naming conventions to align with your organization's standards:"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-hcl",children:'log_analytics_workspace_name = "law-prod-eastus"\nautomation_account_name = "aa-prod-eastus"\n'})}),(0,t.jsxs)(n.ol,{start:"4",children:["\n",(0,t.jsx)(n.li,{children:"Modify Policy Settings"}),"\n"]}),(0,t.jsx)(n.p,{children:"Adjust policy enforcement levels for your compliance requirements:"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-hcl",children:'Enable-DDoS-VNET = {\n  enforcement_mode = "Default" # or "DoNotEnforce"\n}\n'})}),(0,t.jsxs)(n.ol,{start:"5",children:["\n",(0,t.jsx)(n.li,{children:"Add or Remove Resources"}),"\n"]}),(0,t.jsx)(n.p,{children:"You can customize which components are deployed by adding or removing sections:"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Remove the VPN gateway if not needed"}),"\n",(0,t.jsx)(n.li,{children:"Add additional hub networks for multi-region deployments"}),"\n",(0,t.jsx)(n.li,{children:"Modify Azure Firewall SKU based on requirements"}),"\n"]}),(0,t.jsxs)(n.p,{children:["Also make sure you run a ",(0,t.jsx)(n.code,{children:"terraform validate"})," and ",(0,t.jsx)(n.code,{children:"terraform fmt"})," to validate the configuration and the Terraform formatting is correct on the file."]}),(0,t.jsx)(n.p,{children:(0,t.jsxs)(n.strong,{children:["Make sure to check out the ",(0,t.jsx)(n.a,{href:"https://azure.github.io/Azure-Landing-Zones/accelerator/startermodules/terraform-platform-landing-zone/options/",children:"Options"})," page for the Terraform Platform Landing Zone, as it will give you more information on the common scenarios, such as turning off DDOS protection plans, adding additional IP ranges etc."]})})]}),"\n",(0,t.jsx)(n.p,{children:"And don't worry if you don't get this right the first time, you can always adjust and redeploy, this is the beauty of Infrastructure as Code. I work in an iterative approach, so it's always good to get something working, then adjust and improve, rather than trying to get it perfect the first time, and the Terraform plan and validate pipelines help with this approach."}),"\n",(0,t.jsxs)(n.ol,{start:"6",children:["\n",(0,t.jsxs)(n.li,{children:["We are close, the last thing we will add is a custom library folder. This isn't required for base Platform Landing Zones, however, I recommend adding it in, for additional flexibility, especially as you start to deploy more complex environments and archetypes within your organization. You can refer to the ",(0,t.jsx)(n.a,{href:"https://azure.github.io/Azure-Landing-Zones-Library/",children:"Azure Landing Zones Library"})," for more information on how to create your own custom library and additional information. Still, for now we are going to copy the alz folder from the ",(0,t.jsx)(n.a,{href:"https://github.com/Azure/Azure-Landing-Zones-Library/tree/main/platform",children:"Azure Landing Zones Library"})," and place it in the lib folder in our config directory."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["By default, the architecture that will be deployed will be ",(0,t.jsx)(n.em,{children:"(you can also refer to the README file in the lib folder for more information)"}),":"]}),"\n",(0,t.jsx)(n.mermaid,{value:'flowchart TD\n  alz["Azure Landing Zones\n(root)"]\n  alz --\x3e decommissioned\n  decommissioned["Decommissioned\n(decommissioned)"]\n  alz --\x3e landingzones\n  landingzones["Landing zones\n(landing_zones)"]\n  landingzones --\x3e corp\n  corp["Corp\n(corp)"]\n  landingzones --\x3e online\n  online["Online\n(online)"]\n  alz --\x3e platform\n  platform["Platform\n(platform)"]\n  platform --\x3e connectivity\n  connectivity["Connectivity\n(connectivity)"]\n  platform --\x3e identity\n  identity["Identity\n(identity)"]\n  platform --\x3e management\n  management["Management\n(management)"]\n  alz --\x3e sandbox\n  sandbox["Sandbox\n(sandbox)"]'}),"\n",(0,t.jsxs)(n.p,{children:["You can adujust the Management Group names and parent/child relationships by editing the ",(0,t.jsx)(n.code,{children:"alz.alz_architecture_definition.json"})," file in the lib\\architecture_definitions folder, and th architectype definitions allow you to configure the type of policy definitions, role assignments that are deployed to specific Management Groups with a certain archetype, for example you could have workload Landing Zones of 'Workload' archetype with specific policy definitions and role assignments, that may be different from the root or Platform groups, and Management Groups could share this same archetype, so you can have a consistent policy and role assignment across your environment."]}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["Not required, but make the ",(0,t.jsx)(n.a,{href:"https://github.com/Azure/alzlib",children:"alzlibtool"})," tool, this is a tool that can help you create and manage your own custom library for your Azure Landing Zones, and can be used to check policy and Azure Landing Zone architecture definition structure, and document your own custom library."]})}),"\n",(0,t.jsxs)(n.ol,{start:"7",children:["\n",(0,t.jsx)(n.li,{children:"Now that the configuration files for the bootstrap, Terraform are in place, and the architectures, it's time to start the bootstrap. Run the following command to start the bootstrap process:"}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["If you need to make any last-minute changes, you can manually change the Terraform code after the Terraform plan and before the application. Check your local output folder. It is not something I would rely on - ideally the platform tfvars and yaml input file should be updated, but in a pinch, you can make manual changes. I had to do this recently, when deploying a Landing Zone into New Zealand North. I had to manually update the location of the Log Analytics workspace, as it has not been supported in that ",(0,t.jsx)(n.a,{href:"https://learn.microsoft.com/azure/reliability/availability-service-by-category?WT.mc_id=AZ-MVP-5004796",children:"region yet"}),". However, for Platform resources, you can also make this change once the code is in the repository."]})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-powershell",children:'Deploy-Accelerator `\n  -inputs "C:\\Code\\accelerator\\config\\inputs.yaml", "C:\\Code\\accelerator\\config\\platform-landing-zone.tfvars" `\n  -starterAdditionalFiles "C:\\Code\\accelerator\\config\\lib" `\n  -output "C:\\Code\\accelerator\\output"\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Azure Landing Zones - Customer Journey",src:r(31510).A+"",width:"930",height:"429"})}),"\n",(0,t.jsx)(n.p,{children:"Once completed, in Azure, you should have two resource groups - one for your Managed identities that will be linked to 2 Service Connections in Azure DevOps for Plan and Apply, and one for your Terraform state file."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Azure Landing Zones - Customer Journey",src:r(75650).A+"",width:"1309",height:"322"})}),"\n",(0,t.jsx)(n.p,{children:"In Azure DevOps, you should have a new project, repository, and service connection, with the pipelines and environments set up for the Plan and Apply stages."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"AzureDevOps Azure Landin Zone Code",src:r(44800).A+"",width:"1772",height:"1038"})}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsx)(n.p,{children:"The plz acronym I am using, is meant to indicate 'Platform Landing Zone'."})}),"\n",(0,t.jsxs)(n.p,{children:["And Pipelines preconfigured - Continuous Integration ",(0,t.jsx)(n.em,{children:"(ie Terraform Validate and Plan)"})," and Continuous Delivery ",(0,t.jsx)(n.em,{children:"(ie Terraform Apply)"})," with the approvers and branch policies in place."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Azure DevOps Azure Landing Zone Pipelines",src:r(67604).A+"",width:"1059",height:"375"})}),"\n",(0,t.jsxs)(n.admonition,{type:"tip",children:[(0,t.jsx)(n.p,{children:"I recommend renaming the pipelines, in Azure DevOps, so they are more descriptive, ie, 'Terraform Plan' and 'Terraform Apply' - pretty simplified, but can make more sense to people consuming the pipelines."}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Azure DevOps Azure Landing Zone Pipelines",src:r(27972).A+"",width:"1642",height:"608"})})]}),"\n",(0,t.jsx)(n.p,{children:"Now, let's run the Continuous Integration pipeline to see what the Terraform plan looks like."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Azure DevOps Azure Landing Zone Pipelines",src:r(40251).A+"",width:"1642",height:"903"})}),"\n",(0,t.jsxs)(n.p,{children:["As we can see, it validates and will deploy our full hub and spoke ",(0,t.jsx)(n.em,{children:"(both expressroute and VPN gateways)"})," so that would need tweaking for my environment, but this is the beauty of Infrastructure as Code, you can see what is going to be deployed before it is deployed, and make the necessary adjustments, by opening up a new branch and adjusting the the platform-landing-zone.auto.tfvars, and run validate and plan on that branch until correct."]}),"\n",(0,t.jsx)(n.p,{children:"So, now let's deploy. Once you are happy with the plan, you can run the Continuous Delivery pipeline to deploy the Platform Landing Zone."}),"\n",(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsx)(n.p,{children:"Be aware that the initial deployment could take a while, especially if deploying all the default policies, and DNS zones. As such, the entire deployment is not shown in the GIF below, but you can see the new Platform Management Groups and core hub resources that have started to be created."})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Azure DevOps Azure Landing Zone Pipelines",src:r(17004).A+"",width:"1642",height:"903"})}),"\n",(0,t.jsx)(n.p,{children:"And once completed, you should have a full Platform Landing Zone deployed, with the Management Groups, Policies, and core resources in place."}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsx)(n.p,{children:"You can rerun the Continuous Delivery pipeline, and select Destroy if you want to remove all the platform resources and start your deployment from scratch, in a production scenario, I recommend removing that, but not the additional approval step so that you can have a manual check before the Apply stage. The approval is done in Azure DevOps at the Service Connection, under Approval and Checks."})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.img,{alt:"Azure DevOps Azure Landing Zone Pipelines",src:r(61668).A+"",width:"1200",height:"417"}),"\n",(0,t.jsx)(n.img,{alt:"Azure DevOps Azure Landing Zone Pipelines",src:r(61601).A+"",width:"1780",height:"936"})]}),"\n",(0,t.jsx)(n.h2,{id:"-conclusion",children:"\u2705 Conclusion"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.a,{href:"https://techcommunity.microsoft.com/blog/azuretoolsblog/azure-landing-zones-accelerators-for-bicep-and-terraform-announcing-general-avai/4029866?WT.mc_id=AZ-MVP-5004796",children:"Azure Landing Zone Terraform Accelerator"})," offers a robust foundation for organizations looking to implement a well-architected Azure environment."]}),"\n",(0,t.jsx)(n.p,{children:"Through this article, we've explored how to:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Bootstrap your environment with automation using the ",(0,t.jsx)(n.a,{href:"https://github.com/Azure/ALZ-PowerShell-Module",children:"ALZ PowerShell module"})]}),"\n",(0,t.jsxs)(n.li,{children:["Configure and deploy ",(0,t.jsx)(n.a,{href:"https://learn.microsoft.com/azure/cloud-adoption-framework/ready/landing-zone/?WT.mc_id=AZ-MVP-5004796#platform-landing-zones-vs-application-landing-zones",children:"Platform Landing Zone components"})," using Infrastructure as Code ",(0,t.jsxs)(n.em,{children:["(",(0,t.jsx)(n.a,{href:"https://www.terraform.io/",children:"Terraform"}),")"]})]}),"\n",(0,t.jsxs)(n.li,{children:["Establish governance through management groups, policies, and controlled ",(0,t.jsx)(n.a,{href:"https://learn.microsoft.com/azure/devops/pipelines/get-started/what-is-azure-pipelines?view=azure-devops&WT.mc_id=AZ-MVP-5004796",children:"Azure DevOps pipelines"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Next Steps After Deployment"}),"\n",(0,t.jsx)(n.p,{children:"Once your Platform Landing Zone is established, consider these follow-up activities:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Document your environment: Create detailed documentation explaining your Landing Zone design choices and customizations _(make sure to checkout ",(0,t.jsx)(n.a,{href:"https://github.com/Azure/alzlib/tree/main",children:"alzlibtool"}),")"]}),"\n",(0,t.jsx)(n.li,{children:"Establish operational procedures: Define processes for managing the environment, including approvals and adjustments to the platform"}),"\n",(0,t.jsxs)(n.li,{children:["Plan your Application Landing Zones: Design the specific landing zones for your workloads based on your organization's needs and investigate ",(0,t.jsx)(n.a,{href:"https://learn.microsoft.com/azure/cloud-adoption-framework/ready/landing-zone/design-area/subscription-vending?WT.mc_id=AZ-MVP-5004796",children:"Subscription vending"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Resources for Continued Learning"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"http://aka.ms/AwesomeAzureArchitecture",children:"AWESOME Azure Architecture"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://azure.github.io/Azure-Landing-Zones-Library/",children:"Azure Landing Zones Library"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://learn.microsoft.com/azure/cloud-adoption-framework/ready/landing-zone/design-areas?WT.mc_id=AZ-MVP-5004796",children:"Azure landing zone design areas and conceptual architecture"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://learn.microsoft.com/azure/cloud-adoption-framework/manage/azure-management-guide/?WT.mc_id=AZ-MVP-5004796",children:"Azure Management Guide"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://azure.github.io/Azure-Verified-Modules/",children:"Azure Verified Modules"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/Azure/Enterprise-Scale",children:"Enterprise-scale architecture GitHub repo"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"For the GitHub repos, remember to view the Issues and Pull Requests, you can learn a lot from what other people have contributed to the initiatives, and the Issues being raised."}),"\n",(0,t.jsx)(n.p,{children:"Remember, the Landing Zone is not a one-time deployment but an evolving foundation that grows with your organization's cloud journey. Regular reviews and updates will ensure it continues to support your changing business needs while maintaining security and governance standards, and how the business plans on consuming this - is not to be underestimated in the design and implementation of this."})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},43100:(e,n,r)=>{r.d(n,{A:()=>o});const o=r.p+"assets/images/ALZAccelerator_CICDComponents-ea1fbf93870e1274232688bbf61c0361.JPG"},75429:(e,n,r)=>{r.d(n,{A:()=>o});const o=r.p+"assets/images/ALZAccelerator_Components-5f01c0a4e3c0ecb3238c7df560f4fd79.JPG"},60033:(e,n,r)=>{r.d(n,{A:()=>o});const o=r.p+"assets/images/ALZAccelerator_CustomerJourney-914c88d575ebf22eb152962a5a286d48.JPG"},61668:(e,n,r)=>{r.d(n,{A:()=>o});const o=r.p+"assets/images/ALZAccelerator_DepoloyedLandingZoneDeployment-5b907c3c806757df461abf2b4f725488.JPG"},61601:(e,n,r)=>{r.d(n,{A:()=>o});const o=r.p+"assets/images/ALZAccelerator_DepoloyedLandingZoneDeploymentResources-d373792a651514613db7d992d10d489e.JPG"},35961:(e,n,r)=>{r.d(n,{A:()=>o});const o=r.p+"assets/images/ALZAccelerator_SampleLandingZoneDeployment-636770bcbe9bd9b7cc2a69e9ed64aa24.JPG"},67604:(e,n,r)=>{r.d(n,{A:()=>o});const o=r.p+"assets/images/ALZ_Bootstrap_ADOPipelines-60994147431a7299f86ea62caa6ff7bc.jpg"},44800:(e,n,r)=>{r.d(n,{A:()=>o});const o=r.p+"assets/images/ALZ_Bootstrap_ADO_Deployed-31e1b69278f5fefc436d6759e2346b1b.png"},65275:(e,n,r)=>{r.d(n,{A:()=>o});const o=r.p+"assets/images/ALZ_Bootstrap_Checklist-3bc4ebfe88a2536512d96b086caa6b82.jpg"},75650:(e,n,r)=>{r.d(n,{A:()=>o});const o=r.p+"assets/images/ALZ_Bootstrap_Resource_Deployed-344f57a5209701cd629dffefd37f9591.png"},31510:(e,n,r)=>{r.d(n,{A:()=>o});const o=r.p+"assets/images/ALZ_DeployBootstrap-5dfb106817ad002e393025a0361ee285.gif"},27972:(e,n,r)=>{r.d(n,{A:()=>o});const o=r.p+"assets/images/ALZ_DeployBootstrap_RenameADOPipelines-4b45fe67ef66557f73987b55540bc0d5.gif"},46211:(e,n,r)=>{r.d(n,{A:()=>o});const o=r.p+"assets/images/ALZ_InstallPshModule-3ff24a30b93f6bf60a46c6336ae95963.gif"},17004:(e,n,r)=>{r.d(n,{A:()=>o});const o=r.p+"assets/images/ALZ_PLZ_Apply-be626e5bc0f47e188f9dde4d43e62ee1.gif"},40251:(e,n,r)=>{r.d(n,{A:()=>o});const o=r.p+"assets/images/ALZ_PLZ_ValidatePlan-a9d07fe6f4bc6b0981a49a751f4959a2.gif"},81778:(e,n,r)=>{r.d(n,{A:()=>o});const o=r.p+"assets/images/AzureSpringClean25_Logo-a92ac1a62ff65fcddaaf2a0ef4c39dc9.png"},26561:(e,n,r)=>{r.d(n,{A:()=>o});const o=r.p+"assets/images/azure-landing-zone-architecture-diagram-hub-spoke-760034b8ea0ae977ac1aebbfcdd88b92.png"},28453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>s});var o=r(96540);const t={},i=o.createContext(t);function a(e){const n=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),o.createElement(i.Provider,{value:n},e.children)}},33357:e=>{e.exports=JSON.parse('{"permalink":"/azure/azure-landing-zone-accelerator","source":"@site/blog/2025-03-01-TerraformAzureLandingZoneAccelerator/index.mdx","title":"Deploying Azure Landing Zones with the Terraform Accelerator","description":"Learn how to deploy Azure Platform Landing Zones using the Terraform Accelerator and Azure DevOps.","date":"2025-03-01T07:41:23.466Z","tags":[{"inline":true,"label":"Azure","permalink":"/tags/azure"}],"readingTime":18.785,"hasTruncateMarker":true,"authors":[{"name":"Luke Murray","title":"Author","url":"https://luke.geek.nz","imageURL":"https://luke.geek.nz/img/logo.png","key":"Luke","page":null}],"frontMatter":{"title":"Deploying Azure Landing Zones with the Terraform Accelerator","metaDescription":"Learn how to deploy Azure Platform Landing Zones using the Terraform Accelerator and Azure DevOps.","date":"2025-03-01T07:41:23.466Z","tags":["Azure"],"categories":["Azure"],"authors":["Luke"],"slug":"azure/azure-landing-zone-accelerator","keywords":["Azure","Terraform","Landing Zones","ALZ","Azure DevOps","IaC","Cloud Adoption Framework","Platform Landing Zone","Azure Infrastructure","Hub and Spoke"],"description":"Learn how to deploy Azure Platform Landing Zones using the Terraform Accelerator and Azure DevOps."},"unlisted":false,"prevItem":{"title":"How to Use GitHub Codespaces with Azure DevOps Repositories","permalink":"/azure/github-codespaces-azure-devops-repo"},"nextItem":{"title":"Getting Started with Azure Developer CLI (azd)","permalink":"/azure/azure-developer-cli"}}')}}]);