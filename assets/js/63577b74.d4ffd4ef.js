"use strict";(self.webpackChunklukemurraynz=self.webpackChunklukemurraynz||[]).push([[30628],{62151:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>d});var s=n(48040),o=n(74848),i=n(28453);const r={title:"GitHub Codespace Secrets",metaDescription:"Learn how to set up, configure, and use GitHub Codespace secrets.",date:new Date("2025-05-05T06:25:14.434Z"),tags:["Misc"],categories:["Misc"],authors:["Luke"],slug:"misc/codespace-secrets",keywords:["GitHub","Codespaces","DevContainer","Secrets","Environment Variables","Development Environment","Azure OpenAI","Security"],description:"Learn how to set up, configure, and use GitHub Codespace secrets."},a=void 0,c={authorsImageUrls:[void 0]},d=[];function u(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",img:"img",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.p,{children:"Today, we are going to look at Codespace Secrets."}),"\n","\n",(0,o.jsx)(t.p,{children:"GitHub Codespaces secrets are environment variables that are securely stored in your GitHub account and made available to your Codespace environment. They help you manage sensitive information without hardcoding it in your repository."}),"\n",(0,o.jsx)(t.p,{children:"This is a root-level configuration, so it's at the same level as features."}),"\n",(0,o.jsxs)(t.p,{children:["These are ",(0,o.jsx)(t.a,{href:"https://docs.github.com/en/codespaces/managing-your-codespaces/managing-your-account-specific-secrets-for-github-codespaces",children:"account-specific secrets"}),"."]}),"\n",(0,o.jsxs)(t.p,{children:["You can configure them from your ",(0,o.jsx)(t.a,{href:"https://github.com/settings/codespaces",children:"Codespace account settings"})," and allow them for specific repositories."]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"GitHub - Codespace Secrets",src:n(93323).A+"",width:"1017",height:"658"})}),"\n",(0,o.jsx)(t.p,{children:"And when you open up a Codespace, and run a command like 'printenv' you can see the value as environment variables, you can then call."}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"GitHub Codespace",src:n(45794).A+"",width:"1162",height:"342"})}),"\n",(0,o.jsx)(t.p,{children:"However, thats not scalable, as it requires everyone to add in the secrets to their secrets ahead of time."}),"\n",(0,o.jsx)(t.p,{children:"You can configure the name of these secrets in your devcontainer.json file, as below:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-json",children:'"secrets": {\n\t\t"AZURE_OPENAI_ENDPOINT": {},\n\t\t"AZURE_OPENAI_KEY": {}\n\t},\n'})}),"\n",(0,o.jsx)(t.p,{children:"This is a root-level configuration, just like Features and customizations, so it sits at the same level, like below:."}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-json",children:'{\n\t"name": "Python 3",\n\t"image": "mcr.microsoft.com/devcontainers/python:1-3.12-bullseye",\n\t"secrets": {\n\t\t"AZURE_OPENAI_ENDPOINT": {},\n\t\t"AZURE_OPENAI_KEY": {}\n\t},\n\t "features": {}\n}\n'})}),"\n",(0,o.jsx)(t.p,{children:"This allows you to prompt for the secrets as part of the Codespace build."}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Codespace Secret Configuration Test",src:n(85348).A+"",width:"1843",height:"746"})}),"\n",(0,o.jsx)(t.p,{children:"It is accessed normally through the environment variables as well:"}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Codespace Secret Configuration Test",src:n(29945).A+"",width:"1527",height:"309"})}),"\n",(0,o.jsx)(t.p,{children:"For those with a keen eye, will also realise that the environment variables are now entered into your Secrets Account settings, scoped to your repository:"}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Codespace Secrets",src:n(38022).A+"",width:"1441",height:"489"})}),"\n",(0,o.jsx)(t.p,{children:"From there, you can change the value."}),"\n",(0,o.jsxs)(t.p,{children:["Then you can use a link like below ",(0,o.jsx)(t.em,{children:"(replace your repo with your own)"})," to point users directly to your Codespace, with the Secret field:"]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.a,{href:"https://github.com/codespaces/new?hide_repo_select=true&ref=main&repo=lukemurraynz/CodespaceSecret&machine=basicLinux32gb&devcontainer_path=.devcontainer%2Fdevcontainer.json",children:"https://github.com/codespaces/new?hide_repo_select=true&ref=main&repo=lukemurraynz/CodespaceSecret&machine=basicLinux32gb&devcontainer_path=.devcontainer%2Fdevcontainer.json"})}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Codespace Link",src:n(83170).A+"",width:"1202",height:"955"})}),"\n",(0,o.jsx)(t.p,{children:"Then you can call the values in your script and applications as needed."}),"\n",(0,o.jsx)(t.admonition,{type:"warning",children:(0,o.jsx)(t.p,{children:"These are not encrypted, even though they are scoped to your account only. If you output these in text, they will be shown, so be careful with their use in your application."})}),"\n",(0,o.jsx)(t.p,{children:"PowerShell example:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-PowerShell",children:'# Get environment variables for AZURE_OPENAI_KEY and AZURE_OPENAI_ENDPOINT\n$azureOpenAiEndpoint = $env:AZURE_OPENAI_ENDPOINT\n$azureOpenAiKey = $env:AZURE_OPENAI_KEY\nWrite-Host "AZURE_OPENAI_ENDPOINT: $azureOpenAiEndpoint"\nWrite-Host "AZURE_OPENAI_KEY: $azureOpenAiKey"\n'})}),"\n",(0,o.jsx)(t.p,{children:"Python example:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-python",children:'import os\nazure_openai_endpoint = os.environ.get("AZURE_OPENAI_ENDPOINT")\nazure_openai_key = os.environ.get("AZURE_OPENAI_KEY")\nprint(f"AZURE_OPENAI_ENDPOINT: {azure_openai_endpoint}")\nprint(f"AZURE_OPENAI_KEY: {azure_openai_key}")\n'})})]})}function p(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(u,{...e})}):u(e)}},85348:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/GitHubCodespace_CodespaceSettingTest-38937c6f0d7216c4656879de95ed1d21.gif"},29945:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/GitHubCodespace_CodespaceSettingTestEnv-9a973d32155c7e5393f29819fe366083.gif"},45794:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/GitHubCodespace_SecretAccountSettingTest-a5188f57b8ed8ff8d3b8175444aefd12.gif"},93323:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/GitHubCodespace_Secrets-ab7e971ab6b997825e5700fe21de67b0.jpg"},38022:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/GitHubCodespace_SecretsAfterCodespace-004957be42699c5ff87e4b96586f75cd.jpg"},83170:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/GitHubCodespace_SecretsAfterCodespaceLink-74c41247a162df6f2b81713f91c75bfd.jpg"},28453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>a});var s=n(96540);const o={},i=s.createContext(o);function r(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),s.createElement(i.Provider,{value:t},e.children)}},48040:e=>{e.exports=JSON.parse('{"permalink":"/misc/codespace-secrets","source":"@site/blog/2025-05-05-codespacesecrets/index.mdx","title":"GitHub Codespace Secrets","description":"Learn how to set up, configure, and use GitHub Codespace secrets.","date":"2025-05-05T06:25:14.434Z","tags":[{"inline":true,"label":"Misc","permalink":"/tags/misc"}],"readingTime":1.84,"hasTruncateMarker":true,"authors":[{"name":"Luke Murray","title":"Author","url":"https://luke.geek.nz","imageURL":"https://luke.geek.nz/img/logo.png","key":"Luke","page":null}],"frontMatter":{"title":"GitHub Codespace Secrets","metaDescription":"Learn how to set up, configure, and use GitHub Codespace secrets.","date":"2025-05-05T06:25:14.434Z","tags":["Misc"],"categories":["Misc"],"authors":["Luke"],"slug":"misc/codespace-secrets","keywords":["GitHub","Codespaces","DevContainer","Secrets","Environment Variables","Development Environment","Azure OpenAI","Security"],"description":"Learn how to set up, configure, and use GitHub Codespace secrets."},"unlisted":false,"prevItem":{"title":"Scan Your Kubernetes Cluster with KubeBuddy","permalink":"/azure/kubebuddy-scanning-clusters"},"nextItem":{"title":"Azure Container Registry Continuous Patching for Security","permalink":"/azure/acr-continuous-patching-security"}}')}}]);