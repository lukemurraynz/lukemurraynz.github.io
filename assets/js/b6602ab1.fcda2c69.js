"use strict";(self.webpackChunklukemurraynz=self.webpackChunklukemurraynz||[]).push([[18753],{95873:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>i,default:()=>p,frontMatter:()=>l,metadata:()=>r,toc:()=>d});var s=t(74848),a=t(28453);const l={title:"Upgrade MDT 2013 to MDT Current Branch",tags:["Windows"],date:"2016-12-13 00:00:00 +1300"},i=void 0,r={permalink:"/2016/12/13/upgrade-mdt-2013-mdt-current-branch",source:"@site/blog/2016-12-13-upgrade-mdt-2013-mdt-current-branch.md",title:"Upgrade MDT 2013 to MDT Current Branch",description:"Upgrading MDT (Microsoft Deployment Toolkit) is generally not an issue \u2013 the main points are:",date:"2016-12-13T00:00:00.000Z",tags:[{inline:!0,label:"Windows",permalink:"/tags/windows"}],readingTime:4.265,hasTruncateMarker:!1,authors:[],frontMatter:{title:"Upgrade MDT 2013 to MDT Current Branch",tags:["Windows"],date:"2016-12-13 00:00:00 +1300"},unlisted:!1,prevItem:{title:"Database error when making changes to DHCP reservations",permalink:"/2016/12/28/database-error-making-changes-dhcp-reservations"},nextItem:{title:"Microsoft Ignite NZ 2016! What a blast!",permalink:"/2016/10/29/microsoft-ignite-nz-2016-what-a-blast"}},o={authorsImageUrls:[]},d=[{value:'<span id="Upgrade_Windows_ADK">Upgrade Windows ADK</span>',id:"upgrade-windows-adk",level:2},{value:'<span id="Upgrade_MDT">Upgrade MDT</span>',id:"upgrade-mdt",level:2}];function c(e){const n={a:"a",div:"div",em:"em",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",span:"span",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["Upgrading MDT ",(0,s.jsx)(n.em,{children:"(Microsoft Deployment Toolkit)"})," is generally not an issue \u2013 the main points are:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Upgrade the Windows ADK before upgrading MDT."}),"\n",(0,s.jsxs)(n.li,{children:["Make sure you have a backup ",(0,s.jsx)(n.em,{children:"(or can restore to a pre-upgraded MDT)"})," of the Deployment Share \u2013 the Upgrade will upgrade the schema of the MDT database \u2013 including allowing new ADK features for your Deployment Share."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Now that we have a backup it is now time to go through the Windows ADK ",(0,s.jsx)(n.em,{children:"(Windows Assessment and Deployment Kit)"})," upgrade on the MDT server and MDT current branch update. Follow the guide below to complete."]}),"\n",(0,s.jsxs)(n.div,{id:"toc_container",className:"no_bullets",children:["\n  ",(0,s.jsx)(n.p,{className:"toc_title",children:"\n    Table of Contents\n  "}),"\n  ",(0,s.jsxs)(n.ul,{className:"toc_list",children:["\n    ",(0,s.jsxs)(n.li,{children:["\n      ",(0,s.jsxs)(n.a,{href:"#Upgrade_Windows_ADK",children:[(0,s.jsx)(n.span,{className:"toc_number toc_depth_1",children:"1"})," Upgrade Windows ADK"]}),"\n    "]}),"\n    ",(0,s.jsxs)(n.li,{children:["\n      ",(0,s.jsxs)(n.a,{href:"#Upgrade_MDT",children:[(0,s.jsx)(n.span,{className:"toc_number toc_depth_1",children:"2"})," Upgrade MDT"]}),"\n    "]}),"\n  "]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"upgrade-windows-adk",children:(0,s.jsx)(n.span,{id:"Upgrade_Windows_ADK",children:"Upgrade Windows ADK"})}),"\n",(0,s.jsx)(n.p,{children:"I will be using Windows ADK for Windows 10, version 1607 in my example."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Download the latest Windows ADK \u2013 ",(0,s.jsx)(n.a,{href:"https://developer.microsoft.com/en-us/windows/hardware/windows-assessment-deployment-kit",target:"_blank"}),(0,s.jsx)(n.a,{href:"https://developer.microsoft.com/en-us/windows/hardware/windows-assessment-deployment-kit",children:"https://developer.microsoft.com/en-us/windows/hardware/windows-assessment-deployment-kit"})," and save the setup file to your MDT server."]}),"\n"]}),"\n",(0,s.jsx)(n.img,{className:"alignnone",src:"https://i0.wp.com/luke.geek.nz/wp-content/uploads/2016/12/121316_0538_UpgradeMDT21.png?resize=624%2C333",alt:"Windows ADK",width:"624",height:"333","data-recalc-dims":"1"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"If you try to install the ADK without upgrading, you will get the following error:"}),"\n"]}),"\n",(0,s.jsx)(n.img,{src:"https://i0.wp.com/luke.geek.nz/wp-content/uploads/2016/12/121316_0538_UpgradeMDT22.png?w=1500",alt:"","data-recalc-dims":"1"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"So open Program and Features and select Windows Assessment and Deployment Kit \u2013 Windows 10 and select Uninstall to uninstall the old ADK (in this example I am uninstalling the v1511 Windows 10 ADK)."}),"\n"]}),"\n",(0,s.jsx)(n.img,{src:"https://i0.wp.com/luke.geek.nz/wp-content/uploads/2016/12/121316_0538_UpgradeMDT23.png?w=1500",alt:"","data-recalc-dims":"1"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Select Yes to uninstall the Windows ADK and Close when the uninstall has been completed"}),"\n"]}),"\n",(0,s.jsx)(n.img,{src:"https://i0.wp.com/luke.geek.nz/wp-content/uploads/2016/12/121316_0538_UpgradeMDT24.png?w=1500",alt:"","data-recalc-dims":"1"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Now that the old Windows ADK has been uninstalled you can now launch the new Windows ADK downloaded in Step 1 and make sure Install the Windows Assessment and Deployment Kit \u2013 Windows 10 to this computer is selected and the install path is correct and click Next"}),"\n"]}),"\n",(0,s.jsx)(n.img,{src:"https://i2.wp.com/luke.geek.nz/wp-content/uploads/2016/12/121316_0538_UpgradeMDT25.png?w=1500",alt:"","data-recalc-dims":"1"}),"\n",(0,s.jsxs)(n.ol,{start:"6",children:["\n",(0,s.jsx)(n.li,{children:"You can either select Yes or No to allow Microsoft to collect usage data \u2013 I am just going to select No and click Next to proceed with the install"}),"\n"]}),"\n",(0,s.jsx)(n.img,{src:"https://i2.wp.com/luke.geek.nz/wp-content/uploads/2016/12/121316_0538_UpgradeMDT26.png?w=1500",alt:"","data-recalc-dims":"1"}),"\n",(0,s.jsxs)(n.ol,{start:"7",children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Click Accept on the license agreement"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"You will now get greeted by a dialog for installing the features of the Windows ADK \u2013 you need: Deployment Tools, Windows Preinstallation Environment (Windows PE) and User State Migration Tool (USMT) and select Install"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.img,{className:"alignnone",src:"https://i2.wp.com/luke.geek.nz/wp-content/uploads/2016/12/121316_0538_UpgradeMDT27.png?resize=690%2C508",alt:"Windows ADK",width:"690",height:"508","data-recalc-dims":"1"}),"\n",(0,s.jsxs)(n.ol,{start:"9",children:["\n",(0,s.jsx)(n.li,{children:"Once the Windows Assessment and Deployment Kit installation has been completed, restart your MDT server (this is not required \u2013 but I prefer to do it to make sure any registered DLLs or registry changes have taken affect and it is in a clean state)."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"upgrade-mdt",children:(0,s.jsx)(n.span,{id:"Upgrade_MDT",children:"Upgrade MDT"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Now that the Windows ADK has been updated \u2013 it is time to download the Microsoft Deployment Toolkit \u2013 ",(0,s.jsx)(n.a,{href:"https://www.microsoft.com/en-us/download/details.aspx?id=54259",target:"_blank"}),(0,s.jsx)(n.a,{href:"https://www.microsoft.com/en-us/download/details.aspx?id=54259",children:"https://www.microsoft.com/en-us/download/details.aspx?id=54259"})," by selecting Download"]}),"\n"]}),"\n",(0,s.jsx)(n.img,{className:"alignnone",src:"https://i0.wp.com/luke.geek.nz/wp-content/uploads/2016/12/121316_0538_UpgradeMDT28.png?resize=639%2C525",alt:"MDT Download",width:"639",height:"525","data-recalc-dims":"1"}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsxs)(n.li,{children:["We are upgrading the x64 version so select this and click Next ",(0,s.jsx)(n.em,{children:"(same process for x32 \u2013 just download that instead)"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.img,{src:"https://i2.wp.com/luke.geek.nz/wp-content/uploads/2016/12/121316_0538_UpgradeMDT29.png?w=1500",alt:"","data-recalc-dims":"1"}),"12. Select Run to start the install"]}),"\n",(0,s.jsx)(n.img,{src:"https://i1.wp.com/luke.geek.nz/wp-content/uploads/2016/12/121316_0538_UpgradeMDT210.png?w=1500",alt:"","data-recalc-dims":"1"}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsx)(n.li,{children:"You will now have the Install Microsoft Deployment Toolkit Setup wizard \u2013 select Next to start the install"}),"\n"]}),"\n",(0,s.jsx)(n.img,{className:"alignnone",src:"https://i1.wp.com/luke.geek.nz/wp-content/uploads/2016/12/121316_0538_UpgradeMDT211.png?resize=508%2C396",alt:"MDT install",width:"508",height:"396","data-recalc-dims":"1"}),"\n",(0,s.jsxs)(n.ol,{start:"4",children:["\n",(0,s.jsx)(n.li,{children:"Accept the License Agreement and select Next"}),"\n"]}),"\n",(0,s.jsx)(n.img,{src:"https://i0.wp.com/luke.geek.nz/wp-content/uploads/2016/12/121316_0538_UpgradeMDT212.png?w=1500",alt:"","data-recalc-dims":"1"}),"\n",(0,s.jsxs)(n.ol,{start:"5",children:["\n",(0,s.jsx)(n.li,{children:"Make sure that Microsoft Deployment Toolkit \u2013 Documents and Tools and Templates are select and the install path is correct (matches your current MDT install) and click Next"}),"\n"]}),"\n",(0,s.jsx)(n.img,{src:"https://i2.wp.com/luke.geek.nz/wp-content/uploads/2016/12/121316_0538_UpgradeMDT213.png?w=1500",alt:"","data-recalc-dims":"1"}),"\n",(0,s.jsxs)(n.ol,{start:"6",children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Select Yes or No to joining the Customer Experience Improvement Program and select Next"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Finally \u2013 click Install to start the MDT install"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.img,{src:"https://i2.wp.com/luke.geek.nz/wp-content/uploads/2016/12/121316_0538_UpgradeMDT214.png?w=1500",alt:"","data-recalc-dims":"1"}),"\n",(0,s.jsxs)(n.ol,{start:"8",children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Once installed click Finish"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Open the Deployment Workbench"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.img,{src:"https://i1.wp.com/luke.geek.nz/wp-content/uploads/2016/12/121316_0538_UpgradeMDT215.png?w=1500",alt:"","data-recalc-dims":"1"}),"\n",(0,s.jsxs)(n.ol,{start:"10",children:["\n",(0,s.jsx)(n.li,{children:"It should automatically have your Deployment Share listed under Deployment Shares \u2013 if you will need to click File, Add Deployment Share to add your deployment share. Right click your deployment share and select Upgrade Deployment Share"}),"\n"]}),"\n",(0,s.jsx)(n.img,{className:"alignnone",src:"https://i2.wp.com/luke.geek.nz/wp-content/uploads/2016/12/121316_0538_UpgradeMDT216.png?resize=476%2C240",alt:"Upgrade Deployment Share",width:"476",height:"240","data-recalc-dims":"1"}),"\n",(0,s.jsxs)(n.ol,{start:"11",children:["\n",(0,s.jsx)(n.li,{children:"Verify that the information is correct and click Next to start the Upgrade"}),"\n"]}),"\n",(0,s.jsx)(n.img,{src:"https://i0.wp.com/luke.geek.nz/wp-content/uploads/2016/12/121316_0538_UpgradeMDT217.png?w=1500",alt:"","data-recalc-dims":"1"}),"\n",(0,s.jsxs)(n.ol,{start:"12",children:["\n",(0,s.jsx)(n.li,{children:"This will start the upgrade of the Deployment Share"}),"\n"]}),"\n",(0,s.jsx)(n.img,{src:"https://i0.wp.com/luke.geek.nz/wp-content/uploads/2016/12/121316_0538_UpgradeMDT218.png?w=1500",alt:"","data-recalc-dims":"1"}),"\n",(0,s.jsxs)(n.ol,{start:"13",children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Once the Upgrade of the Deployment Share has been completed \u2013 it is time to upgrade the Boot Image"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Right click your Deployment Share again \u2013 and instead of Upgrade, there will be Update. Select Update Deployment Share"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.img,{src:"https://i1.wp.com/luke.geek.nz/wp-content/uploads/2016/12/121316_0538_UpgradeMDT219.png?w=1500",alt:"","data-recalc-dims":"1"}),"\n",(0,s.jsxs)(n.ol,{start:"15",children:["\n",(0,s.jsx)(n.li,{children:"You will be greeted by the Update Deployment Share Wizard \u2013 select completely regenerate the boot images and click Next"}),"\n"]}),"\n",(0,s.jsx)(n.img,{className:"alignnone",src:"https://i1.wp.com/luke.geek.nz/wp-content/uploads/2016/12/121316_0538_UpgradeMDT220.png?resize=653%2C542",alt:"Update Boot Image",width:"653",height:"542","data-recalc-dims":"1"}),"\n",(0,s.jsxs)(n.ol,{start:"16",children:["\n",(0,s.jsx)(n.li,{children:"You will then be forwarded to a review page, verify the permissions are correct and click Next to start regenerating the boot images."}),"\n"]}),"\n",(0,s.jsx)(n.img,{src:"https://i2.wp.com/luke.geek.nz/wp-content/uploads/2016/12/121316_0538_UpgradeMDT221.png?w=1500",alt:"","data-recalc-dims":"1"}),"\n",(0,s.jsxs)(n.ol,{start:"17",children:["\n",(0,s.jsx)(n.li,{children:"Once completed you are finished. You have now hopefully successfully upgraded the ADK, MDT and Boot Images."}),"\n"]}),"\n",(0,s.jsx)(n.img,{src:"https://i1.wp.com/luke.geek.nz/wp-content/uploads/2016/12/121316_0538_UpgradeMDT222.png?w=1500",alt:"","data-recalc-dims":"1"})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>r});var s=t(96540);const a={},l=s.createContext(a);function i(e){const n=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);