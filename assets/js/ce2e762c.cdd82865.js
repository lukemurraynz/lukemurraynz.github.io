"use strict";(self.webpackChunklukemurraynz=self.webpackChunklukemurraynz||[]).push([[66066],{36148:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>u,frontMatter:()=>a,metadata:()=>n,toc:()=>d});var n=o(23587),r=o(74848),s=o(28453);const a={title:"How to Use GitHub Codespaces with Azure DevOps Repositories",metaDescription:"Learn how to connect GitHub Codespaces to external repositories in Azure DevOps using the external-repository feature and devcontainer configuration.",date:new Date("2025-03-07T07:40:37.780Z"),tags:["Azure"],categories:["Azure"],authors:["Luke"],slug:"azure/github-codespaces-azure-devops-repo",keywords:["Azure DevOps","devcontainer","Development Environment","External Repository","GitHub Codespaces"],description:"Learn how to connect GitHub Codespaces to external repositories in Azure DevOps using the external-repository feature and devcontainer configuration."},i=void 0,c={authorsImageUrls:[void 0]},d=[];function p(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",img:"img",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.p,{children:["I've talked about ",(0,r.jsx)(t.a,{href:"https://luke.geek.nz/azure/Getting-Started-with-GitHub-Codespaces/",children:"GitHub Codespaces"})," before, but what I haven't covered - is using a GitHub Codespace to connect to a repository in Azure DevOps. It's classed as 'Remote Repository' in the Codespace, however, it's something that can be done."]}),"\n","\n",(0,r.jsxs)(t.p,{children:["To start with, we have a repository in Azure DevOps, and we want to connect to it using a GitHub Codespace. I've created a repository in Azure DevOps called 'CodespaceADORepo' for demo purposes. This repo contains two files ",(0,r.jsx)(t.em,{children:"(README.md and a main.bicep file)"})," although it doesn't matter what the repository has."]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"Azure DevOps Repo",src:o(82646).A+"",width:"684",height:"200"})}),"\n",(0,r.jsxs)(t.p,{children:["To make this work, we need to add the following feature to our Codespace: ",(0,r.jsx)(t.a,{href:"https://github.com/microsoft/codespace-features/pkgs/container/codespace-features%2Fexternal-repository",children:"codespace-features/external-repository"}),". This feature allows you to connect to a repository that is not hosted in GitHub."]}),"\n",(0,r.jsxs)(t.p,{children:["To add this feature, you need to create a ",(0,r.jsx)(t.code,{children:".devcontainer"})," folder in the root of your repository. Inside this folder, you need to create a ",(0,r.jsx)(t.code,{children:"devcontainer.json"})," file. This file is used to configure the Codespace, and in this case, we are adding the feature to connect to an external repository."]}),"\n",(0,r.jsx)(t.p,{children:"First we need to grab the clone URL."}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"Azure DevOps Clone URL",src:o(49538).A+"",width:"1642",height:"903"})}),"\n",(0,r.jsx)(t.p,{children:"Then we need to add the URL to the devcontainer.json"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-json",children:'"features": {\n\t\t"ghcr.io/microsoft/codespace-features/external-repository:latest": {\n\t\t\t"cloneUrl": "https://luke0153@dev.azure.com/luke0153/CodespaceDemo/_git/CodespaceADORepo",\n\t\t\t"folder": "/workspaces/ado-repos"\n\t\t}\n}\n'})}),"\n",(0,r.jsx)(t.admonition,{type:"info",children:(0,r.jsx)(t.p,{children:'You can add a PAT token to authenticate by adding: "cloneSecret": "ADO_PAT", to the feature settings, but storing your PAT token in plain text in a repo is not recommended.'})}),"\n",(0,r.jsx)(t.p,{children:"And then add in:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-json",children:'"initializeCommand": "mkdir -p ${localWorkspaceFolder}/../ado-repos",\n  "postStartCommand": "external-git clone",\n  "postAttachCommand": "external-git config",\n'})}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"Azure DevOps Clone URL",src:o(52991).A+"",width:"1642",height:"903"})}),"\n",(0,r.jsx)(t.p,{children:"Once done, it's time to run your Codespace, as normal. It will ignore the GitHub repo that you are running it in, then clone the ADO repo, once authenticated - in this case, because I haven't specified a PAT token, it will prompt for user authentication, then mount the repo."}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"Azure DevOps Clone URL",src:o(12982).A+"",width:"1892",height:"903"})}),"\n",(0,r.jsx)(t.p,{children:"And the original git repo is ignored."}),"\n",(0,r.jsx)(t.p,{children:"For full reference to the devcontainer.json I am using:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-json",children:'\n{\n\t"name": "Default Linux Universal",\n\t"image": "mcr.microsoft.com/devcontainers/universal:2-linux",\n\t"features": {\n\t\t"ghcr.io/microsoft/codespace-features/external-repository:latest": {\n\t\t\t"cloneUrl": "https://contoso@dev.azure.com/contosoOORG/CodespaceDemo/_git/CodespaceADORepo",\n\t\t\t"folder": "/workspaces/ado-repos"\n\t\t},\n\t\t  "ghcr.io/prulloac/devcontainer-features/pre-commit:1.0.3": {},\t\n\t},\n\t"workspaceFolder": "/workspaces/ado-repos",\n\t"initializeCommand": "mkdir -p ${localWorkspaceFolder}/../ado-repos",\n  "postStartCommand": "external-git clone",\n  "postAttachCommand": "external-git config",\n\n\t"customizations": {\n\t\t"vscode": {\n\t\t\t"extensions": [\n\t\t\t\t"GitHub.copilot",\n\t\t\t\t"GitHub.copilot-chat",\n\t\t\t]\n\t\t}\n\t}\n}\n'})})]})}function u(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}},82646:(e,t,o)=>{o.d(t,{A:()=>n});const n=o.p+"assets/images/Codespace_ADORepo-a6137611dadc807bc481d35da759b8a3.jpg"},52991:(e,t,o)=>{o.d(t,{A:()=>n});const n=o.p+"assets/images/Codespace_ADO_AddExternalGitClone-5c4199f03786e618253d160fa94af7de.gif"},49538:(e,t,o)=>{o.d(t,{A:()=>n});const n=o.p+"assets/images/Codespace_ADO_CloneURL-728c52e00b2a75de71e2536963785a5a.gif"},12982:(e,t,o)=>{o.d(t,{A:()=>n});const n=o.p+"assets/images/Codespace_ADO_RunExternalGit-5f48a10311c2859a654ae2cad1273b85.gif"},28453:(e,t,o)=>{o.d(t,{R:()=>a,x:()=>i});var n=o(96540);const r={},s=n.createContext(r);function a(e){const t=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),n.createElement(s.Provider,{value:t},e.children)}},23587:e=>{e.exports=JSON.parse('{"permalink":"/azure/github-codespaces-azure-devops-repo","source":"@site/blog/2025-03-07-CodespaceADORepo/index.mdx","title":"How to Use GitHub Codespaces with Azure DevOps Repositories","description":"Learn how to connect GitHub Codespaces to external repositories in Azure DevOps using the external-repository feature and devcontainer configuration.","date":"2025-03-07T07:40:37.780Z","tags":[{"inline":true,"label":"Azure","permalink":"/tags/azure"}],"readingTime":2.16,"hasTruncateMarker":true,"authors":[{"name":"Luke Murray","title":"Author","url":"https://luke.geek.nz","imageURL":"https://luke.geek.nz/img/logo.png","key":"Luke","page":null}],"frontMatter":{"title":"How to Use GitHub Codespaces with Azure DevOps Repositories","metaDescription":"Learn how to connect GitHub Codespaces to external repositories in Azure DevOps using the external-repository feature and devcontainer configuration.","date":"2025-03-07T07:40:37.780Z","tags":["Azure"],"categories":["Azure"],"authors":["Luke"],"slug":"azure/github-codespaces-azure-devops-repo","keywords":["Azure DevOps","devcontainer","Development Environment","External Repository","GitHub Codespaces"],"description":"Learn how to connect GitHub Codespaces to external repositories in Azure DevOps using the external-repository feature and devcontainer configuration."},"unlisted":false,"prevItem":{"title":"Understanding Workload Criticality in the Cloud","permalink":"/azure/business-critical-workloads"},"nextItem":{"title":"Deploying Azure Landing Zones with the Terraform Accelerator","permalink":"/azure/azure-landing-zone-accelerator"}}')}}]);