"use strict";(self.webpackChunklukemurraynz=self.webpackChunklukemurraynz||[]).push([[89426],{10399:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>i,contentTitle:()=>s,default:()=>p,frontMatter:()=>o,metadata:()=>u,toc:()=>l});var a=r(85893),n=r(11151);r(74866),r(85162);const o={title:"Export Azure DevOps Repositories to Azure Storage Account",metaDescription:"Learn how to export Azure DevOps repositories to an Azure Storage Account for backup and disaster recovery.",description:"This is a step-by-step guide on exporting Azure DevOps repositories to an Azure Storage Account for backup and recovery.",date:new Date("2024-05-13T08:21:56.906Z"),tags:["Azure"],categories:["Azure"],authors:["Luke"],slug:"azure/export-azure-devops-repos-azure-storage-account",keywords:["Azure","Azure DevOps","Repositories","Export","Azure Storage Account","Backup","Disaster Recovery"]},s=void 0,u={permalink:"/azure/export-azure-devops-repos-azure-storage-account",source:"@site/blog/2024-05-13-ado-export-stgaccount/index.mdx",title:"Export Azure DevOps Repositories to Azure Storage Account",description:"This is a step-by-step guide on exporting Azure DevOps repositories to an Azure Storage Account for backup and recovery.",date:"2024-05-13T08:21:56.906Z",tags:[{label:"Azure",permalink:"/tags/azure"}],readingTime:15.37,hasTruncateMarker:!0,authors:[{name:"Luke Murray",title:"Author",url:"https://luke.geek.nz",imageURL:"https://luke.geek.nz/img/logo.png",key:"Luke"}],frontMatter:{title:"Export Azure DevOps Repositories to Azure Storage Account",metaDescription:"Learn how to export Azure DevOps repositories to an Azure Storage Account for backup and disaster recovery.",description:"This is a step-by-step guide on exporting Azure DevOps repositories to an Azure Storage Account for backup and recovery.",date:"2024-05-13T08:21:56.906Z",tags:["Azure"],categories:["Azure"],authors:["Luke"],slug:"azure/export-azure-devops-repos-azure-storage-account",keywords:["Azure","Azure DevOps","Repositories","Export","Azure Storage Account","Backup","Disaster Recovery"]},unlisted:!1,nextItem:{title:"Deploying Large Language Models on AKS with Kaito",permalink:"/azure/run-local-llm-aks"}},i={authorsImageUrls:[void 0]},l=[];function c(e){const t={p:"p",...(0,n.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.p,{children:"When recently deleted, Azure DevOps code repositories go into a soft-delete state. The Repositories are retained for 30 days before they are permanently deleted. However, for Disaster Recovery scenarios or scenarios where you may not realize something has been deleted until after Microsoft retains the backup, you may want to export the repositories at a single point in time to an Azure storage account."}),"\n",(0,a.jsx)(t.p,{children:"The Azure DevOps service is highly redundant and built on core Azure Platform infrastructure components, such as Availability Zones. It relies on Azure Cloud native Storage and Azure SQL services, which are highly redundant and backed-up. However, mistakes can happen, and there may be organizational requirements to retain backups of the repositories."}),"\n",(0,a.jsx)(t.p,{children:"Today, we will examine exporting your repositories to an Azure Storage Account using a DevOps pipeline. This pipeline will capture the repositories at their current state and run nightly."})]})}function p(e={}){const{wrapper:t}={...(0,n.a)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},85162:(e,t,r)=>{r.d(t,{Z:()=>s});r(67294);var a=r(90512);const n={tabItem:"tabItem_Ymn6"};var o=r(85893);function s(e){let{children:t,hidden:r,className:s}=e;return(0,o.jsx)("div",{role:"tabpanel",className:(0,a.Z)(n.tabItem,s),hidden:r,children:t})}},74866:(e,t,r)=>{r.d(t,{Z:()=>k});var a=r(67294),n=r(90512),o=r(12466),s=r(16550),u=r(20469),i=r(91980),l=r(67392),c=r(50012);function p(e){return a.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function d(e){const{values:t,children:r}=e;return(0,a.useMemo)((()=>{const e=t??function(e){return p(e).map((e=>{let{props:{value:t,label:r,attributes:a,default:n}}=e;return{value:t,label:r,attributes:a,default:n}}))}(r);return function(e){const t=(0,l.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,r])}function h(e){let{value:t,tabValues:r}=e;return r.some((e=>e.value===t))}function f(e){let{queryString:t=!1,groupId:r}=e;const n=(0,s.k6)(),o=function(e){let{queryString:t=!1,groupId:r}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return r??null}({queryString:t,groupId:r});return[(0,i._X)(o),(0,a.useCallback)((e=>{if(!o)return;const t=new URLSearchParams(n.location.search);t.set(o,e),n.replace({...n.location,search:t.toString()})}),[o,n])]}function g(e){const{defaultValue:t,queryString:r=!1,groupId:n}=e,o=d(e),[s,i]=(0,a.useState)((()=>function(e){let{defaultValue:t,tabValues:r}=e;if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!h({value:t,tabValues:r}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${r.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const a=r.find((e=>e.default))??r[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:t,tabValues:o}))),[l,p]=f({queryString:r,groupId:n}),[g,m]=function(e){let{groupId:t}=e;const r=function(e){return e?`docusaurus.tab.${e}`:null}(t),[n,o]=(0,c.Nk)(r);return[n,(0,a.useCallback)((e=>{r&&o.set(e)}),[r,o])]}({groupId:n}),b=(()=>{const e=l??g;return h({value:e,tabValues:o})?e:null})();(0,u.Z)((()=>{b&&i(b)}),[b]);return{selectedValue:s,selectValue:(0,a.useCallback)((e=>{if(!h({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);i(e),p(e),m(e)}),[p,m,o]),tabValues:o}}var m=r(72389);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var v=r(85893);function y(e){let{className:t,block:r,selectedValue:a,selectValue:s,tabValues:u}=e;const i=[],{blockElementScrollPositionUntilNextRender:l}=(0,o.o5)(),c=e=>{const t=e.currentTarget,r=i.indexOf(t),n=u[r].value;n!==a&&(l(t),s(n))},p=e=>{let t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const r=i.indexOf(e.currentTarget)+1;t=i[r]??i[0];break}case"ArrowLeft":{const r=i.indexOf(e.currentTarget)-1;t=i[r]??i[i.length-1];break}}t?.focus()};return(0,v.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,n.Z)("tabs",{"tabs--block":r},t),children:u.map((e=>{let{value:t,label:r,attributes:o}=e;return(0,v.jsx)("li",{role:"tab",tabIndex:a===t?0:-1,"aria-selected":a===t,ref:e=>i.push(e),onKeyDown:p,onClick:c,...o,className:(0,n.Z)("tabs__item",b.tabItem,o?.className,{"tabs__item--active":a===t}),children:r??t},t)}))})}function A(e){let{lazy:t,children:r,selectedValue:n}=e;const o=(Array.isArray(r)?r:[r]).filter(Boolean);if(t){const e=o.find((e=>e.props.value===n));return e?(0,a.cloneElement)(e,{className:"margin-top--md"}):null}return(0,v.jsx)("div",{className:"margin-top--md",children:o.map(((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==n})))})}function z(e){const t=g(e);return(0,v.jsxs)("div",{className:(0,n.Z)("tabs-container",b.tabList),children:[(0,v.jsx)(y,{...e,...t}),(0,v.jsx)(A,{...e,...t})]})}function k(e){const t=(0,m.Z)();return(0,v.jsx)(z,{...e,children:p(e.children)},String(t))}},11151:(e,t,r)=>{r.d(t,{Z:()=>u,a:()=>s});var a=r(67294);const n={},o=a.createContext(n);function s(e){const t=a.useContext(o);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function u(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:s(e.components),a.createElement(o.Provider,{value:t},e.children)}}}]);