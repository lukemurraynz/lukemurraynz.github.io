"use strict";(self.webpackChunklukemurraynz=self.webpackChunklukemurraynz||[]).push([[42923],{27062:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>t,toc:()=>d});var t=n(82048),i=n(74848),s=n(28453);const o={date:"2022-09-02 00:00:00 +1200",title:"Azure Private DNS Resolver and Azure Point to Site VPN",authors:["Luke"],tags:["Azure"],toc:!0,header:{teaser:"/uploads/azureprivatednsresolver.png"},slug:"azure/azure-point-to-site-vpn-and-private-dns-resolver"},a=void 0,l={authorsImageUrls:[void 0]},d=[{value:"Overview",id:"overview",level:3},{value:"So what is Azure DNS Resolver?",id:"so-what-is-azure-dns-resolver",level:4},{value:"Inbound or Outbound?",id:"inbound-or-outbound",level:4},{value:"Deployment",id:"deployment",level:3},{value:"Deploy DNS Private Resolver",id:"deploy-dns-private-resolver",level:4},{value:"Adjust Point to Site DNS",id:"adjust-point-to-site-dns",level:4},{value:"Additional resources",id:"additional-resources",level:3}];function c(e){const r={a:"a",blockquote:"blockquote",code:"code",em:"em",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(r.p,{children:["You might access resources such as ",(0,i.jsx)(r.a,{href:"https://azure.microsoft.com/products/azure-sql/database/?WT.mc_id=AZ-MVP-5004796",title:"Azure SQL Database",children:"Azure SQL databases"})," or ",(0,i.jsx)(r.a,{href:"https://learn.microsoft.com/azure/storage/?WT.mc_id=AZ-MVP-5004796",title:"Azure Storage documentation",children:"Azure Storage accounts"})," if you're connecting to a Microsoft Azure network externally ",(0,i.jsx)(r.em,{children:"("}),(0,i.jsx)(r.a,{href:"https://learn.microsoft.com/en-us/azure/virtual-network/virtual-networks-name-resolution-for-vms-and-role-instances?WT.mc_id=AZ-MVP-5004796#azure-provided-name-resolution",title:"Name resolution for resources in Azure virtual networks",children:(0,i.jsx)(r.em,{children:"from a non-Azure VM"})})," ",(0,i.jsx)(r.em,{children:"or VPN)"}),"; mainly if you operate Cloud-only services and don't have an external DNS provider, such as Active Directory - connecting to ",(0,i.jsx)(r.a,{href:"https://azure.microsoft.com/services/private-link/?WT.mc_id=AZ-MVP-5004796",title:"Private Link",children:"private link"})," resources, you may have to edit your local host's file and override local DNS to point to the IP of the ",(0,i.jsx)(r.a,{href:"https://learn.microsoft.com/en-us/azure/private-link/private-endpoint-overview?WT.mc_id=AZ-MVP-5004796",children:"private endpoint"})," for each service."]}),"\n",(0,i.jsx)(r.p,{children:"This is not sustainable, not scalable, and you might end up throwing your hands in the air and switching back to public-facing services and just whitelisting other users' Public IPs to gain access to Azure resources - which can lead to its own set of issues, such as unmanaged IPs left with access to resources after contractors or users leave or have finished their work, IP address changes if not managed correctly can allow any user or company to have a direct line of sight to your company resources."}),"\n",(0,i.jsx)(r.h3,{id:"overview",children:"Overview"}),"\n",(0,i.jsxs)(r.blockquote,{children:["\n",(0,i.jsxs)(r.p,{children:["Today we will concentrate on DNS resolution of Private Endpoints, using ",(0,i.jsx)(r.a,{href:"https://learn.microsoft.com/azure/dns/dns-private-resolver-overview?WT.mc_id=AZ-MVP-5004796",title:"What is Azure DNS Private Resolver?",children:"Azure DNS Private Resolver"})," as a DNS proxy when connecting to Azure using a ",(0,i.jsx)(r.a,{href:"https://learn.microsoft.com/azure/vpn-gateway/point-to-site-about?WT.mc_id=AZ-MVP-5004796",title:"About Point-to-Site VPN",children:"Point to Site VPN"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(r.p,{children:["For this article, I assume you have an Azure Point to Site already set up; if you don't, you can refer to a previous article I wrote for ",(0,i.jsx)(r.a,{href:"https://luke.geek.nz/azure/create-azure-point-to-site-vpn-using-azure-active-directory-authentication/",title:"Create Azure Point to Site VPN using Microsoft Entra ID authentication",children:"Creating an Azure Point to Site VPN using Microsoft Entra ID authentication"}),"."]}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.em,{children:"Disclaimer: Azure Private DNS Resolver is still in Public Preview at the time of this article (02/09/2022). If you aim to use this in a Production scenario, functionality and services may change. This also means there are current"})," ",(0,i.jsx)(r.a,{href:"https://learn.microsoft.com/en-us/azure/dns/dns-private-resolver-overview?WT.mc_id=AZ-MVP-5004796#regional-availability",title:"Regional availability",children:(0,i.jsx)(r.em,{children:"regional restrictions"})}),(0,i.jsxs)(r.em,{children:[", and Azure Private DNS Resolver is not currently available in all regions. Also bear in mind the ",(0,i.jsx)(r.a,{href:"https://azure.microsoft.com/en-us/pricing/details/dns/?WT.mc_id=AZ-MVP-5004796",children:"cost"})," of this service."]})]}),"\n",(0,i.jsx)(r.h4,{id:"so-what-is-azure-dns-resolver",children:"So what is Azure DNS Resolver?"}),"\n",(0,i.jsxs)(r.blockquote,{children:["\n",(0,i.jsx)(r.p,{children:"Azure DNS private resolver is a cloud-native, highly available, and DevOps-friendly service. It provides a simple, zero-maintenance, reliable, and secure Domain Name System (DNS) service to resolve and conditionally forward DNS queries from a virtual network, on-premises, and to other target DNS servers without the need to create and manage a custom DNS solution. Resolve DNS names hosted in Azure Private DNS Zones from on-premises networks as well as DNS queries for your own domain names. This will make your DNS infrastructure work privately and seamlessly across on-premises networks and enable key hybrid networking scenarios."}),"\n"]}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.img,{alt:"Azure Private DNS Resolver",src:n(73125).A+"",title:"Azure Private DNS Resolver",width:"1024",height:"359"})}),"\n",(0,i.jsx)(r.p,{children:"Customers will no longer need to provision IaaS-based solutions on their virtual networks to resolve names registered on Azure Private DNS Zones and can do conditional forwarding of domains back to on-premises, across multi-cloud providers, and public DNS servers."}),"\n",(0,i.jsx)(r.p,{children:"This solution can work with your Azure ExpressRoute, Azure VPN, or Azure Bastion setup."}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.img,{alt:"Azure Private DNS Resolver",src:n(50968).A+"",title:"Azure Private DNS Resolver",width:"996",height:"761"})}),"\n",(0,i.jsx)(r.h4,{id:"inbound-or-outbound",children:"Inbound or Outbound?"}),"\n",(0,i.jsx)(r.p,{children:"Name resolution queries for Azure workloads from the on-premises network are conditionally forwarded to the Azure DNS private resolver inbound endpoint, which enables you to perform name resolution of workloads registered on Azure Private DNS Zones from on-premises."}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Endpoint"}),(0,i.jsx)(r.th,{children:"Blurb"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Inbound Endpoint"}),(0,i.jsx)(r.td,{children:"Azure DNS private resolver inbound endpoint that receives the name resolution request from Azure & on-premises network and resolve names."})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Outbound Endpoint"}),(0,i.jsx)(r.td,{children:"Azure DNS private resolver outbound endpoint conditionally forwards the request to on-premises or other target DNS servers."})]})]})]}),"\n",(0,i.jsx)(r.p,{children:"The Azure DNS private resolver inbound endpoint has a private IP that is part of a subnet where the endpoint has been created. The IP address of the DNS private resolver inbound endpoint is then set as a DNS server on the on-premises network."}),"\n",(0,i.jsx)(r.p,{children:"Azure DNS private resolver outbound endpoint conditionally forwards the request to on-premises or other target DNS servers."}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Today, we will connect to private endpoints to concentrate on the Inbound functionality of Azure Private DNS Resolver."})}),"\n",(0,i.jsx)(r.h3,{id:"deployment",children:"Deployment"}),"\n",(0,i.jsx)(r.p,{children:"To deploy Azure Private DNS Resolver, we will need a few things."}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"A Virtual Network"}),"\n",(0,i.jsxs)(r.li,{children:["A ",(0,i.jsx)(r.a,{href:"https://learn.microsoft.com/en-us/azure/dns/dns-private-resolver-overview#subnet-restrictions",title:"Subnet restrictions",children:"subnet"})," dedicated to resolving DNS queries ",(0,i.jsx)(r.em,{children:"(/28)"})]}),"\n",(0,i.jsxs)(r.li,{children:["A private endpoint ",(0,i.jsx)(r.em,{children:"(i.e. Storage Account, SQL Database)"})," is linked to the virtual network."]}),"\n"]}),"\n",(0,i.jsx)(r.h4,{id:"deploy-dns-private-resolver",children:"Deploy DNS Private Resolver"}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.em,{children:"I assume you already have a Virtual Network tied to your Virtual Network gateway as part of the '"}),(0,i.jsx)(r.a,{href:"https://luke.geek.nz/azure/create-azure-point-to-site-vpn-using-azure-active-directory-authentication/",title:"Create Azure Point to Site VPN using Microsoft Entra ID authentication ",children:(0,i.jsx)(r.em,{children:"Point to Site VPN"})}),(0,i.jsx)(r.em,{children:"' setup."})]}),"\n",(0,i.jsxs)(r.ol,{children:["\n",(0,i.jsxs)(r.li,{children:["Open the ",(0,i.jsx)(r.strong,{children:"Azure Portal"})]}),"\n",(0,i.jsxs)(r.li,{children:["Click on ",(0,i.jsx)(r.strong,{children:"+ Create a resource"})]}),"\n",(0,i.jsxs)(r.li,{children:["Type in: ",(0,i.jsx)(r.strong,{children:"DNS Private Resolver"})]}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.img,{alt:"Azure DNS Private Resolver",src:n(84272).A+"",title:"Azure DNS Private Resolver",width:"720",height:"406"})}),"\n",(0,i.jsxs)(r.li,{children:["Click ",(0,i.jsx)(r.strong,{children:"Create"})]}),"\n",(0,i.jsxs)(r.li,{children:["Select your ",(0,i.jsx)(r.strong,{children:"Subscription"})]}),"\n",(0,i.jsxs)(r.li,{children:["Select your ",(0,i.jsx)(r.strong,{children:"Resource Group"})," ",(0,i.jsx)(r.em,{children:"(I recommend placing the DNS Private Resolver in the same resource group as your Virtual Network - but place this service in a Resource Group that makes sense for your environment, i.e. shared services or a specific network team resource group)"})]}),"\n",(0,i.jsxs)(r.li,{children:["Type in a ",(0,i.jsx)(r.strong,{children:"name"})," for your DNS Private Resolver ",(0,i.jsx)(r.em,{children:"(this is a regional service, but the name does not need a globally unique )"})]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Select"})," your ",(0,i.jsx)(r.strong,{children:"region"})," ",(0,i.jsx)(r.em,{children:"(this needs to be the same region as the Virtual Network)"})]}),"\n",(0,i.jsxs)(r.li,{children:["Select your ",(0,i.jsx)(r.strong,{children:"Virtual Network"})," ",(0,i.jsx)(r.em,{children:"(the same Virtual Network that has your Virtual Network Gateway for the Point to Site VPN and your Private endpoints)"})]}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.img,{alt:"Create Azure Private DNS Resolver",src:n(83984).A+"",title:"Create Azure Private DNS Resolver",width:"1111",height:"952"})}),"\n",(0,i.jsxs)(r.li,{children:["Click ",(0,i.jsx)(r.strong,{children:"Next: Inbound Endpoints >"})]}),"\n",(0,i.jsxs)(r.li,{children:["Now its time to add our Inbound Endpoint and create the Private DNS Resolver Subnet, click ",(0,i.jsx)(r.strong,{children:"+ Add an endpoint"})]}),"\n",(0,i.jsxs)(r.li,{children:["Type in your ",(0,i.jsx)(r.strong,{children:"endpoint name"})," (",(0,i.jsx)(r.em,{children:"for example, InboundEndpoint)"})]}),"\n",(0,i.jsxs)(r.li,{children:["If you have already created a subnet, select it - else, click ",(0,i.jsx)(r.strong,{children:"Create New"})]}),"\n",(0,i.jsx)(r.li,{children:"Enter in your subnet name and address range"}),"\n",(0,i.jsxs)(r.li,{children:["Click ",(0,i.jsx)(r.strong,{children:"Save"})]}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.img,{alt:"Private DNS Resolver create subnet",src:n(69927).A+"",title:"Private DNS Resolver create subnet",width:"869",height:"820"})}),"\n",(0,i.jsxs)(r.li,{children:["Click ",(0,i.jsx)(r.strong,{children:"Review + Create"})]}),"\n",(0,i.jsxs)(r.li,{children:["Click ",(0,i.jsx)(r.strong,{children:"Create"})]}),"\n"]}),"\n",(0,i.jsx)(r.h4,{id:"adjust-point-to-site-dns",children:"Adjust Point to Site DNS"}),"\n",(0,i.jsx)(r.p,{children:"Now that the DNS Resolver has been created, with an inbound endpoint, allowing the lookup of private endpoints, we need to add the Private Resolver DNS relay to our point-to-site VPN configuration; first, we need the newly created private IP of the inbound endpoint."}),"\n",(0,i.jsxs)(r.ol,{children:["\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["Navigate to the ",(0,i.jsx)(r.a,{href:"https://portal.azure.com/#view/HubsExtension/BrowseResource/resourceType/Microsoft.Network%2FdnsResolvers",title:"DNS Private Resolvers",children:(0,i.jsx)(r.strong,{children:"DNS Private Resolver"})})," in the Azure Portal"]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"Open"})," your DNS Private ",(0,i.jsx)(r.strong,{children:"Resolver service"})]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["Click on ",(0,i.jsx)(r.strong,{children:"Inbound Endpoints"})]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["Make a note of the ",(0,i.jsx)(r.strong,{children:"private IP"})," of your inbound endpoint."]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.img,{alt:"Private DNS Resolver",src:n(47353).A+"",title:"Private DNS Resolver",width:"1344",height:"608"})}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["Now that the Private Inbound resolver has been configured, we need to add the DNS relay into our Azure VPN configuration so that our DNS queries will respond with a private endpoint; you will need to modify the '",(0,i.jsx)(r.a,{href:"https://learn.microsoft.com/en-us/azure/vpn-gateway/about-vpn-profile-download?WT.mc_id=AZ-MVP-5004796#generate",title:"Generate profile files",children:"azurevpnconfig.xml"}),"' file and reimport the VPN."]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:"Right-click 'azurevpnconfig.xml' and edit in Notepad or Visual Studio Code"}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:"Under: "}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"Add"})," ",(0,i.jsx)(r.em,{children:"(replace the IP listed below with the IP of your Inbound endpoint copied earlier)"}),":"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"<clientconfig>\n<dnsservers>\n<dnsserver>10.0.18.4</dnsserver>\n</dnsservers>\n</clientconfig>\n"})}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"Save"})," and ",(0,i.jsx)(r.strong,{children:"reimport"})," to the Azure VPN Client"]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:"Once connected, ping a resource behind a private endpoint, and you should get the private IP of that resource back and should be able to connect to that resource privately."}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.img,{alt:"Azure Private DNS Resolver ping",src:n(4974).A+"",title:"Azure Private DNS Resolver ping",width:"1625",height:"212"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(r.p,{children:["Any future or current private endpoints linked to the same Virtual Network will instantly be accessible without additional changes on the Azure VPN client.\nIf you have a Hub & Spoke topology, then you may place the DNS Private Resolver in the HUB, then use ",(0,i.jsx)(r.a,{href:"https://learn.microsoft.com/en-us/azure/dns/dns-private-resolver-get-started-portal?WT.mc_id=AZ-MVP-5004796#link-your-forwarding-ruleset-to-the-second-virtual-network",children:"forwarding rules"})," to link to other peered VNETs."]}),"\n",(0,i.jsx)(r.h3,{id:"additional-resources",children:"Additional resources"}),"\n",(0,i.jsx)(r.p,{children:"The third-party resources below include reading and learning about the Azure Private DNS Resolver."}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.a,{href:"https://learn.microsoft.com/en-us/azure/dns/dns-private-resolver-get-started-portal?WT.mc_id=AZ-MVP-5004796",title:"Quickstart: Create an Azure private DNS Resolver using the Azure portal",children:"Quickstart: Create an Azure private DNS Resolver using the Azure portal"})}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.a,{href:"https://learn.microsoft.com/en-us/learn/modules/intro-to-azure-dns-private-resolver/?WT.mc_id=AZ-MVP-5004796",title:"Intro to Azure DNS Private Resolver",children:"Intro to Azure DNS Private Resolver"})}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.a,{href:"https://github.com/dawlysd/azure-dns-private-resolver-microhack",title:"Azure DNS Private Resolver - MicroHack",children:"Azure DNS Private Resolver - MicroHack"})}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:"My Azure Private DNS Resolver Bicep export for reference:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"  param dnsResolvers_PrivateDNSResolver_name string = 'PrivateDNSResolver'\n  param virtualNetworks_vnettest_externalid string = '/subscriptions/57627713-eff2-44fa-a546-a2c8fde3c6e3/resourceGroups/pointtositetest/providers/Microsoft.Network/virtualNetworks/vnettest'\n\n  resource dnsResolvers_PrivateDNSResolver_name_resource 'Microsoft.Network/dnsResolvers@2020-04-01-preview' = {\n  name: dnsResolvers_PrivateDNSResolver_name\n  location: 'australiaeast'\n  properties: {\n  virtualNetwork: {\n    id: virtualNetworks_vnettest_externalid\n  }\n}\n  }\n          resource dnsResolvers_PrivateDNSResolver_name_InboundEndpoint 'Microsoft.Network/dnsResolvers/inboundEndpoints@2020-04-01-preview' = {\nparent: dnsResolvers_PrivateDNSResolver_name_resource\nname: 'InboundEndpoint'\nlocation: 'australiaeast'\n    }\n  ]\n}\n  }\n"})}),"\n"]}),"\n"]})]})}function u(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},84272:(e,r,n)=>{n.d(r,{A:()=>t});const t=n.p+"assets/images/azureportal_creatednsprivateresolver-33c258ace55eb68526f3922fee2af519.png"},47353:(e,r,n)=>{n.d(r,{A:()=>t});const t=n.p+"assets/images/azureportal_creatednsprivateresolverinboundendpointip-74c4c2319aca5b4e08d6bf74830e94a9.png"},83984:(e,r,n)=>{n.d(r,{A:()=>t});const t=n.p+"assets/images/azureportal_creatednsprivateresolverinitialpane-906b5f61558a146df1026d883cf8c346.png"},69927:(e,r,n)=>{n.d(r,{A:()=>t});const t=n.p+"assets/images/azureportal_creatednsprivateresolversubnet-c5317b1ede5669a85b8fec9e0128e0bc.png"},73125:(e,r,n)=>{n.d(r,{A:()=>t});const t=n.p+"assets/images/azureprivatednsresolver-4c404d86c4b02c7983291a85be0c88ab.png"},4974:(e,r,n)=>{n.d(r,{A:()=>t});const t=n.p+"assets/images/azurevpn_testprivateendpoint-792e91e84c0ad7f88d37f63e460edfdb.png"},50968:(e,r,n)=>{n.d(r,{A:()=>t});const t=n.p+"assets/images/dns-private-resolver-dcfc200b42cb3204440b0a61fa7696c7.png"},28453:(e,r,n)=>{n.d(r,{R:()=>o,x:()=>a});var t=n(96540);const i={},s=t.createContext(i);function o(e){const r=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(s.Provider,{value:r},e.children)}},82048:e=>{e.exports=JSON.parse('{"permalink":"/azure/azure-point-to-site-vpn-and-private-dns-resolver","source":"@site/blog/2022-09-02-azure-point-to-site-vpn-and-private-dns-resolver.md","title":"Azure Private DNS Resolver and Azure Point to Site VPN","description":"You might access resources such as Azure SQL databases or Azure Storage accounts if you\'re connecting to a Microsoft Azure network externally (from a non-Azure VM or VPN); mainly if you operate Cloud-only services and don\'t have an external DNS provider, such as Active Directory - connecting to private link resources, you may have to edit your local host\'s file and override local DNS to point to the IP of the private endpoint for each service.","date":"2022-09-02T00:00:00.000Z","tags":[{"inline":true,"label":"Azure","permalink":"/tags/azure"}],"readingTime":8.31,"hasTruncateMarker":false,"authors":[{"name":"Luke Murray","title":"Author","url":"https://luke.geek.nz","imageURL":"https://luke.geek.nz/img/logo.png","key":"Luke","page":null}],"frontMatter":{"date":"2022-09-02 00:00:00 +1200","title":"Azure Private DNS Resolver and Azure Point to Site VPN","authors":["Luke"],"tags":["Azure"],"toc":true,"header":{"teaser":"/uploads/azureprivatednsresolver.png"},"slug":"azure/azure-point-to-site-vpn-and-private-dns-resolver"},"unlisted":false,"prevItem":{"title":"InternalServerError when deploying Azure Firewall","permalink":"/azure/internalservererror-when-deploying-azure-firewall"},"nextItem":{"title":"IMS Payroll not opening as a published application in Azure Virtual Desktop","permalink":"/azure/ims-payroll-not-opening-as-a-published-application-in-azure-virtual-desktop"}}')}}]);